<script language=JavaScript>m='%09%3C%21DOCTYPE%20html%3E%0D%0A%09%3Chtml%20manifest%3D%22demo.manifest%22%3E%0D%0A%09%20%0D%0A%09%3Chead%3E%0D%0A%09%09%3Cmeta%20http-equiv%3D%5C%22refresh%5C%22%20content%3D%5C%221%5C%22%3E%0D%0A%09%09%09%20%3Ctitle%3ESHIPNUMERICS%3C/title%3E%09%20%0D%0A%09%20%0D%0A%09%09%0D%0A%09%3C/head%3E%0D%0A%09%0D%0A%09%0D%0A%09%20%20%0D%0A%20%20%3Cscript%20type%3D%22text/javascript%22%3E%20%20%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%20%0D%0A%20%20%20%20%20%20%20%20//https%3A//www.3dflow.net/3df-zephyr-free/%0D%0A%09%09function%20animate%28%29%20%7B%0D%0A%09%09%09requestAnimationFrame%28animate%29%3B%20%09water.render%28%29%3B%0D%0A%09%09%09%0D%0A%09%09%09camera.matrix.extractBasis%28right%2Cup%2Cat%29%3B%09%0D%0A%09%09%09if%28directions.forward%29%20%20%7B%20camera.position.add%28at.multiplyScalar%28-1%29%29%3B%20%20%20%20%20camera.matrix.extractBasis%28right%2Cup%2Cat%29%3B%20%7D%0D%0A%09%09%09if%28directions.backward%29%20%7B%20camera.position.add%28at.multiplyScalar%281%29%29%3B%20%20%20%20%20%20camera.matrix.extractBasis%28right%2Cup%2Cat%29%3B%20%7D%0D%0A%09%09%09if%28directions.left%29%20%20%20%20%20%7B%20camera.position.add%28right.multiplyScalar%28-1%29%29%3B%20%20camera.matrix.extractBasis%28right%2Cup%2Cat%29%3B%20%7D%0D%0A%09%09%09if%28directions.right%29%20%20%20%20%7B%20camera.position.add%28right.multiplyScalar%281%29%29%3B%20%20%20camera.matrix.extractBasis%28right%2Cup%2Cat%29%3B%20%7D%09%09%0D%0A%09%09%09%09%0D%0A%09%09%09renderer.render%28scene%2C%20camera%29%3B%0D%0A%09%09%09controls.update%28%29%3B%0D%0A%09%09%09//water.material.uniforms.time.value%20+%3D%20%205*clock.getDelta%28%29%3B%20%20%20%09%09//water.material.uniforms.time.value%20+%3D%201.0%20/%2040.0%3B%20%09%09%0D%0A%09%09%7D%20%0D%0A%09%0D%0A%09%09function%20onKeyDown%28e%29%20%7B%0D%0A%09%09%09switch%28e.keyCode%29%20%7B%0D%0A%09%09%09%09case%2037%3A%20//%20Left%0D%0A%09%09%09%09case%2081%3A%20directions.left%20%3D%20true%3B%20%20%20%20%20%20break%3B%20//%20Q%0D%0A%09%09%09%09case%2038%3A%20//%20Up%0D%0A%09%09%09%09case%2090%3A%20directions.forward%20%3D%20true%3B%20%20%20break%3B%20//%20Z%0D%0A%09%09%09%09case%2039%3A%20//%20Right%0D%0A%09%09%09%09case%2068%3A%20directions.right%20%3D%20true%3B%20%20%20%20%20break%3B//%20D%0D%0A%09%09%09%09case%2040%3A%20//%20Down%0D%0A%09%09%09%09case%2083%3A%20directions.backward%20%3D%20true%3B%20%20break%3B%20//%20S%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09%20%0D%0A%09%09function%20onKeyUp%28e%29%20%7B%0D%0A%09%09%09switch%28e.keyCode%29%20%7B%0D%0A%09%09%09%09case%2037%3A%20//%20Left%0D%0A%09%09%09%09case%2081%3A%20directions.left%20%3D%20false%3B%20%20%20%20%20break%3B//%20Q%0D%0A%09%09%09%09case%2038%3A%20//%20Up%0D%0A%09%09%09%09case%2090%3A%20directions.forward%20%3D%20false%3B%20%20break%3B%20//%20Z%0D%0A%09%09%09%09case%2039%3A%20//%20Right%0D%0A%09%09%09%09case%2068%3A%20directions.right%20%3D%20false%3B%20%20%20%20%20break%3B%20//%20D%0D%0A%09%09%09%09case%2040%3A%20//%20Down%0D%0A%09%09%09%09case%2083%3A%20directions.backward%20%3D%20false%3B%20%20break%3B%20//%20S%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%09%09//spline%20interpolation%20///////////////////////////////////////////////////////////////////%20%0D%0A%09%09function%20spline20%28x%2C%20xs%2C%20ys%29%20%7B%0D%0A%09%09%20%20var%20ks%20%3D%20xs.map%28function%28%29%7Breturn%200%7D%29%0D%0A%09%09%20%20ks%20%3D%20getNaturalKs%28xs%2C%20ys%2C%20ks%29%0D%0A%09%09%20%20var%20i%20%3D%201%3B%0D%0A%09%09%20%20while%28xs%5Bi%5D%3Cx%29%20i++%3B%0D%0A%09%09%20%20var%20t%20%3D%20%28x%20-%20xs%5Bi-1%5D%29%20/%20%28xs%5Bi%5D%20-%20xs%5Bi-1%5D%29%3B%0D%0A%09%09%20%20var%20a%20%3D%20%20ks%5Bi-1%5D*%28xs%5Bi%5D-xs%5Bi-1%5D%29%20-%20%28ys%5Bi%5D-ys%5Bi-1%5D%29%3B%0D%0A%09%09%20%20var%20b%20%3D%20-ks%5Bi%5D*%28xs%5Bi%5D-xs%5Bi-1%5D%29%20+%20%28ys%5Bi%5D-ys%5Bi-1%5D%29%3B%0D%0A%09%09%20%20var%20q%20%3D%20%281-t%29*ys%5Bi-1%5D%20+%20t*ys%5Bi%5D%20+%20t*%281-t%29*%28a*%281-t%29+b*t%29%3B%0D%0A%09%09%20%20return%20q%3B%0D%0A%09%09%7D%0D%0A%0D%0A%0D%0A%09%09function%20getNaturalKs%20%28xs%2C%20ys%2C%20ks%29%20%7B%0D%0A%09%09%20%20var%20n%20%3D%20xs.length-1%3B%0D%0A%09%09%20%20var%20A%20%3D%20zerosMat%28n+1%2C%20n+2%29%3B%0D%0A%09%09%09%0D%0A%09%09%20%20for%28var%20i%3D1%3B%20i%3Cn%3B%20i++%29%20%20//%20rows%0D%0A%09%09%20%20%7B%0D%0A%09%09%09A%5Bi%5D%5Bi-1%5D%20%3D%201/%28xs%5Bi%5D%20-%20xs%5Bi-1%5D%29%3B%0D%0A%09%09%09A%5Bi%5D%5Bi%5D%20%3D%202%20*%20%281/%28xs%5Bi%5D%20-%20xs%5Bi-1%5D%29%20+%201/%28xs%5Bi+1%5D%20-%20xs%5Bi%5D%29%29%20%3B%0D%0A%09%09%09A%5Bi%5D%5Bi+1%5D%20%3D%201/%28xs%5Bi+1%5D%20-%20xs%5Bi%5D%29%3B%0D%0A%09%09%09A%5Bi%5D%5Bn+1%5D%20%3D%203*%28%20%28ys%5Bi%5D-ys%5Bi-1%5D%29/%28%28xs%5Bi%5D%20-%20xs%5Bi-1%5D%29*%28xs%5Bi%5D%20-%20xs%5Bi-1%5D%29%29%20%20+%20%20%28ys%5Bi+1%5D-ys%5Bi%5D%29/%20%28%28xs%5Bi+1%5D%20-%20xs%5Bi%5D%29*%28xs%5Bi+1%5D%20-%20xs%5Bi%5D%29%29%20%29%3B%0D%0A%09%09%20%20%7D%0D%0A%09%09%20%20%0D%0A%09%09%20%20A%5B0%5D%5B0%5D%20%3D%202/%28xs%5B1%5D%20-%20xs%5B0%5D%29%3B%0D%0A%09%09%20%20A%5B0%5D%5B1%5D%20%3D%201/%28xs%5B1%5D%20-%20xs%5B0%5D%29%3B%0D%0A%09%09%20%20A%5B0%5D%5Bn+1%5D%20%3D%203%20*%20%28ys%5B1%5D%20-%20ys%5B0%5D%29%20/%20%28%28xs%5B1%5D-xs%5B0%5D%29*%28xs%5B1%5D-xs%5B0%5D%29%29%3B%0D%0A%09%09%20%20%0D%0A%09%09%20%20A%5Bn%5D%5Bn-1%5D%20%3D%201/%28xs%5Bn%5D%20-%20xs%5Bn-1%5D%29%3B%0D%0A%09%09%20%20A%5Bn%5D%5Bn%5D%20%3D%202/%28xs%5Bn%5D%20-%20xs%5Bn-1%5D%29%3B%0D%0A%09%09%20%20A%5Bn%5D%5Bn+1%5D%20%3D%203%20*%20%28ys%5Bn%5D%20-%20ys%5Bn-1%5D%29%20/%20%28%28xs%5Bn%5D-xs%5Bn-1%5D%29*%28xs%5Bn%5D-xs%5Bn-1%5D%29%29%3B%0D%0A%09%09%09%0D%0A%09%09%20%20return%20solve%28A%2C%20ks%29%3B%20%20%20%20%0D%0A%09%09%7D%0D%0A%0D%0A%0D%0A%09%09function%20solve%20%28A%2C%20ks%29%20%7B%0D%0A%09%09%20%20var%20m%20%3D%20A.length%3B%0D%0A%09%09%20%20for%28var%20k%3D0%3B%20k%3Cm%3B%20k++%29%20%20//%20column%0D%0A%09%09%20%20%7B%0D%0A%09%09%09//%20pivot%20for%20column%0D%0A%09%09%09var%20i_max%20%3D%200%3B%20var%20vali%20%3D%20Number.NEGATIVE_INFINITY%3B%0D%0A%09%09%09for%28var%20i%3Dk%3B%20i%3Cm%3B%20i++%29%20if%28A%5Bi%5D%5Bk%5D%3Evali%29%20%7B%20i_max%20%3D%20i%3B%20vali%20%3D%20A%5Bi%5D%5Bk%5D%3B%7D%0D%0A%09%09%09swapRows%28A%2C%20k%2C%20i_max%29%3B%20%20%20%20%0D%0A%09%09%09%0D%0A%09%09%09//%20for%20all%20rows%20below%20pivot%0D%0A%09%09%09for%28var%20i%3Dk+1%3B%20i%3Cm%3B%20i++%29%0D%0A%09%09%09%7B%0D%0A%09%09%09%20%20for%28var%20j%3Dk+1%3B%20j%3Cm+1%3B%20j++%29%0D%0A%09%09%09%09A%5Bi%5D%5Bj%5D%20%3D%20A%5Bi%5D%5Bj%5D%20-%20A%5Bk%5D%5Bj%5D%20*%20%28A%5Bi%5D%5Bk%5D%20/%20A%5Bk%5D%5Bk%5D%29%3B%0D%0A%09%09%09%09A%5Bi%5D%5Bk%5D%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%20%20%7D%0D%0A%09%09%20%20for%28var%20i%3Dm-1%3B%20i%3E%3D0%3B%20i--%29%20//%20rows%20%3D%20columns%0D%0A%09%09%20%20%7B%0D%0A%09%09%09var%20v%20%3D%20A%5Bi%5D%5Bm%5D%20/%20A%5Bi%5D%5Bi%5D%3B%0D%0A%09%09%09ks%5Bi%5D%20%3D%20v%3B%0D%0A%09%09%09for%28var%20j%3Di-1%3B%20j%3E%3D0%3B%20j--%29%20//%20rows%0D%0A%09%09%09%7B%0D%0A%09%09%09%20%20A%5Bj%5D%5Bm%5D%20-%3D%20A%5Bj%5D%5Bi%5D%20*%20v%3B%0D%0A%09%09%09%20%20A%5Bj%5D%5Bi%5D%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%20%20%7D%0D%0A%09%09%20%20return%20ks%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09function%20zerosMat%20%28r%2Cc%29%20%7B%0D%0A%09%09%20%20var%20A%20%3D%20%5B%5D%3B%20%0D%0A%09%09%20%20for%28var%20i%3D0%3B%20i%3Cr%3B%20i++%29%20%7B%0D%0A%09%09%09A.push%28%5B%5D%29%3B%20%0D%0A%09%09%09for%28var%20j%3D0%3B%20j%3Cc%3B%20j++%29%20A%5Bi%5D.push%280%29%3B%0D%0A%09%09%20%20%7D%20%0D%0A%09%09%20%20return%20A%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09function%20swapRows%20%28m%2C%20k%2C%20l%29%20%7B%0D%0A%09%09%20%20var%20p%20%3D%20m%5Bk%5D%3B%20m%5Bk%5D%20%3D%20m%5Bl%5D%3B%20m%5Bl%5D%20%3D%20p%3B%0D%0A%09%09%7D%0D%0A%09%09%09%0D%0A%09%09%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%09%09//linear%20interpolation%20///////////////////////////////////////////////////////////////////%20%0D%0A%20%20%09%09function%20Interpol%28i%2Cxi%2Cyi%2Cx0%29%20%7B%0D%0A%09%09%09%20var%20Dlta%20%3D%20%28yi%5Bi%5D%20-%20yi%5Bi%20-%201%5D%29%20/%20%28xi%5Bi%5D%20-%20xi%5Bi%20-%201%5D%29%3B%0D%0A%09%09%09%20var%20y%20%3D%20yi%5Bi%20-%201%5D%20+%20%28x0%20-%20xi%5Bi%20-%201%5D%29%20*%20Dlta%20%3B%0D%0A%09%09%20%20%20%20%20return%20y%20%3B%0D%0A%20%20%20%20%20%09%09//var%20Dlta%20%3D%20%28D0%5Bi%5D-%20D0%5Bi-1%5D%29%20/%20%28T0%5Bi%5D-%20T0%5Bi-1%5D%29%20%3B%20//PANTO%5B...%5D%5B0%5D%20column%20of%20displacement%0D%0A%09%09%09//Dep0%20%3D%20D0%5Bi-1%5D%20+%20%28Draft%20-%20T0%5Bi-1%5D%29*Dlta%20%3B%20%0D%0A%09%09%7D%0D%0A%20%0D%0A%20%0D%0A%20%09%09//Area%20Integral///////////////////////////////////////////////////////////////////%0D%0A%09%09function%20trapezeArea%28dx%2C%20GZ%2C%20numPoints%29%20%7B%20//this%20function%20is%20specially%20for%20GZ%20curve%20area%20%26%20heeling%20curves%20areas%0D%0A%09%09%09var%20surf%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20cumulative%20integral%3Astep%20by%20step%0D%0A%09%09%09for%20%28i%3D0%3B%20i%3C%20numPoints%3B%20i++%29%7B%20%0D%0A%09%09%09%20%20%20%20var%20y0%20%3D%20GZ%5Bi%5D%20%7C%7C%200%20%3B%0D%0A%09%09%09%09if%20%20%20%28%20i%20%3D%3D%200%20%7C%7C%20i%20%3D%3D%20numPoints%29%20surf%20%3D%20surf%20+%20y0/2%20%3B%20//%20for%20the%20first%20and%20last%20data%0D%0A%20%20%20%20%09%09%09else%20surf%20%3D%20surf%20+%20y0%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20for%20the%20rest%20of%20data%0D%0A%09%09%09%7D%0D%0A%09%09%09surf%20%3D%20surf*dx%3B%0D%0A%09%09%09return%20surf%20%3B%0D%0A%09%09%7D%20%0D%0A%0D%0A%09%09function%20trapezeArea2%28%20GZ%2C%20numPoints%29%20%09%7B%20//this%20function%20is%20specially%20for%20GZ%20curve%20surf%20%26%20heeling%20curves%20surfs%0D%0A%09%09%20%20%20%20var%20sum%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20at%20once%20integral%3Aone%20call%0D%0A%09%09%09var%20surf%20%3D%5B%5D%3B%20%20%20%20%20%20%20%20%20//%20Accumulates%20surf%20in%20the%20loop%0D%0A%09%09%09for%20%28var%20j%3D2%3B%20j%3C%20numPoints%3B%20j++%29%7B%20%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//document.getElementById%28%22container3%22%29.innerHTML%20+%3D%20%27surfGZ%20%20%20%20%20%27%20+%20%27%20%20%27%20%20+%20j%20+%20%27%20%20%27%20%20+%20numPoints%20%3B%20%20%09%09%09%0D%0A%09%09%09%09for%20%28var%20i%3D0%3B%20i%3C%20j%3B%20i++%29%7B%20%0D%0A%09%09%09%09%20%20%20%20var%20y0%20%3D%20GZ%5Bi%5D%20%7C%7C%200%20%3B%0D%0A%09%09%09%09%09if%20%20%20%28%20i%20%3D%3D%200%20%7C%7C%20i%20%3D%3D%20j%29%20sum%20%3D%20sum%20+%20y0/2%20%3B%20//%20for%20the%20first%20and%20last%20data%0D%0A%09%09%09%09%09else%20sum%20%3D%20sum%20+%20y0%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20for%20the%20rest%20of%20data%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%20%20%20%20surf%5Bj%5D%20%3D%20sum*Math.PI/180%3B%09%0D%0A%09%09%09%7D%09%09%09%0D%0A%09%09%09return%20surf%20%3B%0D%0A%09%09%7D%20%09%0D%0A%20%20%0D%0A%20%20%20%20%09%09%0D%0A%20%09%09function%20polygonArea%28X%2C%20Y%2C%20numPoints%29%20%09%7B%20//http%3A//alienryderflex.com/polygon_area/%0D%0A%09%09%09var%20surf%20%3D%200%3B%20%20%20%20%20%20%20%20%20//%20Accumulates%20surf%20in%20the%20loop%0D%0A%09%09%09var%20j%20%3D%20numPoints-1%3B%20%20//%20The%20last%20vertex%20is%20the%20%27previous%27%20one%20to%20the%20first%0D%0A%0D%0A%09%09%09for%20%28var%20i%3D0%3B%20i%3CnumPoints%3B%20i++%29%7B%20%0D%0A%09%09%09%20%20%20%20surf%20%3D%20surf%20+%20%20%28X%5Bj%5D+X%5Bi%5D%29%20*%20%28Y%5Bj%5D-Y%5Bi%5D%29%3B%20%0D%0A%09%09%09%20%20%20%20j%20%3D%20i%3B%20%20//j%20is%20previous%20vertex%20to%20i%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20surf/2%3B%0D%0A%09%09%7D%0D%0A%20%0D%0A%09%09function%20numerical_int%28dx%2C%20y_array%29%20%7B%0D%0A%09%09%09var%20maxy%20%3D%20Math.max.apply%28null%2C%20y_array%29%3B%0D%0A%09%09%09var%20dy_array%20%3D%20y_array.map%28function%28num%29%20%7B%0D%0A%09%09%09%09return%20Math.abs%28maxy%20-%20num%29%3B%0D%0A%09%09%09%7D%29%3B%0D%0A%09%09%09%0D%0A%09%09%20%0D%0A%09%09%09var%20profile_integral%20%3D%200%3B%0D%0A%09%09%09var%20n%20%3D%20dy_array.length%3B%0D%0A%09%09%09for%20%28i%20%3D%201%3B%20i%20%3C%20n%3B%20i++%29%20%7B%0D%0A%09%09%09%09var%20dy_init%20%3D%20dy_array%5Bi%20-%201%5D%3B%0D%0A%09%09%09%09var%20dy_end%20%3D%20dy_array%5Bi%5D%3B%0D%0A%09%09%09%09var%20darea%20%3D%20dx%20*%20%28dy_init%20+%20dy_end%29%20/%202.%3B%0D%0A%09%09%09%09profile_integral%20%3D%20profile_integral%20+%20darea%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20profile_integral%3B%0D%0A%09%09%7D%09%09%0D%0A%09%20%0D%0A%09%0D%0A%09%09function%20polygonsurf2%28vertices%29%20%7B%0D%0A%09%09%09var%20total%20%3D%200%3B%0D%0A%0D%0A%09%09%09for%20%28var%20i%20%3D%200%2C%20l%20%3D%20vertices.length%3B%20i%20%3C%20l%3B%20i++%29%20%7B%0D%0A%09%09%09%20%20var%20addX%20%3D%20vertices%5Bi%5D.x%3B%0D%0A%09%09%09%20%20var%20addY%20%3D%20vertices%5Bi%20%3D%3D%20vertices.length%20-%201%20%3F%200%20%3A%20i%20+%201%5D.y%3B%0D%0A%09%09%09%20%20var%20subX%20%3D%20vertices%5Bi%20%3D%3D%20vertices.length%20-%201%20%3F%200%20%3A%20i%20+%201%5D.x%3B%0D%0A%09%09%09%20%20var%20subY%20%3D%20vertices%5Bi%5D.y%3B%0D%0A%0D%0A%09%09%09%20%20total%20+%3D%20%28addX%20*%20addY%20*%200.5%29%3B%09%09%20%20total%20-%3D%20%28subX%20*%20subY%20*%200.5%29%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09return%20Math.abs%28total%29%3B%0D%0A%09%09%7D%09%0D%0A%09%09%20%0D%0A%09%09//Simpson%20///////////////////////////////////////////////////////////////////%0D%0A%09%09function%20Simpson%28xn%2C%20yn%29%20%7B%0D%0A%09%09%09var%20n%3D20%20%3B%09%09%0D%0A%09%09%20%20%20%20var%20h%20%3D%20abs%28%28xn%5B0%5D%20-%20xn%5Bxn.length-1%5D%29%20/%20n%29%20%3B%09%0D%0A%09%09%09var%20yspectr%20%3D%20%5B%5D%2C%20xspectr%20%3D%20%5B%5D%2C%20M00%20%3D%20%5B%5D%20%3B%20%0D%0A%09%09%09var%20m0%3D0%2C%20Sum02%3D0%2C%20Sum22%3D0%2C%20Sum44%3D0%20%3B%20%20//%20m0%20partial%20sum%20%2C%20while%20Sum02%2C%20Sum22%2C%20Sum44%20are%20cumultives%0D%0A%20%20%20%20%20%20%20%20%09yspectr%5B0%5D%20%3D%20yn%5B0%5D%20%3B%0D%0A%20%09%09%09//Equalizer%20process%20even%20equal%20interval%0D%0A%09%09%09for%20%28var%20i%20%3D%201%3B%20i%20%3C%20xn.length%3B%20i++%29%20%7B%0D%0A%09%09%09%20%20%20%20xspectr%5Bi%5D%20%3D%20xn%5B0%5D%20+%20i*h%3B%20%0D%0A%09%09%09%20%20%20%20yspectr%5Bi%5D%20%3D%20%28yn%5Bi-1%5D+%28xspectr%5Bi%5D-xn%5Bi-1%5D%29%29*%28yn%5Bi%5D-yn%5Bi-1%5D%29%20/%20%28xn%5Bi%5D-xn%5Bi-1%5D%29%20%3B//%20linear%20interpolation%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%09%09%0D%0A%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//Simpson%20process%20%20Integral%20%3D%20%20*%28%28y0%20+%20yn%20%29%20+4%28y1%20+%20y3%20+%20%u2026%u2026%u2026.+%20yn-1%20%29%20+%202%28y2%20+%20y4%20+%u2026%u2026%u2026.+%20yn-2%20%29%29%0D%0A%09%09%09for%28var%20i%20%3D%201%3B%20i%20%3C%20n%3B%20i++%29%20%7B%09%0D%0A%09%09%09%09if%20%28i%20%25%202%20%3D%3D%201%29%20%20%20%7Bm0%20%3D%204*yspectr%5Bi%5D%3B%20%7D%0D%0A%09%09%09%09else%20%09%09%09%20%20%7Bm0%20%3D%202*yspectr%5Bi%5D%3B%20%7D%0D%0A%09%09%09%09Sum02%20%3D%20Sum02%20+%20m0%20%3B%0D%0A%09%09%09%20%20%20%20var%20w%20%3D%20xn%5Bi%5D%20%3B%09%09%09%09%0D%0A%09%09%09%09var%20m2%20%3D%20pow%28w%2C2%29%20*%20m0%3B%20%09Sum22%20+%3D%20m2%3B%20%20//%27%27%27We%5E2%20*%20Sum0%0D%0A%09%09%09%09var%20m4%20%3D%20pow%28w%2C2%29%20*%20m2%3B%20%09Sum44%20+%3D%20m4%20%3B%20%20%20//%20%27We%5E2%20*%20Sum2%0D%0A%09%09%09%7D%0D%0A%09%09%09//--------------------1/3%20simpson%20multiplier---------------------------------%0D%0A%09%09%09//Sum02%20%3D%20%28Sum02%20+%20yspectr%5B1%5D%20+%20yspectr%5Bxn.length-1%5D%29%20*%20h%20/%203%20%3B%09//M00.push%28%28Sum02%29%29%3B%0D%0A%09%09%09Sum02%20%3D%20%28Sum02%20+%20yspectr%5B0%5D%20+%20yspectr%5Bn-1%5D%29%20*%20h/3%3B%09%20M00.push%28%280+Sum02%29%29%3B%09%09%09%0D%0A%09%09%09Sum22%20%3D%20%28Sum22%20+%20yspectr%5B0%5D%20+%20yspectr%5Bn-1%5D%29%20*%20h/3%3B%09%20M00.push%28%280+Sum22%29%29%3B%0D%0A%09%09%09Sum44%20%3D%20%28Sum44%20+%20yspectr%5B0%5D%20+%20yspectr%5Bn-1%5D%29%20*%20h/3%3B%09%20M00.push%28%280+Sum44%29%29%3B%0D%0A%09%09%09//document.getElementById%28%27container32%27%29.innerHTML%20+%3D%20%27%3Cpre%3E%27%20+%20%27%3CBR%3E%27%20+%20%27%20%20%27%20+%20Sum02%20+%20%27%20%20%20%27%20+%20%20Sum22%20%20+%20%27%20%20%20%27%20+%20%20Sum44%3B%09%09%09%09%09%20%0D%0A%09%09return%20M00%20%3B%20%0D%0A%09%09%7D%09%0D%0A%09%09%09%09%09%09%09%0D%0A%09%09//%20Find%20the%20polygon%27s%20centroid.%20////////////////////////////////////////////////////////%0D%0A%09%09function%20FindCentroid%28X%2C%20Y%2C%20numPoints0%29%20//%20http%3A//csharphelper.com/blog/2014/07/find-the-centroid-of-a-polygon-in-c/%0D%0A%09%09%7B%0D%0A%09%09%09//%20Add%20the%20first%20point%20at%20the%20end%20of%20the%20array.%0D%0A%09%09%20//%09int%20num_points%20%3D%20Points.Length%3B%0D%0A%09%09%09//PointF%5B%5D%20pts%20%3D%20new%20PointF%5Bnum_points%20+%201%5D%3B%0D%0A%09%09//%09Points.CopyTo%28pts%2C%200%29%3B%0D%0A%09%09//%09pts%5Bnum_points%5D%20%3D%20Points%5B0%5D%3B%0D%0A%0D%0A%09%09%09//%20Find%20the%20centroid.%0D%0A%09%09%09var%20XX%20%3D%200%3B%0D%0A%09%09%09var%20YY%20%3D%200%3B%0D%0A%09%09%09var%20second_factor%3D0%3B%0D%0A%09%09%09var%20num_points%3D10%3B%0D%0A%09%09%20%09for%20%28var%20i%20%3D%200%3B%20i%20%3C10%3B%20i++%29%20//num_points%0D%0A%09%09%20%09%7B%0D%0A%09%09%20%09%09//second_factor%20%3D%09pts%5Bi%5D.X%20*%20pts%5Bi%20+%201%5D.Y%20-%20pts%5Bi%20+%201%5D.X%20*%20pts%5Bi%5D.Y%3B%0D%0A%09%09%20%09%09//X%20+%3D%20%28pts%5Bi%5D.X%20+%20pts%5Bi%20+%201%5D.X%29%20*%20second_factor%3B%0D%0A%09%09%20%09%09//Y%20+%3D%20%28pts%5Bi%5D.Y%20+%20pts%5Bi%20+%201%5D.Y%29%20*%20second_factor%3B%0D%0A%09%09%09%09second_factor%20%3D%09X%5Bi%5D%20*%20Y%5Bi%20+%201%5D%20-%20X%5Bi%20+%201%5D%20*%20Y%5Bi%5D%3B%0D%0A%09%09%20%09%09XX%20+%3D%20%28X%5Bi%5D%20+%20X%5Bi%20+%201%5D%29%20*%20second_factor%3B%0D%0A%09%09%20%09%09YY%20+%3D%20%28Y%5Bi%5D%20+%20Y%5Bi%20+%201%5D%29%20*%20second_factor%3B%0D%0A%09%09%20%09%7D%0D%0A%09%09%09%0D%0A%09%09%09%0D%0A%09%09%09//%20Divide%20by%206%20times%20the%20polygon%27s%20area.%0D%0A%09%09//%09var%20polygon_area%20%3D%20PolygonArea%28%29%3B%0D%0A%09%09//%09X%20/%3D%20%286%20*%20polygon_area%29%3B%09%09%09Y%20/%3D%20%286%20*%20polygon_area%29%3B%0D%0A%09%09%09//%20If%20the%20values%20are%20negative%2C%20the%20polygon%20is%0D%0A%09%09%09//%20oriented%20counterclockwise%20so%20reverse%20the%20signs.%0D%0A%09%09//%09if%20%28X%20%3C%200%29%0D%0A%09%09//%09%7B%0D%0A%09%09//%09%09X%20%3D%20-X%3B%09Y%20%3D%20-Y%3B%0D%0A%09%09//%09%7D%0D%0A%0D%0A%09%09%20%09return%20new%20second_factor%20//PointF%28X%2C%20Y%29%3B%0D%0A%09%09%7D%0D%0A%20%0D%0A%20%09%09//Periode%20///////////////////////////////////////////////////////////////////%20%0D%0A%09%09function%20Periode%28ts%29%20%7B%20//https%3A//github.com/corbanbrook/dsp.js%0D%0A%09%09%09%09%0D%0A%09%09%09%09if%20%09%28SIMMON.limit0%20%3C%20SIMMON.samlpeSize%29%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//if%20samlpes%20%3C%20%20SIMMON.samlpeSize%20%20%0D%0A%09%09%09%09%09SIMMON.signalTime%5BSIMMON.limit0%5D%3D%20ts%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Populate%20SIMMON.limit0%20%20Array%0D%0A%09%09%09%09%09//SIMMON.signalrandom%5BSIMMON.limit0%5D%3D%20SIMMON.Troll*PI/180%3B%0D%0A%09%09%09%09%09SIMMON.signalrandom%5BSIMMON.limit0%5D%3D%20SIMMON.Troll%20%3B%20%20%20%20%20%20%20%20%20%20//%20Populate%20SIMMON.signalrandom%20Array%0D%0A%09%09%09%09%0D%0A%09%09%09%09%09//SIMMON.signalTime.push%28ts%29%20%20%3B%20SIMMON.signalrandom.push%28SIMMON.Troll%29%20%3B%20%20//Does%20not%20work%0D%0A%09%09%09%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%20%22Elapsed%20Time%20%22%20+%20Math.round%28SIMMON.signalTime%5BSIMMON.limit0%5D%29%20%3B%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%20%22roll%20%22%20+%20SIMMON.encounter_frequency%20%3B%20%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09%0D%0A//------------------------------------------------------------------------------------------------%09%0D%0A%20%20//ROLL%20DAMPING%20%20___________________________________________________________________________________%0D%0A%09var%20NBrtn%20%3D%20%5B%5D%20%3B%0D%0A%09var%20Mult%20%3D%20-1%3B%0D%0A%09//var%20PhimTab%20%3D%20%5B%5D%2CdPhiTab%20%3D%20%5B%5D%2CNBrtnTab%20%3D%20%5B%5D%20%3B%0D%0A%09var%20i%3DSIMMON.limit0%3B%0D%0A%09var%20SNG%20%3D%20Math.sign%28%20SIMMON.signalrandom%5Bi%5D%20-%20SIMMON.signalrandom%5Bi-1%5D%29%09%0D%0A%09//%20SIMMON.BERTINpos%20%3D%200%3B%20%20%20timeSeries.data%20%3D%20%5B%5D%3B%0D%0A%09//%20SIMMON.BERTINneg%20%3D%200%3B%0D%0A%20%20%0D%0A%09if%20%28SNG%20%3D%3D%20-SIMMON.MULT0%29%20//%20Advise%3AWhen%20curve%20coordinates%20Diff%20Change%20sign%20%0D%0A%09%7B%20%20%20//IKEDA%20Prediction%20Of%20Ship%20Roll%20Damping%20Fortran%20Code.pdf%20p%2026%0D%0A%09%09//TSTTab%5Bcnt%5D%3DSNG%3B%0D%0A%09%09%0D%0A%09%09if%20%28SIMMON.signalrandom%5Bi%5D%20%3E%200%29%20SIMMON.BERTINpos%20%3D%201*SIMMON.signalrandom%5Bi%5D%3B%0D%0A%09%09if%20%28SIMMON.signalrandom%5Bi%5D%20%3C%200%29%20SIMMON.BERTINneg%20%3D%201*SIMMON.signalrandom%5Bi%5D%3B%0D%0A%09%09setInterval%28function%28%29%7B%20line4.append%28new%20Date%28%29%20%2C%20%20-SIMMON.BERTINpos%20%20%29%3B%20%7D%2C%2020%29%3B%20//%20Wave%20signal%20%09%0D%0A%09%09setInterval%28function%28%29%7B%20line5.append%28new%20Date%28%29%20%2C%20%20-SIMMON.BERTINneg%20%20%29%3B%20%7D%2C%2020%29%3B%20//%20Wave%20signal%20%09%09%0D%0A%0D%0A%09%09%0D%0A%09%09SIMMON.MULT0%3D-SIMMON.MULT0%20%3B%0D%0A%09%09SIMMON.Phim%20%3D%20%28Math.abs%28SIMMON.signalrandom%5Bi%5D%29%20+%20Math.abs%28SIMMON.signalrandom%5Bi-1%5D%29%29%20/%202%20%3B%20%20%20%20%20//%20%u03D5m%20%3D%20%28%u03D5i+%u03D5i-1%29/2%20%0D%0A%09%09SIMMON.dPhi%20%3D%20Math.abs%28SIMMON.signalrandom%5Bi%5D%20-%20SIMMON.signalrandom%5Bi-1%5D%29%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20d%u03D5%20%3D%20%28%u03D5i-%u03D5i-1%29%20%20%20%0D%0A%09%09SIMMON.NBrtn%20%3D%20SIMMON.dPhi/%28SIMMON.Phim*SIMMON.Phim%29%20%3B%0D%0A%09%09%0D%0A%09%09SIMMON.PhimTab%5Bi%5D%3DSIMMON.Phim%3B%20%20SIMMON.dPhiTab%5Bi%5D%3DSIMMON.dPhi%3B%20%20%20%20SIMMON.NBrtnTab%5Bi%5D%3DSIMMON.NBrtn%3B%0D%0A%0D%0A%09%09%0D%0A%09%09%0D%0A%09%09%0D%0A%20%20%20%7D%09%0D%0A%20%20%20%09%09//SIMMON.Phim%20%3D%20_.sum%28PhimTab%29%20/%20NBrtnTab.length%20%3B%20%20%20%20%20%20%20//%20PhimTab.reduce%28%28x%2C%20y%29%20%3D%3E%20x%20+%20y%29%20%3B%20//%20output%3A%2015%0D%0A%09%09//SIMMON.dPhi%20%3D%20_.sum%28dPhiTab%29%20/%20NBrtnTab.length%3B%20%0D%0A%09%09//SIMMON.NBrtn%20%3D%20_.sum%28NBrtnTab%29%20/%20NBrtnTab.length%3B%0D%0A%09%09/*%0D%0A%09%09%09%09document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20%20%20+%20%22%20Phim%20%20/%20%22%20+%20SIMMON.Phim.toFixed%284%29%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%20%20+%20%27%3CBR%3E%27%20%20+%20%22%20dPhi%20%20/%20%22%20+%20SIMMON.dPhi.toFixed%284%29%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%20%20+%20%27%3CBR%3E%27%20%20+%20%22%20NBrtn%20/%20%22%20+%20SIMMON.NBrtn.toFixed%284%29%20%20%3B%20%0D%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20+%20%27%3CBR%3E%27%20%20+%20%22%20NBrtn%20/%20%22%20+%20SIMMON.signaluniform%20%20%0D%0A//------------------------------------------------------------------------------------------------%09%0D%0A%09%09%09*/%09%09%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09SIMMON.limit0%20%3D%20SIMMON.limit0%20+%201%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20samlpes%20counter%0D%0A%09%09%09%09%09%7Delse%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//if%20samlpes%20%3E%20%20SIMMON.samlpeSize%20%0D%0A%09%09%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//Smoothie.stop%28%29%3B%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09SIMMON.Phim%20%3D%20_.sum%28SIMMON.PhimTab%29%20/%20SIMMON.NBrtnTab.length%20%3B%20%20%20%20%20%20%20//%20PhimTab.reduce%28%28x%2C%20y%29%20%3D%3E%20x%20+%20y%29%20%3B%20//%20output%3A%2015%0D%0A%09%09%09%09SIMMON.dPhi%20%3D%20_.sum%28SIMMON.dPhiTab%29%20/%20SIMMON.NBrtnTab.length%3B%20%0D%0A%09%09%09%09SIMMON.NBrtn%20%3D%20_.sum%28SIMMON.NBrtnTab%29%20/%20SIMMON.NBrtnTab.length%3B%0D%0A%09%09%09%09SIMMON.PhimTab.clear%3B%20%20SIMMON.dPhiTab.clear%3B%20%20SIMMON.NBrtnTab.clear%3B%0D%0A%09%09%09/*%09%0D%0A%09%09%09%20document.getElementById%28%27container3%27%29.innerHTML%20%20%3D%20%27%3Cpre%3E%27%20%20%20+%20%22%20Phim%20%20/%20%22%20+%20SIMMON.Phim.toFixed%284%29%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%20%20%20%20%20%20%20%20+%20%27%3CBR%3E%27%20%20+%20%22%20dPhi%20%20/%20%22%20+%20SIMMON.dPhi.toFixed%284%29%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%20%20%20%20%20%20%20%20+%20%27%3CBR%3E%27%20%20+%20%22%20NBrtn%20/%20%22%20+%20SIMMON.NBrtn.toFixed%284%29%20%20%3B%20%09%09%09%09%09%0D%0A%09%09%09*/%09%09%0D%0A%09%09%20%0D%0A%09%09%09%09%09/**/%0D%0A%0D%0A%09%09%09%09%09%09SIMMON.samplingWindow%20%3D%20%28SIMMON.signalTime%5BSIMMON.samlpeSize-1%5D%20-%20SIMMON.signalTime%5B0%5D%29%3B%20%0D%0A%09%09%09%09%09%09SIMMON.samplingInterval%20%20%3D%20SIMMON.samplingWindow%20/%20SIMMON.samlpeSize%3B%20%0D%0A%09%09%09%09%09%09SIMMON.samplingRate%20%3D%201000%20/%20SIMMON.samplingInterval%20%3B%0D%0A%09%09%09%09%09%09SIMMON.signaluniform.clear%0D%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20/*%20%0D%0A%09%09%09%09%09%09for%20%28var%20i%20%3D%202%3B%20i%20%3C%20SIMMON.samlpeSize-1%3B%20i++%29%20%7B%0D%0A%09%09%09%09%09%09%20%20%20var%20interpola%20%20%3D%20SIMMON.signalTime%5B1%5D%20+%20i*samplingInterval%3B%0D%0A%09%09%09%09%09%09%20%20%20SIMMON.signaluniform%5Bi%5D%20%3D%20Interpol%28i%2CSIMMON.signalTime%2CSIMMON.signalrandom%2Cinterpola_value%29%20%3B%0D%0A%09%09%09%09%09%09%7D//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20SIMMON.limit0-1%20+%20%27%20%20%27%20%20+%20SIMMON.samlpeSize%20%3B%0D%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20*/%20%20%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Block/Array%20interpolation%20for%20Uniform%20spaced%20Time%20Roll%20Curve%20evolution%09%09%09%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20interpola%20%3D%20numeric.linspace%28%20SIMMON.signalTime%5B1%5D%2C%20SIMMON.signalTime%5BSIMMON.samlpeSize-1%5D%2C%20SIMMON.samlpeSize%29%3B%09%09%09%09%09%09%20%0D%0A%09%09%09%09%09%09var%20s00%20%3D%20numeric.spline%28SIMMON.signalTime%2C%20SIMMON.signalrandom%29%3B%20%20//signalTime%20as%20%28x%29%20%26%20ignalrandom%20as%20%28y%29%09%09%09%09%09%0D%0A%09%09%09%09%09%09SIMMON.signaluniform%20%3D%20s00.at%28interpola%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//this%20is%20the%20Uniform%20spaced%20Time%20Roll%20Curve%20evolutio%20%0D%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//so%20interpola%20as%20%28x%29%20%26%20signaluniform%20as%20%28y%29%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20fft%20%3D%20new%20zFFT%28SIMMON.samlpeSize%2C%20SIMMON.samplingRate%29%3B%20%20%20%20%20%20%20%20//FFT%20Prerequisites%0D%0A%09%09%09%09%09%09fft.forward%28SIMMON.signaluniform%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//FFT.forward%28SIMMON.signalrandom%29%3B%0D%0A%09%09%09%09%09%09var%20spectrum%20%3D%20fft.spectrum%3B%0D%0A%09%09%09%09%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%20SIMMON.samlpeSize%20+%20%22%20%20%20%22%20+%20samplingRate%20%3B%20%09%09%09%09%0D%0A%09%09%09%09%09%09//https%3A//dsp.stackexchange.com/questions/26927/what-is-a-frequency-bin%0D%0A%09%09%09%09%09%09var%20k%20%3D%20spectrum.indexOf%28Math.max.apply%28null%2C%20spectrum%29%20%29%3B%09//%20frequency%20bin%3AHow%20to%20compute%20frequency%20of%20data%20using%20FFT%3F%0D%0A%09%09%09%09%09%09//SmoothieFFT%20Y%20axis%20scaling%0D%0A%09%09%09%09%09%09var%20bindRangeFFT%20%3D%20function%28var0%29%7Bvar0.target%5B%27maxValue%27%5D%20%3D%20spectrum%5Bk%5D+0.5%3B%20%7D%3B%20%09%09%0D%0A%09%09%09%09%09%09bindRangeFFT%28%7Btarget%3A%20SmoothieFFT.options%7D%29%3B%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09//for%20%28var%20j%20%3D%200%3B%20j%20%3C%20%28spectrum.length%20%29%3B%20j++%29%20%7B%0D%0A%09%09%09%09%09%09//%20%20%20if%20%28spectrum%5Bj%5D%20%3E%20mag%29%20%7Bmag%20%3D%20spectrum%5Bj%5D%3B%20k%20%3D%20j%3B%20%7D%20%0D%0A%09%09%09%09%09%09//%7D%0D%0A/*%09%09%0D%0AThis%20is%20FFT%20with%20numeric%20%20LIB%20%20trial%09%09%09%0D%0Avar%20_fft%20%3D%20%28new%20numeric.T%28SIMMON.signalTime%2CSIMMON.signalrandom%29%29.fft%28%29%09%3B%0D%0Avar%20k2%20%3D%20%28_fft.x%29.indexOf%28Math.max.apply%28null%2C%20%28_fft.x%29%29%20%29%3B%0D%0Avar%20k3%20%3D%20%28_fft.y%29.indexOf%28Math.max.apply%28null%2C%20%28_fft.y%29%29%20%29%3B%09%0D%0A%0D%0Avar%20sx%20%3D%20numeric.spline%28%28_fft.x%29%2C%20%28_fft.y%29%29%3B%0D%0Avar%20kx%20%3D%20sx.diff%28%29.roots%28%29%3B%20%0D%0A//%28_fft.y%29.splice%280%2C2%29%3B%0D%0A%28kx%29.splice%280%2C0%29%3B%0D%0A%0D%0Ak3%20%3D%20%28kx%29.indexOf%28Math.max.apply%28null%2C%20%28kx%29%29%20%29%3B%09%0D%0Adocument.getElementById%28%27container3%27%29.innerHTML%20%3D%20%20k%20+%20%20%27%20%20%27%20+%20%20k2%20+%20%20%27%20%20%27%20+%20k3%20%20+%20%20%27%20%20%27%20+%20kx%20%3B%20%20%20//%20_fft.x%20%3B%20%09%0D%0Ak%20%3D%20k3%3B%09%0D%0A*/%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09//var%20FFT_RollT%20%3D%20%201/%28samplingRate%20*%20k%20/%20SIMMON.samlpeSize%29%20%20%20%20%3B%20%20//%5E%20-1%0D%0A%09%09%09%09%09%09var%20FFT_RollT%20%3D%20SIMMON.samlpeSize/%28SIMMON.samplingRate*k%29%20%20%20%20%3B%20%20%0D%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20//document.getElementById%28%27container32%27%29.innerHTML%3D%22FFT_RollT%20%22%20+%20FFT_RollT.toFixed%281%29%20%3B%09%0D%0A%09%09%09%09%09%09//if%20%28%21%20isNaN%28FFT_RollT%29%29%20multi2.setValue%28Math.abs%28FFT_RollT%29%20%29%3B%0D%0A%09%09%09%09%09%09//if%20%28%20FFT_RollT%20%3C%20100%29%20multi2.setValue%28Math.abs%28FFT_RollT%29%20%29%3B%0D%0A%09%09%09%09%09%09//if%20%28%20FFT_RollT%20%3C%20100%29%20document.getElementById%28%27buttonPERIODE%27%29.innerHTML%3D%20%20%20FFT_RollT.toFixed%282%29%3B%20%0D%0A%09%09%09%09%09%09if%20%28%20FFT_RollT%20%3C%20100%29%20rollPeriode%20%3D%20FFT_RollT.toFixed%282%29%3B%20%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09SIMMON.limit0%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//samlpeSize%20counter%20RZ%0D%0A%0D%0A%09%09%09%09%09%09if%20%28%21%20isNaN%28FFT_RollT%29%29%20%7B%09%09%0D%0A%09%09%09%09%09%09%09document.getElementById%28%27rollperiode%27%29.innerHTML%20%3D%20FFT_RollT.toFixed%282%29%3B%20%20%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%09var%20t0%3D%20new%20Date%28%29.getTime%28%29%09%09%20%20%20%20//var%20t0%20%3D%20startTime.getTime%28%29%3B%09%09%0D%0A%09%09%09%09%09%09%09for%20%28i%3D1%3Bi%3CSIMMON.samlpeSize%3Bi++%29%7B%20%20%20%20%20%20//t0%20is%20an%20artfact%20to%20enlarge%20fft%20scale%0D%0A%09%09%09%09%09%09%09%09line6.append%28%20t0%2C1*spectrum%5Bi%5D%20%29%3B%20%20//Build%20Roll%20Spectrum%20Curve%20for%20...//One%20pass%20Roll%20FFT%20Spectrum%20Curve%20Drawing%0D%0A%09%09%09%09%09%09%09%09t0+%3D100%3B%0D%0A%09%09%09%09%09%09%09%7D%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%7D%0D%0A%0D%0A%20%20%0D%0A%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%09%0D%0A%09%09%09%7D%20%0D%0A%20%0D%0A%20%20%0D%0A%20%20%0D%0A%20%20%0D%0A%20%20%0D%0A%09%09%20/////with%20DSP%20ADDIN%3A4430////////%0D%0A%0D%0A%09%09/***%20%0D%0A%09%09%20*%20THIS%20IS%20PART%20OF%20DSP.JS%20%20%0D%0A%09%09%20*%20Created%20by%20Corban%20Brook%20%3Ccorbanbrook@gmail.com%3E%20on%202010-01-01.%0D%0A%09%09%20*%20Copyright%202010%20Corban%20Brook.%20All%20rights%20reserved.%0D%0A%09%09%20%0D%0A%09%09%20*%20FFT%20is%20a%20class%20for%20calculating%20the%20Discrete%20Fourier%20Transform%20of%20a%20signal%0D%0A%09%09%20*%20with%20the%20Fast%20Fourier%20Transform%20algorithm.%0D%0A%09%09%20*%0D%0A%09%09%20*%20@param%20%7BNumber%7D%20bufferSize%20The%20size%20of%20the%20sample%20buffer%20to%20be%20computed.%20Must%20be%20power%20of%202%0D%0A%09%09%20*%20@param%20%7BNumber%7D%20sampleRate%20The%20sampleRate%20of%20the%20buffer%20%28eg.%2044100%29%0D%0A%09%09%20*%0D%0A%09%09%20*%20@constructor%0D%0A%09%09%20*%20%20DSP.js%20-%20a%20comprehensive%20digital%20signal%20processing%20%20library%20for%20javascript%0D%0A%0D%0A%09%09%20*%0D%0A%09%09%20*/%0D%0A%09%09%20%0D%0A%09%09//%20Fourier%20Transform%20Module%20used%20by%20DFT%2C%20FFT%2C%20RFFT%0D%0A%09%09function%20FourierTransform%28bufferSize%2C%20sampleRate%29%20%7B%0D%0A%09%09%20%20this.bufferSize%20%3D%20bufferSize%3B%0D%0A%09%09%20%20this.sampleRate%20%3D%20sampleRate%3B%0D%0A%09%09%20%20this.bandwidth%20%20%3D%202%20/%20bufferSize%20*%20sampleRate%20/%202%3B%0D%0A%0D%0A%09%09%20%20this.spectrum%20%20%20%3D%20new%20Float64Array%28bufferSize/2%29%3B%0D%0A%09%09%20%20this.real%20%20%20%20%20%20%20%3D%20new%20Float64Array%28bufferSize%29%3B%0D%0A%09%09%20%20this.imag%20%20%20%20%20%20%20%3D%20new%20Float64Array%28bufferSize%29%3B%0D%0A%0D%0A%09%09%20%20this.peakBand%20%20%20%3D%200%3B%0D%0A%09%09%20%20this.peak%20%20%20%20%20%20%20%3D%200%3B%0D%0A%0D%0A%09%09%20%20/**%0D%0A%09%09%20%20%20*%20Calculates%20the%20*middle*%20frequency%20of%20an%20FFT%20band.%0D%0A%09%09%20%20%20*%20@param%20%7BNumber%7D%20index%20The%20index%20of%20the%20FFT%20band.%0D%0A%09%09%20%20%20*%20@returns%20The%20middle%20frequency%20in%20Hz.%0D%0A%09%09%20%20%20*/%0D%0A%09%09%20%20this.getBandFrequency%20%3D%20function%28index%29%20%7B%0D%0A%09%09%09return%20this.bandwidth%20*%20index%20+%20this.bandwidth%20/%202%3B%0D%0A%09%09%20%20%7D%3B%0D%0A%0D%0A%09%09%20%20this.calculateSpectrum%20%3D%20function%28%29%20%7B%0D%0A%09%09%09var%20spectrum%20%20%3D%20this.spectrum%2C%0D%0A%09%09%09%09real%20%20%20%20%20%20%3D%20this.real%2C%0D%0A%09%09%09%09imag%20%20%20%20%20%20%3D%20this.imag%2C%0D%0A%09%09%09%09bSi%20%20%20%20%20%20%20%3D%202%20/%20this.bufferSize%2C%0D%0A%09%09%09%09sqrt%20%20%20%20%20%20%3D%20Math.sqrt%2C%0D%0A%09%09%09%09rval%2C%20%0D%0A%09%09%09%09ival%2C%0D%0A%09%09%09%09mag%3B%0D%0A%0D%0A%09%09%09for%20%28var%20i%20%3D%200%2C%20N%20%3D%20bufferSize/2%3B%20i%20%3C%20N%3B%20i++%29%20%7B%0D%0A%09%09%09%20%20rval%20%3D%20real%5Bi%5D%3B%0D%0A%09%09%09%20%20ival%20%3D%20imag%5Bi%5D%3B%0D%0A%09%09%09%20%20mag%20%3D%20bSi%20*%20sqrt%28rval%20*%20rval%20+%20ival%20*%20ival%29%3B%0D%0A%0D%0A%09%09%09%20%20if%20%28mag%20%3E%20this.peak%29%20%7B%0D%0A%09%09%09%09this.peakBand%20%3D%20i%3B%0D%0A%09%09%09%09this.peak%20%3D%20mag%3B%0D%0A%09%09%09%20%20%7D%0D%0A%0D%0A%09%09%09%20%20spectrum%5Bi%5D%20%3D%20mag%3B%0D%0A%09%09%09%7D%0D%0A%09%09%20%20%7D%3B%0D%0A%09%09%7D%09%09%20%0D%0A%0D%0A%09%09function%20zFFT%28bufferSize%2C%20sampleRate%29%20%7B%0D%0A%09%09%20%20FourierTransform.call%28this%2C%20bufferSize%2C%20sampleRate%29%3B%0D%0A%09%09%20%20%20%0D%0A%09%09%20%20this.reverseTable%20%3D%20new%20Uint32Array%28bufferSize%29%3B%0D%0A%0D%0A%09%09%20%20var%20limit%20%3D%201%3B%0D%0A%09%09%20%20var%20bit%20%3D%20bufferSize%20%3E%3E%201%3B%0D%0A%0D%0A%09%09%20%20var%20i%3B%0D%0A%0D%0A%09%09%20%20while%20%28limit%20%3C%20bufferSize%29%20%7B%0D%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20limit%3B%20i++%29%20%7B%0D%0A%09%09%09%20%20this.reverseTable%5Bi%20+%20limit%5D%20%3D%20this.reverseTable%5Bi%5D%20+%20bit%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09limit%20%3D%20limit%20%3C%3C%201%3B%0D%0A%09%09%09bit%20%3D%20bit%20%3E%3E%201%3B%0D%0A%09%09%20%20%7D%0D%0A%0D%0A%09%09%20%20this.sinTable%20%3D%20new%20Float64Array%28bufferSize%29%3B%0D%0A%09%09%20%20this.cosTable%20%3D%20new%20Float64Array%28bufferSize%29%3B%0D%0A%0D%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20bufferSize%3B%20i++%29%20%7B%0D%0A%09%09%09this.sinTable%5Bi%5D%20%3D%20Math.sin%28-Math.PI/i%29%3B%0D%0A%09%09%09this.cosTable%5Bi%5D%20%3D%20Math.cos%28-Math.PI/i%29%3B%0D%0A%09%09%20%20%7D%0D%0A%09%09%7D%0D%0A%0D%0A%09%09/**%0D%0A%09%09%20*%20Performs%20a%20forward%20transform%20on%20the%20sample%20buffer.%0D%0A%09%09%20*%20Converts%20a%20time%20domain%20signal%20to%20frequency%20domain%20spectra.%0D%0A%09%09%20*%20@param%20%7BArray%7D%20buffer%20The%20sample%20buffer.%20Buffer%20Length%20must%20be%20power%20of%202%0D%0A%09%09%20*%20@returns%20The%20frequency%20spectrum%20array%0D%0A%09%09%20*/%0D%0A%09%09zFFT.prototype.forward%20%3D%20function%28buffer%29%20%7B%0D%0A%09%09%20%20//%20Locally%20scope%20variables%20for%20speed%20up%0D%0A%09%09%20%20var%20bufferSize%20%20%20%20%20%20%3D%20this.bufferSize%2C%0D%0A%09%09%09%20%20cosTable%20%20%20%20%20%20%20%20%3D%20this.cosTable%2C%0D%0A%09%09%09%20%20sinTable%20%20%20%20%20%20%20%20%3D%20this.sinTable%2C%0D%0A%09%09%09%20%20reverseTable%20%20%20%20%3D%20this.reverseTable%2C%0D%0A%09%09%09%20%20real%20%20%20%20%20%20%20%20%20%20%20%20%3D%20this.real%2C%0D%0A%09%09%09%20%20imag%20%20%20%20%20%20%20%20%20%20%20%20%3D%20this.imag%2C%0D%0A%09%09%09%20%20spectrum%20%20%20%20%20%20%20%20%3D%20this.spectrum%3B%0D%0A%0D%0A%09%09%20%20var%20k%20%3D%20Math.floor%28Math.log%28bufferSize%29%20/%20Math.LN2%29%3B%0D%0A%0D%0A%09%09%20%20if%20%28Math.pow%282%2C%20k%29%20%21%3D%3D%20bufferSize%29%20%7B%20throw%20%22Invalid%20buffer%20size%2C%20must%20be%20a%20power%20of%202.%22%3B%20%7D%0D%0A%09%09%20%20if%20%28bufferSize%20%21%3D%3D%20buffer.length%29%20%20%7B%20throw%20%22Supplied%20buffer%20is%20not%20the%20same%20size%20as%20defined%20FFT.%20FFT%20Size%3A%20%22%20+%20bufferSize%20+%20%22%20Buffer%20Size%3A%20%22%20+%20buffer.length%3B%20%7D%0D%0A%0D%0A%09%09%20%20var%20halfSize%20%3D%201%2C%0D%0A%09%09%09%20%20phaseShiftStepReal%2C%0D%0A%09%09%09%20%20phaseShiftStepImag%2C%0D%0A%09%09%09%20%20currentPhaseShiftReal%2C%0D%0A%09%09%09%20%20currentPhaseShiftImag%2C%0D%0A%09%09%09%20%20off%2C%0D%0A%09%09%09%20%20tr%2C%0D%0A%09%09%09%20%20ti%2C%0D%0A%09%09%09%20%20tmpReal%2C%0D%0A%09%09%09%20%20i%3B%0D%0A%0D%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20bufferSize%3B%20i++%29%20%7B%0D%0A%09%09%09real%5Bi%5D%20%3D%20buffer%5BreverseTable%5Bi%5D%5D%3B%0D%0A%09%09%09imag%5Bi%5D%20%3D%200%3B%0D%0A%09%09%20%20%7D%0D%0A%0D%0A%09%09%20%20while%20%28halfSize%20%3C%20bufferSize%29%20%7B%0D%0A%09%09%09//phaseShiftStepReal%20%3D%20Math.cos%28-Math.PI/halfSize%29%3B%0D%0A%09%09%09//phaseShiftStepImag%20%3D%20Math.sin%28-Math.PI/halfSize%29%3B%0D%0A%09%09%09phaseShiftStepReal%20%3D%20cosTable%5BhalfSize%5D%3B%0D%0A%09%09%09phaseShiftStepImag%20%3D%20sinTable%5BhalfSize%5D%3B%0D%0A%09%09%09%0D%0A%09%09%09currentPhaseShiftReal%20%3D%201%3B%0D%0A%09%09%09currentPhaseShiftImag%20%3D%200%3B%0D%0A%0D%0A%09%09%09for%20%28var%20fftStep%20%3D%200%3B%20fftStep%20%3C%20halfSize%3B%20fftStep++%29%20%7B%0D%0A%09%09%09%20%20i%20%3D%20fftStep%3B%0D%0A%0D%0A%09%09%09%20%20while%20%28i%20%3C%20bufferSize%29%20%7B%0D%0A%09%09%09%09off%20%3D%20i%20+%20halfSize%3B%0D%0A%09%09%09%09tr%20%3D%20%28currentPhaseShiftReal%20*%20real%5Boff%5D%29%20-%20%28currentPhaseShiftImag%20*%20imag%5Boff%5D%29%3B%0D%0A%09%09%09%09ti%20%3D%20%28currentPhaseShiftReal%20*%20imag%5Boff%5D%29%20+%20%28currentPhaseShiftImag%20*%20real%5Boff%5D%29%3B%0D%0A%0D%0A%09%09%09%09real%5Boff%5D%20%3D%20real%5Bi%5D%20-%20tr%3B%0D%0A%09%09%09%09imag%5Boff%5D%20%3D%20imag%5Bi%5D%20-%20ti%3B%0D%0A%09%09%09%09real%5Bi%5D%20+%3D%20tr%3B%0D%0A%09%09%09%09imag%5Bi%5D%20+%3D%20ti%3B%0D%0A%0D%0A%09%09%09%09i%20+%3D%20halfSize%20%3C%3C%201%3B%0D%0A%09%09%09%20%20%7D%0D%0A%0D%0A%09%09%09%20%20tmpReal%20%3D%20currentPhaseShiftReal%3B%0D%0A%09%09%09%20%20currentPhaseShiftReal%20%3D%20%28tmpReal%20*%20phaseShiftStepReal%29%20-%20%28currentPhaseShiftImag%20*%20phaseShiftStepImag%29%3B%0D%0A%09%09%09%20%20currentPhaseShiftImag%20%3D%20%28tmpReal%20*%20phaseShiftStepImag%29%20+%20%28currentPhaseShiftImag%20*%20phaseShiftStepReal%29%3B%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09halfSize%20%3D%20halfSize%20%3C%3C%201%3B%0D%0A%09%09%20%20%7D%0D%0A%0D%0A%09%09%20%20return%20this.calculateSpectrum%28%29%3B%0D%0A%09%09%7D%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09/*%09%09%20%0D%0A%09//%20Find%20the%20polygon%27s%20centroid.%0D%0A%09public%20%20FindCentroid%28%29%0D%0A%09%7B%0D%0A%09%09//%20Add%20the%20first%20point%20at%20the%20end%20of%20the%20array.%0D%0A%09%09var%20num_points%20%3D%20Points.Length%3B%0D%0A%09%09PointF%5B%5D%20pts%20%3D%20new%20PointF%5Bnum_points%20+%201%5D%3B%0D%0A%09%09Points.CopyTo%28pts%2C%200%29%3B%0D%0A%09%09pts%5Bnum_points%5D%20%3D%20Points%5B0%5D%3B%0D%0A%0D%0A%09%09//%20Find%20the%20centroid.%0D%0A%09%09var%20X%20%3D%200%3B%0D%0A%09%09var%20Y%20%3D%200%3B%0D%0A%09%09var%20second_factor%3B%0D%0A%09%09for%20%28int%20i%20%3D%200%3B%20i%20%3C%20num_points%3B%20i++%29%0D%0A%09%09%7B%0D%0A%09%09%09second_factor%20%3D%0D%0A%09%09%09%09pts%5Bi%5D.X%20*%20pts%5Bi%20+%201%5D.Y%20-%0D%0A%09%09%09%09pts%5Bi%20+%201%5D.X%20*%20pts%5Bi%5D.Y%3B%0D%0A%09%09%09X%20+%3D%20%28pts%5Bi%5D.X%20+%20pts%5Bi%20+%201%5D.X%29%20*%20second_factor%3B%0D%0A%09%09%09Y%20+%3D%20%28pts%5Bi%5D.Y%20+%20pts%5Bi%20+%201%5D.Y%29%20*%20second_factor%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09//%20Divide%20by%206%20times%20the%20polygon%27s%20area.%0D%0A%09%09var%20polygon_area%20%3D%20PolygonArea%28%29%3B%0D%0A%09%09X%20/%3D%20%286%20*%20polygon_area%29%3B%0D%0A%09%09Y%20/%3D%20%286%20*%20polygon_area%29%3B%0D%0A%0D%0A%09%09//%20If%20the%20values%20are%20negative%2C%20the%20polygon%20is%0D%0A%09%09//%20oriented%20counterclockwise%20so%20reverse%20the%20signs.%0D%0A%09%09if%20%28X%20%3C%200%29%0D%0A%09%09%7B%0D%0A%09%09%09X%20%3D%20-X%3B%0D%0A%09%09%09Y%20%3D%20-Y%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09return%20new%20PointF%28X%2C%20Y%29%3B%0D%0A%09%7D%09%09%20%0D%0A%09%09%20%0D%0A%09*/%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%09%09%20%0D%0A%20%20%0D%0A%09function%20Heff%28lpp0%29%20%7B%0D%0A%09%09lpp0%3D262%2C%20m0%3D0%3B%0D%0A%09%09Hs%3D%20new%20Array%280%2C%200.5%2C1.5%2C2.5%2C3.5%2C4.5%2C5.5%2C6.5%2C7.5%2C8.5%2C9.5%2C10.5%2C11.5%2C12.5%2C13.5%2C14.5%2C15.5%2C16.5%20%29%3B%0D%0A%09%09Tz%3D%20new%20Array%280%2C%203.5%2C4.5%2C5.5%2C6.5%2C7.5%2C8.5%2C9.5%2C10.5%2C11.5%2C12.5%2C13.5%2C14.5%2C15.5%2C16.5%2C17.5%2C18.5%20%29%3B%0D%0A%09%09var%20Wlpp%20%3D%20Math.sqrt%282*Math.PI*9.81/lpp0%29%3B%0D%0A%09%09var%20Heff1%20%3D%20%5B%5D%2Cwi%20%3D%20%5B%5D%2Cyi%20%3D%20%5B%5D%20%3B%0D%0A%09%09var%20Heffmax%3D0%20%3B%0D%0A%09%09%0D%0A%09%09for%20%28iih%20%3D%200%3B%20iih%3C%3D17%3B%20iih++%29%20%7B%20%09%20//17%09%09%0D%0A%09%09%20%20%20%20var%20Heff0%20%3D%20%5B%5D%3B%0D%0A%09%09%20%20%20%20for%20%28iit%20%3D%200%3B%20iit%3C%3D16%3B%20iit++%29%20%7B%20%20//16%0D%0A%09%09%09%20%20%20%20var%20T4%20%3D%20Math.pow%281.086*Tz%5Biit%5D%2C-4%29%3B%0D%0A%09%09%09%09var%20A0%20%3D%20173*Math.pow%28Hs%5Biih%5D%2C2%29%20*%20T4%3B%0D%0A%09%09%09%09var%20B0%20%3D%20691*T4%3B%0D%0A%09%09%20%20%20%20%20%20%20%20//%20document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20+%20%20%27%20%20%20%20%27%20+%20%20A0%20+%20%27%20%20%27%20+%20B0%3B%20%20%20%09%09%09%09%09%0D%0A%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D50%3B%20i++%29%20%7B%09%09%20%09%09%0D%0A%09%09%09%09%09wi%5Bi%5D%20%3D%20%200.001+%20%28i%29*0.1%20%3B%20%20%0D%0A%09%09%09%09%09if%20%28wi%5Bi%5D%20%3E%203*Wlpp%29%20break%3B%09%0D%0A%09%09%09%09%09var%20wlg%20%3D%20Math.pow%28wi%5Bi%5D%2C2%29%20*%20lpp0/9.81%20%3B%0D%0A%09%09%09%09%09yi%5Bi%5D%20%3D%20%28wlg*%20Math.sin%28wlg/2%29%29%20%20/%20%20%28%20Math.pow%283.1416%2C2%29%20-%20Math.pow%28%20%28wlg/2%29%2C2%29%20%29%20%3B%20%0D%0A%09%09%09%09%09yi%5Bi%5D%20%3D%20Math.pow%28yi%5Bi%5D%2C2%29%20*%20A0*Math.pow%28wi%5Bi%5D%2C-5%29*Math.exp%28-B0*Math.pow%28wi%5Bi%5D%2C-4%29%29%3B%0D%0A%09%09%09%09%7D%09%0D%0A%09%09%09%09m0%20%3D%20polygonArea%28wi%2Cyi%2C%20yi.length%29%3B%20%20//%09%20%20m0%20%3D%20numerical_int%280.007%2C%20yi%29%20%3B%09%0D%0A%20%20%09%09%20%20%20%20%20%20%20%20Heff0.push%28%205.9725%20*%20Math.sqrt%28m0%29%29%3B%0D%0A%09%09%09%09if%20%285.9725%20*%20Math.sqrt%28m0%29%20%3E%20Heffmax%29%20Heffmax%20%3D%205.9725%20*%20Math.sqrt%28m0%29%3B%0D%0A%09%09%09%7D%09%0D%0A%09%09%09%20Heff1.push%28Heff0%29%3B%0D%0A%09%09%09%20%0D%0A%09%09%09//Heffmax%20%3D%20%28Math.max.apply%28null%2C%20Heff1%29%29%20%20%3B%20//GZ%20curve%20cadrage%0D%0A%09%20%20%20%20%20%20%20//%20document.getElementById%28%27container3%27%29.innerHTML%20+%3D%20%27%3Cpre%3E%27%20+%20%20%27%20%20%27%20+%20Heff1%5B15%5D%3B//%20+%20%27%20%20%20%27%20+%20%20Heffmax%3B%20%20%0D%0A%09%09%7D%0D%0A%09%09%20var%20ii%3D17%20%3B%0D%0A%09%20%20document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20+%20%20%27%20%20%27%20+%20Wlpp+%20%27%20%20%27%20+%20%20Hs%5Bii%5D%20%20%20+%20%20%27%20%20%27%20%20+%20Tz%5B8%5D%20+%20%20%27%20%20%27%20%20+%20Heff1%5Bii%5D%5B8%5D%20+%20%20%27%20%20%27%20%20+%20Heffmax%20%3B%20%20%20%0D%0A%09%09%0D%0A%20%20/*%09%09%09%0D%0ADim%20HLeff%3D%204.0043*m0%5E0.5%0D%0ARollAmpEff%28iit%2Ciih%29%20%3D%20RollAmpMax/HLeff%0D%0A%27%3Cpre%3E%27%20+%20%27%3CBR%3E%27%20+%20%27%20%20%27%20+%20%0D%0A%27Interpolation%0D%0A%27Wij0%20%3D%20HLeff*Wij%28iit%2Ciih%29/Hw/100000%0D%0A%0D%0AIf%20RollAmpEff%28iit%2Ciih%29%20%3C%2025%20Then%20Cij%3D0%20Else%20Cij%3D1%20%20%27%3E%0D%0AC2%3DC2+Cij*Wij%28iit%2Ciih%29%20%20%27C2%20Cumulation%20of%207%20Speed%20%20%271-------------------%201%20or%202%0D%0A%27C2%3DC2+Cij*Wij0%20%20%20%20%20%20%20%20%20%27C2%20Cumulation%20of%207%20Speed%20%20%272-------------------%201%20or%202%09%09%09%09%0D%0A%20%09%09%09%09%09%09%0D%0A*/%0D%0A%20%20%20%20%7D%0D%0A%20%09%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%0D%0A%20%0D%0A%20%20var%20SHIPHYDRODYN%20%3D%20%7B%20%0D%0A%20//RAO%20Table%0D%0A%20//Data%20presented%20is%20magnitude%20RAO%0D%0A%20//%27speed%20%20Angle%20%20WaveL%20%20RAOsurge%20%20%20RAOdrift%20%20RAOheave%20%20RAOroll%20%20%20RAOpitch%20%20%20RAOsway%0D%0A%20%20%20%0D%0A%20%20%20%20%20HYDRO2xTXT%20%3A%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20%2020.0%20%20%20%20%200.076%20%20%20%20%200.000%20%20%20%20%200.161%20%20%20%20%200.000%20%20%20%20%200.026%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20%2030.0%20%20%20%20%201.882%20%20%20%20%200.000%20%20%20%20%200.358%20%20%20%20%200.000%20%20%20%20%200.262%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20%2040.0%20%20%20%20%207.927%20%20%20%20%200.000%20%20%20%20%200.510%20%20%20%20%200.000%20%20%20%20%200.712%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20%2050.0%20%20%20%2036.747%20%20%20%20%200.000%20%20%20%20%200.602%20%20%20%20%200.000%20%20%20%20%200.930%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20%2080.0%20%20%20%2070.022%20%20%20%20%200.000%20%20%20%20%200.861%20%20%20%20%200.000%20%20%20%20%201.224%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20120.0%20%20%20%2011.732%20%20%20%20%200.000%20%20%20%20%200.987%20%20%20%20%200.000%20%20%20%20%201.402%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20140.0%20%20%20%20%208.198%20%20%20%20%200.000%20%20%20%20%200.986%20%20%20%20%200.000%20%20%20%20%201.351%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20180.0%20%20%20%20%205.335%20%20%20%20%200.000%20%20%20%20%200.984%20%20%20%20%200.000%20%20%20%20%201.280%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20200.0%20%20%20%20%204.629%20%20%20%20%200.000%20%20%20%20%200.984%20%20%20%20%200.000%20%20%20%20%201.256%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%20%200.0%20%20500.0%20%20%20%20%202.148%20%20%20%20%200.000%20%20%20%20%200.990%20%20%20%20%200.000%20%20%20%20%201.187%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20%2020.0%20%20%20%20%203.074%20%20%20%20%202.390%20%20%20%20%200.206%20%20%20%20%200.142%20%20%20%20%200.170%20%20%20%20%200.331%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20%2030.0%20%20%20349.479%20%20%20392.062%20%20%20%20%200.426%20%20%20%20%200.346%20%20%20%20%200.526%20%20%20%20%209.095%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20%2040.0%20%20%20%2041.476%20%20%20%2044.066%20%20%20%20%200.649%20%20%20%20%200.424%20%20%20%20%200.727%20%20%20%20%203.218%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20%2050.0%20%20%20%2012.372%20%20%20%2012.039%20%20%20%20%200.787%20%20%20%20%200.457%20%20%20%20%200.849%20%20%20%20%201.509%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20%2080.0%20%20%20%20%204.017%20%20%20%20%203.721%20%20%20%20%200.963%20%20%20%20%200.537%20%20%20%20%201.025%20%20%20%20%200.631%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20120.0%20%20%20%20%202.513%20%20%20%20%202.334%20%20%20%20%201.037%20%20%20%20%200.596%20%20%20%20%201.147%20%20%20%20%200.464%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20140.0%20%20%20%20%202.187%20%20%20%20%202.034%20%20%20%20%201.020%20%20%20%20%200.605%20%20%20%20%201.072%20%20%20%20%200.540%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20180.0%20%20%20%20%201.818%20%20%20%20%201.710%20%20%20%20%201.003%20%20%20%20%200.621%20%20%20%20%200.974%20%20%20%20%200.708%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20200.0%20%20%20%20%201.701%20%20%20%20%201.596%20%20%20%20%200.999%20%20%20%20%200.622%20%20%20%20%200.943%20%20%20%20%200.777%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2045.0%20%20500.0%20%20%20%20%201.130%20%20%20%20%201.114%20%20%20%20%200.992%20%20%20%20%200.651%20%20%20%20%200.832%20%20%20%20%201.646%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20%2020.0%20%20%20%20%200.015%20%20%20%20%200.293%20%20%20%20%201.008%20%20%20%20%200.621%20%20%20%20%200.041%20%20%20%20%200.035%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20%2030.0%20%20%20%20%200.018%20%20%20%20%200.188%20%20%20%20%200.999%20%20%20%20%202.376%20%20%20%20%200.039%20%20%20%20%200.147%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20%2040.0%20%20%20%20%200.019%20%20%20%20%201.205%20%20%20%20%200.985%20%20%20%20%204.593%20%20%20%20%200.035%20%20%20%20%200.302%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20%2050.0%20%20%20%20%200.020%20%20%20%20%201.057%20%20%20%20%200.981%20%20%20%20%202.695%20%20%20%20%200.031%20%20%20%20%200.190%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20%2080.0%20%20%20%20%200.020%20%20%20%20%200.939%20%20%20%20%200.979%20%20%20%20%201.530%20%20%20%20%200.023%20%20%20%20%200.117%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20120.0%20%20%20%20%200.020%20%20%20%20%200.941%20%20%20%20%200.983%20%20%20%20%201.268%20%20%20%20%200.018%20%20%20%20%200.101%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20140.0%20%20%20%20%200.020%20%20%20%20%200.890%20%20%20%20%200.984%20%20%20%20%201.151%20%20%20%20%200.017%20%20%20%20%200.015%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20180.0%20%20%20%20%200.018%20%20%20%20%200.845%20%20%20%20%200.986%20%20%20%20%201.035%20%20%20%20%200.017%20%20%20%20%200.163%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20200.0%20%20%20%20%200.017%20%20%20%20%200.829%20%20%20%20%200.987%20%20%20%20%200.997%20%20%20%20%200.018%20%20%20%20%200.246%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20%2090.0%20%20500.0%20%20%20%20%200.009%20%20%20%20%200.850%20%20%20%20%200.993%20%20%20%20%200.911%20%20%20%20%200.056%20%20%20%20%201.395%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20%2020.0%20%20%20%20%200.046%20%20%20%20%200.037%20%20%20%20%200.087%20%20%20%20%200.027%20%20%20%20%200.108%20%20%20%20%200.019%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20%2030.0%20%20%20%20%200.109%20%20%20%20%200.179%20%20%20%20%200.555%20%20%20%20%200.213%20%20%20%20%200.442%20%20%20%20%200.050%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20%2040.0%20%20%20%20%200.145%20%20%20%20%200.249%20%20%20%20%201.055%20%20%20%20%200.486%20%20%20%20%200.528%20%20%20%20%200.075%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20%2050.0%20%20%20%20%200.178%20%20%20%20%200.247%20%20%20%20%201.403%20%20%20%20%200.792%20%20%20%20%200.519%20%20%20%20%200.096%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20%2080.0%20%20%20%20%200.245%20%20%20%20%200.071%20%20%20%20%201.261%20%20%20%20%203.152%20%20%20%20%200.545%20%20%20%20%200.212%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20120.0%20%20%20%20%200.294%20%20%20%20%200.450%20%20%20%20%201.116%20%20%20%20%202.452%20%20%20%20%200.597%20%20%20%20%200.141%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20140.0%20%20%20%20%200.303%20%20%20%20%200.386%20%20%20%20%201.046%20%20%20%20%201.595%20%20%20%20%200.650%20%20%20%20%200.080%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20180.0%20%20%20%20%200.314%20%20%20%20%200.346%20%20%20%20%200.977%20%20%20%20%201.067%20%20%20%20%200.754%20%20%20%20%200.019%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20200.0%20%20%20%20%200.317%20%20%20%20%200.338%20%20%20%20%200.959%20%20%20%20%200.952%20%20%20%20%200.808%20%20%20%20%200.035%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20135.0%20%20500.0%20%20%20%20%200.424%20%20%20%20%200.370%20%20%20%20%200.989%20%20%20%20%200.652%20%20%20%20%200.755%20%20%20%20%200.616%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20%2020.0%20%20%20%20%200.005%20%20%20%20%200.000%20%20%20%20%200.030%20%20%20%20%200.000%20%20%20%20%200.004%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20%2030.0%20%20%20%20%200.070%20%20%20%20%200.000%20%20%20%20%200.171%20%20%20%20%200.000%20%20%20%20%200.268%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20%2040.0%20%20%20%20%200.122%20%20%20%20%200.000%20%20%20%20%200.593%20%20%20%20%200.000%20%20%20%20%200.623%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20%2050.0%20%20%20%20%200.157%20%20%20%20%200.000%20%20%20%20%201.015%20%20%20%20%200.000%20%20%20%20%200.730%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20%2080.0%20%20%20%20%200.243%20%20%20%20%200.000%20%20%20%20%201.384%20%20%20%20%200.000%20%20%20%20%200.753%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20120.0%20%20%20%20%200.312%20%20%20%20%200.000%20%20%20%20%201.174%20%20%20%20%200.000%20%20%20%20%200.824%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20140.0%20%20%20%20%200.331%20%20%20%20%200.000%20%20%20%20%201.086%20%20%20%20%200.000%20%20%20%20%200.878%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20180.0%20%20%20%20%200.359%20%20%20%20%200.000%20%20%20%20%201.001%20%20%20%20%200.000%20%20%20%20%200.979%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20200.0%20%20%20%20%200.369%20%20%20%20%200.000%20%20%20%20%200.979%20%20%20%20%200.000%20%20%20%20%201.027%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2710.0%20%20180.0%20%20500.0%20%20%20%20%200.510%20%20%20%20%200.000%20%20%20%20%200.985%20%20%20%20%200.000%20%20%20%20%201.066%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20%2020.0%20%20%20%20%200.037%20%20%20%20%200.000%20%20%20%20%200.199%20%20%20%20%200.000%20%20%20%20%200.036%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20%2030.0%20%20%20%20%200.712%20%20%20%20%200.000%20%20%20%20%200.414%20%20%20%20%200.000%20%20%20%20%200.207%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20%2040.0%20%20%20%20%202.371%20%20%20%20%200.000%20%20%20%20%200.701%20%20%20%20%200.000%20%20%20%20%200.574%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20%2050.0%20%20%20%20%205.565%20%20%20%20%200.000%20%20%20%20%200.764%20%20%20%20%200.000%20%20%20%20%200.938%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20%2080.0%20%20%20149.676%20%20%20%20%200.000%20%20%20%20%200.885%20%20%20%20%200.000%20%20%20%20%201.240%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20120.0%20%20%20%2055.957%20%20%20%20%200.000%20%20%20%20%200.927%20%20%20%20%200.000%20%20%20%20%201.206%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20140.0%20%20%20%2024.196%20%20%20%20%200.000%20%20%20%20%200.939%20%20%20%20%200.000%20%20%20%20%201.198%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20180.0%20%20%20%2010.720%20%20%20%20%200.000%20%20%20%20%200.955%20%20%20%20%200.000%20%20%20%20%201.192%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20200.0%20%20%20%20%208.424%20%20%20%20%200.000%20%20%20%20%200.960%20%20%20%20%200.000%20%20%20%20%201.192%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%20%200.0%20%20500.0%20%20%20%20%202.647%20%20%20%20%200.000%20%20%20%20%200.985%20%20%20%20%200.000%20%20%20%20%201.254%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20%2020.0%20%20%20%20%200.866%20%20%20%20%200.572%20%20%20%20%200.214%20%20%20%20%200.198%20%20%20%20%200.097%20%20%20%20%200.088%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20%2030.0%20%20%20%20%207.360%20%20%20%20%206.154%20%20%20%20%200.561%20%20%20%20%200.330%20%20%20%20%200.552%20%20%20%20%200.870%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20%2040.0%20%20%20%2089.753%20%20%20%2096.578%20%20%20%20%200.694%20%20%20%20%200.465%20%20%20%20%200.766%20%20%20%20%204.921%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20%2050.0%20%20%20338.544%20%20%20357.764%20%20%20%20%200.823%20%20%20%20%200.520%20%20%20%20%200.893%20%20%20%2010.035%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20%2080.0%20%20%20%2010.252%20%20%20%20%209.696%20%20%20%20%200.991%20%20%20%20%200.575%20%20%20%20%201.076%20%20%20%20%201.528%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20120.0%20%20%20%20%204.170%20%20%20%20%204.048%20%20%20%20%200.978%20%20%20%20%200.612%20%20%20%20%200.961%20%20%20%20%201.163%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20140.0%20%20%20%20%203.338%20%20%20%20%203.251%20%20%20%20%200.977%20%20%20%20%200.619%20%20%20%20%200.929%20%20%20%20%201.141%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20180.0%20%20%20%20%202.505%20%20%20%20%202.487%20%20%20%20%200.978%20%20%20%20%200.637%20%20%20%20%200.893%20%20%20%20%201.191%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20200.0%20%20%20%20%202.267%20%20%20%20%202.252%20%20%20%20%200.979%20%20%20%20%200.638%20%20%20%20%200.882%20%20%20%20%201.217%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2045.0%20%20500.0%20%20%20%20%201.262%20%20%20%20%201.348%20%20%20%20%200.989%20%20%20%20%200.670%20%20%20%20%200.883%20%20%20%20%201.797%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20%2020.0%20%20%20%20%200.014%20%20%20%20%200.302%20%20%20%20%200.972%20%20%20%20%200.641%20%20%20%20%200.043%20%20%20%20%200.044%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20%2030.0%20%20%20%20%200.017%20%20%20%20%200.229%20%20%20%20%200.981%20%20%20%20%202.546%20%20%20%20%200.041%20%20%20%20%200.183%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20%2040.0%20%20%20%20%200.018%20%20%20%20%201.134%20%20%20%20%200.976%20%20%20%20%204.330%20%20%20%20%200.036%20%20%20%20%200.324%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20%2050.0%20%20%20%20%200.019%20%20%20%20%201.002%20%20%20%20%200.976%20%20%20%20%202.561%20%20%20%20%200.032%20%20%20%20%200.201%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20%2080.0%20%20%20%20%200.020%20%20%20%20%200.899%20%20%20%20%200.979%20%20%20%20%201.469%20%20%20%20%200.027%20%20%20%20%200.103%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20120.0%20%20%20%20%200.019%20%20%20%20%200.812%20%20%20%20%200.983%20%20%20%20%201.110%20%20%20%20%200.033%20%20%20%20%200.100%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20140.0%20%20%20%20%200.018%20%20%20%20%200.797%20%20%20%20%200.985%20%20%20%20%201.038%20%20%20%20%200.036%20%20%20%20%200.186%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20180.0%20%20%20%20%200.018%20%20%20%20%200.800%20%20%20%20%200.987%20%20%20%20%200.977%20%20%20%20%200.045%20%20%20%20%200.362%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20200.0%20%20%20%20%200.018%20%20%20%20%200.800%20%20%20%20%200.988%20%20%20%20%200.954%20%20%20%20%200.049%20%20%20%20%200.441%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20%2090.0%20%20500.0%20%20%20%20%200.024%20%20%20%20%200.889%20%20%20%20%200.994%20%20%20%20%200.932%20%20%20%20%200.100%20%20%20%20%201.469%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20%2020.0%20%20%20%20%200.037%20%20%20%20%200.031%20%20%20%20%200.067%20%20%20%20%200.022%20%20%20%20%200.082%20%20%20%20%200.016%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20%2030.0%20%20%20%20%200.094%20%20%20%20%200.164%20%20%20%20%200.480%20%20%20%20%200.187%20%20%20%20%200.397%20%20%20%20%200.043%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20%2040.0%20%20%20%20%200.124%20%20%20%20%200.246%20%20%20%20%200.941%20%20%20%20%200.440%20%20%20%20%200.546%20%20%20%20%200.064%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20%2050.0%20%20%20%20%200.151%20%20%20%20%200.255%20%20%20%20%201.341%20%20%20%20%200.710%20%20%20%20%200.530%20%20%20%20%200.084%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20%2080.0%20%20%20%20%200.213%20%20%20%20%200.130%20%20%20%20%201.328%20%20%20%20%202.135%20%20%20%20%200.524%20%20%20%20%200.164%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20120.0%20%20%20%20%200.247%20%20%20%20%200.352%20%20%20%20%201.036%20%20%20%20%202.754%20%20%20%20%200.656%20%20%20%20%200.164%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20140.0%20%20%20%20%200.257%20%20%20%20%200.297%20%20%20%20%200.984%20%20%20%20%201.609%20%20%20%20%200.719%20%20%20%20%200.062%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20180.0%20%20%20%20%200.271%20%20%20%20%200.276%20%20%20%20%200.944%20%20%20%20%201.026%20%20%20%20%200.826%20%20%20%20%200.042%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20200.0%20%20%20%20%200.283%20%20%20%20%200.274%20%20%20%20%200.954%20%20%20%20%200.911%20%20%20%20%200.828%20%20%20%20%200.078%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20135.0%20%20500.0%20%20%20%20%200.409%20%20%20%20%200.349%20%20%20%20%200.996%20%20%20%20%200.661%20%20%20%20%200.658%20%20%20%20%200.636%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20%2020.0%20%20%20%20%200.004%20%20%20%20%200.000%20%20%20%20%200.026%20%20%20%20%200.000%20%20%20%20%200.002%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20%2030.0%20%20%20%20%200.056%20%20%20%20%200.000%20%20%20%20%200.127%20%20%20%20%200.000%20%20%20%20%200.200%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20%2040.0%20%20%20%20%200.104%20%20%20%20%200.000%20%20%20%20%200.504%20%20%20%20%200.000%20%20%20%20%200.566%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20%2050.0%20%20%20%20%200.133%20%20%20%20%200.000%20%20%20%20%200.893%20%20%20%20%200.000%20%20%20%20%200.748%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20%2080.0%20%20%20%20%200.205%20%20%20%20%200.000%20%20%20%20%201.456%20%20%20%20%200.000%20%20%20%20%200.735%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20120.0%20%20%20%20%200.261%20%20%20%20%200.000%20%20%20%20%201.116%20%20%20%20%200.000%20%20%20%20%200.852%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20140.0%20%20%20%20%200.279%20%20%20%20%200.000%20%20%20%20%201.041%20%20%20%20%200.000%20%20%20%20%200.911%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20180.0%20%20%20%20%200.306%20%20%20%20%200.000%20%20%20%20%200.967%20%20%20%20%200.000%20%20%20%20%201.026%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20200.0%20%20%20%20%200.316%20%20%20%20%200.000%20%20%20%20%200.947%20%20%20%20%200.000%20%20%20%20%201.084%20%20%20%20%200.000%2C%27%20+%0D%0A%09%09%09%09%2712.0%20%20180.0%20%20500.0%20%20%20%20%200.479%20%20%20%20%200.000%20%20%20%20%200.995%20%20%20%20%200.000%20%20%20%20%200.938%20%20%20%20%200.000%2C%27%20%20%2C%20%20%0D%0A%0D%0A%20%0D%0A%20%20%20%20DATA2%3A%20function%28%29%20%7B%20%20//DATA%20PARSE%0D%0A%09%20%20%20%20//Hydro%20processing%0D%0A%20%20%20%20%20%20%0D%0A%09%20%20%09var%20SurgeAmp%3D%5B%5D%2CSurgePha%3D%5B%5D%2CSwayAmp%3D%5B%5D%2CSwayPha%3D%5B%5D%2CHeavePha%3D%5B%5D%2CRollPha%3D%5B%5D%3B%0D%0A%20%20%20%20%20%20%20%20var%20PitchPha%3D%5B%5D%2CYawAmp%3D%5B%5D%2CYawPha%3D%5B%5D%2CRollAmp%3D%5B%5D%2CHeaveAmp%3D%5B%5D%2CPitchAmp%3D%5B%5D%3B%0D%0A%20%0D%0A%20%20%20%20%20%20%20%20var%20Speedi%09%20%3D%20new%20Float32Array%28%5B10%2C12%5D%29%20%3B%09%0D%0A%09%09var%20WavAngli%20%3D%20%5B0%2C45%2C90%2C135%2C180%5D%20%3B%0D%0A%20%09%09//var%20WavLengi%20%3D%20%5B20%2C30%2C40%2C50%2C60%2C70%2C80%2C100%2C120%2C140%2C160%2C180%2C200%2C240%2C280%2C320%2C360%2C400%2C440%2C480%2C500%5D%20%3B%0D%0A%20%09%09var%20WavLengi%20%3D%20%5B20%2C30%2C40%2C50%2C80%2C120%2C140%2C180%2C200%2C500%5D%20%3B%09%0D%0A%20%09%09var%20Speed_n%20%3D%20Speedi.length%3B%20%20%20%20%20%20%09%09%20%0D%0A%09%09var%20WaveLength_n%20%3DWavLengi.length%3B%09%09%20%0D%0A%09%09var%20WaveAngl_n%20%3D%20WavAngli.length%20%3B%20%20%09%09%0D%0A%09%09var%20RollSim%20%2CPitchSim%20%2CHeaveSim%20%20%3B%20%0D%0A%09%09%0D%0A%09%09var%20Lines%20%3D%20this.HYDRO2xTXT.split%28%27%2C%27%29%3B%20//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20Lines%5B0%5D%20%3B%20%0D%0A%09%09%20%0D%0A%09%09var%20k%3D0%3B%09%09%20%09%20%0D%0A%09%20%20%20%20for%20%28var%20s%20%3D%200%3B%20s%3C%20Speed_n%3B%20s++%29%20%7B%20%20%0D%0A%09%09%09SurgeAmp%5Bs%5D%3D%5B%5D%3B%20SwayAmp%5Bs%5D%3D%5B%5D%3B%20%20HeaveAmp%5Bs%5D%3D%5B%5D%3B%0D%0A%09%09%09RollAmp%5Bs%5D%3D%5B%5D%3B%20%20PitchAmp%5Bs%5D%3D%5B%5D%3B%20YawAmp%5Bs%5D%3D%5B%5D%3B%0D%0A%09%09%09for%20%28var%20ang%20%3D%200%3B%20ang%3C%20WaveAngl_n%3B%20ang++%29%20%7B%0D%0A%09%09%09%09SurgeAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%20SwayAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%20%20HeaveAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%20%0D%0A%09%09%09%09RollAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%20%20PitchAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%20YawAmp%5Bs%5D%5Bang%5D%3D%5B%5D%3B%09%09%09%0D%0A%09%09%09%09for%20%28var%20l%20%3D%200%3B%20l%3C%20WaveLength_n%3B%20l++%29%20%7B%20%0D%0A%09%09%09%09//if%20%28k%20%3E%20lines.Length%20-%201%20%29%20%20break%3B%20%20//%20if%20%28k%20%3E%2049%20%29%20%20break%3B%09%20res0%5Bk%5D%0D%0A%09%09%09%09//https%3A//stackoverflow.com/questions/3893625/how-would-i-remove-blank-characters-from-a-string-in-javascript%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20res%20%20%3D%20Lines%5Bk%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%0D%0A%09%09%09%09//Speedi%5Bs%5D%20%3D%20res%5B0%5D%3B%09WavAngli%5Bang%5D%20%3D%20res%5B1%5D%3B%20WavLengi%5Bl%5D%20%3D%20%20%20res%5B2%5D%3B%09%09%0D%0A%09%09%09%20%20%20%20SurgeAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B3%5D%3B%20SwayAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B4%5D%3B%20%20HeaveAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B5%5D%3B%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20RollAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B6%5D%3B%20%20PitchAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B7%5D%3B%20YawAmp%5Bs%5D%5Bang%5D%5Bl%5D%20%3D%20res%5B8%5D%3B%20%0D%0A%09%09%09%09k%20%3D%20k%20+1%3B%20%20%20//next%20lines%20processing%0D%0A%09%09%09%09%7D%09%20//Next%20l%20%09%09%09%0D%0A%09%09%09%7D%09//Next%20angl%09%0D%0A%09%09%7D%20%20%20//Next%20%20s%20%0D%0A%09%09%0D%0A%0D%0A%20%0D%0A%09%09var%20SpeedSim%3D11.9%2C%09WavAnglSim%3D44%2C%20WavLengSim%3D19.5%20%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20s%20%3D%200%3B%20s%3C%20Speed_n%3B%20s++%29%20%7B%20%0D%0A%20%09%09%20%20%20%20if%20%28Speedi%5Bs%5D%20%3E%3D%20SpeedSim%20%29%20%7B%20%20%0D%0A%09%09%09%09for%20%28var%20a%20%3D%200%3B%20a%3C%20WaveAngl_n%3B%20a++%29%20%7B%20%0D%0A%09%09%09%09%20%20%20%20if%20%28%20WavAngli%5Ba%5D%20%3E%20%20%20WavAnglSim%20%20%29%20%7B%20%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09Xcoord%20%3D%20WavLengi%3B%0D%0A%09%09%09%09%09%09//%20Speed1%20Angl1%20RAO%27s%28at%20WavLengSim%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09var%20Yrol11%3D%5B%5D%2CYrol12%3D%5B%5D%2C%20Ypitch11%3D%5B%5D%2CYpitch12%3D%5B%5D%2C%20Yheave11%3D%5B%5D%2CYheave12%3D%5B%5D%3B%0D%0A%09%09%09%09%09%09for%20%28i%3D0%20%3Bi%3C%20WaveLength_n%3B%20i++%29%09%7B%0D%0A%09%09%09%09%09%09%20%20%20%20Yrol11.push%28RollAmp%5Bs%5D%5Ba%5D%5Bi%5D%29%3B%20Ypitch11.push%28PitchAmp%5Bs%5D%5Ba%5D%5Bi%5D%29%3B%20Yheave11.push%28HeaveAmp%5Bs%5D%5Ba%5D%5Bi%5D%29%3B%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%7D%20//------------------------Y1------------------------------%0D%0A%09%09%09%09%09%09var%20rol11%20%20%20%3D%201*numeric.spline%28Xcoord%2C%20Yrol11%29%20%20.at%28WavLengSim%29%3B%0D%0A%09%09%09%09%09%09var%20pitch11%20%3D%201*numeric.spline%28Xcoord%2C%20Ypitch11%29.at%28WavLengSim%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20heave11%20%3D%201*numeric.spline%28Xcoord%2C%20Yheave11%29.at%28WavLengSim%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09//%20Speed1%20Angl0%20RAO%27s%28at%20WavLengSim%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09for%20%28i%3D0%20%3Bi%3C%20WaveLength_n%3B%20i++%29%09%7B%0D%0A%09%09%09%09%09%09%09Yrol12.push%28RollAmp%5Bs%5D%5Ba-1%5D%5Bi%5D%29%3B%20Ypitch12.push%28PitchAmp%5Bs%5D%5Ba-1%5D%5Bi%5D%29%3B%20Yheave12.push%28HeaveAmp%5Bs%5D%5Ba-1%5D%5Bi%5D%29%3B%20%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%7D%20//------------------------Y0------------------------------%09%0D%0A%09%09%09%09%09%09var%20rol01%20%20%20%3D%201*numeric.spline%28Xcoord%2C%20Yrol12%29%20%20.at%28WavLengSim%29%3B%0D%0A%09%09%09%09%09%09var%20pitch01%20%3D%201*numeric.spline%28Xcoord%2C%20Ypitch12%29.at%28WavLengSim%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20heave01%20%3D%201*numeric.spline%28Xcoord%2C%20Yheave12%29.at%28WavLengSim%29%20%3B%09%0D%0A%0D%0A%09%09%09%09%09%09//%20Speed1%20RAO%27s%28at%20WavLengSim%20%26%20WavAnglSim%20%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09//%20%20%20%20%20%20%20%20y%20%3D%20%20y0%20%20%20%20+%20%28%20x-x0%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%20%20%28%20y1-y0%29%20%20%20%20%20%20/%20%20%20%20%20%20%20%28%20x1-x0%29%0D%0A%09%09%09%09%09%09var%20rol_s_%20%20%20%3D%20rol01%20%20%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28rol11-rol01%29%20%20%20%20%20/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%0D%0A%09%09%09%09%09%09var%20pitch_s_%20%3D%20pitch01%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28pitch11-pitch01%29%20/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%0D%0A%09%09%09%09%09%09var%20heave_s_%20%3D%20heave01%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28heave11-heave01%29%20/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%09%20%20%20%0D%0A%09%09%09%09%09%09//%20Speed0%20Angl1%20RAO%27s%28at%20WavLengSim%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09var%20Yrol21%3D%5B%5D%2CYrol22%3D%5B%5D%2C%20Ypitch21%3D%5B%5D%2CYpitch22%3D%5B%5D%2C%20Yheave21%3D%5B%5D%2CYheave22%3D%5B%5D%3B%20%20%0D%0A%09%09%09%09%09%09for%20%28i%3D0%20%3Bi%3C%20WaveLength_n%3B%20i++%29%09%7B%0D%0A%09%09%09%09%09%09%09Yrol21.push%28RollAmp%5Bs-1%5D%5Ba%5D%5Bi%5D%29%3B%20Ypitch21.push%28PitchAmp%5Bs-1%5D%5Ba%5D%5Bi%5D%29%3B%20Yheave21.push%28HeaveAmp%5Bs-1%5D%5Ba%5D%5Bi%5D%29%3B%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%7D%20//------------------------Y1------------------------------%0D%0A%09%09%09%09%09%09var%20rol12%20%20%20%3D%201*numeric.spline%28Xcoord%2C%20Yrol21%29%20%20.at%28WavLengSim%29%3B%0D%0A%09%09%09%09%09%09var%20pitch12%20%3D%201*numeric.spline%28Xcoord%2C%20Ypitch21%29.at%28WavLengSim%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20heave12%20%3D%201*numeric.spline%28Xcoord%2C%20Yheave21%29.at%28WavLengSim%29%3B%0D%0A%09%09%09%09%09%09//%20Speed0%20Angl0%20RAO%27s%28at%20WavLengSim%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09for%20%28i%3D0%20%3Bi%3C%20WaveLength_n%3B%20i++%29%09%7B%0D%0A%09%09%09%09%09%09%09Yrol22.push%28RollAmp%5Bs-1%5D%5Ba-1%5D%5Bi%5D%29%3B%20Ypitch22.push%28PitchAmp%5Bs%5D%5Ba-1%5D%5Bi%5D%29%3B%09Yheave22.push%28HeaveAmp%5Bs-1%5D%5Ba-1%5D%5Bi%5D%29%3B%20%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%7D%20//------------------------Y0------------------------------%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20rol02%20%20%20%3D%201*numeric.spline%28Xcoord%2C%20Yrol22%29%20%20.at%28WavLengSim%29%3B%0D%0A%09%09%09%09%09%09var%20pitch02%20%3D%201*numeric.spline%28Xcoord%2C%20Ypitch22%29.at%28WavLengSim%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20heave02%20%3D%201*numeric.spline%28Xcoord%2C%20Yheave22%29.at%28WavLengSim%29%3B%0D%0A%0D%0A%09%09%09%09%09%09//%20Speed0%20RAO%27s%28at%20WavLengSim%20%26%20WavAnglSim%20%29%20Interpolation%20on%20n%20WaveLength%20%0D%0A%09%09%09%09%09%09//%20%20%20%20%20%20%20%20y%20%3D%20%20y0%20%20%20%20+%20%28%20x-x0%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*%20%20%28%20y1-y0%29%20%20%20%20%20%20/%20%20%20%20%20%20%20%28%20x1-x0%29%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09var%20rol_s1_%20%20%20%3D%20rol02%20%20%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28rol12-rol02%29%20%20%20%20/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%0D%0A%09%09%09%09%09%09var%20pitch_s1_%20%3D%20pitch02%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28pitch12-pitch02%29/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%0D%0A%09%09%09%09%09%09var%20heave_s1_%20%3D%20heave02%20+%20%28WavAnglSim-WavAngli%5Ba-1%5D%29*%28heave12-heave02%29/%28WavAngli%5Ba%5D-WavAngli%5Ba-1%5D%29%3B%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%20%0D%0A%09%09%09%09%09%20%20%20//Result%0D%0A%09%09%09%09%09%09var%20rolx%20%20%20%3D%20rol_s1_%20%20%20+%20%28SpeedSim-Speedi%5Bs-1%5D%29*%28rol_s_%20-%20rol_s1_%29%20%20%20%20/%28Speedi%5Bs%5D-Speedi%5Bs-1%5D%29%3B%0D%0A%09%09%09%09%09%09var%20pitchx%20%3D%20pitch_s1_%20+%20%28SpeedSim-Speedi%5Bs-1%5D%29*%28pitch_s_%20-%20pitch_s1_%29/%28Speedi%5Bs%5D-Speedi%5Bs-1%5D%29%3B%09%0D%0A%09%09%09%09%09%09var%20heavex%20%3D%20heave_s1_%20+%20%28SpeedSim-Speedi%5Bs-1%5D%29*%28heave_s_%20-%20heave_s1_%29/%28Speedi%5Bs%5D-Speedi%5Bs-1%5D%29%3B%09%0D%0A%09%09%09%09%09%09////////document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20rolx%20%3B//this.PitchAmp%5B0%5D%5B1%5D%5B9%5D%3B//pitch01%20%3B%20//rolx%20%3B%20//AkimYrol%20%3B%0D%0A%09%09%09%09%09%09break%3B%0D%0A%09%09%09%09%09%09/**/%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20%0D%0A%09%09%7D%20%20%0D%0A%0D%0A/*%20*/%0D%0A%20%0D%0A%09%09%0D%0A%09%09%0D%0A%09%7D%20%2C%0D%0A%09%0D%0A%20//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20this.HeaveAmp%5B1%5D%5B2%5D%5B3%5D%20%3B%20//RollSim%3B%20//%20this.RollAmp%20%0D%0A%20/*%20%0D%0A%20%20%20%20%20%20%20%20//var%20SpeedSim%3D11.9%2CWavAnglSim%3D44.9%2CWavLengSim%3D29.9%20%3B%0D%0A%09%09var%20SpeedSim%3D9.9%2CWavAnglSim%3D89.9%2CWavLengSim%3D499.9%20%3B%0D%0A%20%20%20%20%20%20%20%20for%20%28var%20s%20%3D%200%3B%20s%3C%20Speed_n%3B%20s++%29%20%7B%20%0D%0A%20%09%09%20%20%20%20if%20%28Speedi%5Bs%5D%20%3E%3D%20SpeedSim%20%29%20%7B%20%20%0D%0A%09%09%09%09for%20%28var%20ang%20%3D%200%3B%20ang%3C%20WaveAngl_n%3B%20ang++%29%20%7B%20%0D%0A%09%09%09%09%20%20%20%20if%20%28WavAngli%5Bang%5D%20%3E%3D%20WavAnglSim%20%20%29%20%7B%20%0D%0A%09%09%09%09%09%09for%20%28var%20l%20%3D%200%3B%20l%3C%20WaveLength_n%3B%20l++%29%20%7B%20%0D%0A%09%09%09%09%09%09%20%20%20%20if%20%28%20WavLengi%5Bl%5D%20%3E%3D%20WavLengSim%20%29%20%7B%20%0D%0A%09%09%09%09%09%09%09%20%20%20RollSim%20%3D%20%20this.RAOInterpol%28this.RollAmp%2C%20SpeedSim%2CWavAnglSim%2CWavLengSim%2CSpeedi%2CWavAngli%2CWavLengi%2C%20s%2Cang%2Cl%29%3B%0D%0A%09%09%09%09%09%09%09%20%20%20PitchSim%20%3D%20this.RAOInterpol%28this.PitchAmp%2CSpeedSim%2CWavAnglSim%2CWavLengSim%2CSpeedi%2CWavAngli%2CWavLengi%2C%20s%2Cang%2Cl%29%3B%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%09%20%20%20HeaveSim%20%3D%20this.RAOInterpol%28this.HeaveAmp%2CSpeedSim%2CWavAnglSim%2CWavLengSim%2CSpeedi%2CWavAngli%2CWavLengi%2C%20s%2Cang%2Cl%29%3B%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09%09%20%20%20//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20RollSim%20%3B%20//RollSim%3B%20//%20this.RollAmp%20%0D%0A%09%09%09%09%09%09%09%20%20%20break%3B%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%20%0D%0A%09%09%7D%20%0D%0A%09%09*/%09%0D%0A%09%0D%0A%09%0D%0A%09RAOInterpol%20%3Afunction%28RAO%2C%20x%2Cy%2Cz%2C%20xi%2Cyi%2Czi%2C%20s%2Cang%2Cl%29%20%7B%0D%0A%09%09//function%20RAOInterpol%28%20RAO%2C%20x%2Cy%2Cz%2C%20xi%2Cyi%2Czi%2C%20s%2Cang%2Cl%20%29%20%7B%09%09%0D%0A%09%09var%20dx%2Cdy%2Cdz%2Cdxyz%2Cdxyz0%2Cdxyz1%3B%0D%0A%09%09var%20x0%2Cy0%2Cz0%2Cx1%2Cy1%2Cz1%3B%09%0D%0A%0D%0A%09%09x0%3Dxi%5Bs-1%5D%3B%20%20%20%20%20x1%3Dxi%5Bs%5D%3B%0D%0A%09%09y0%3Dyi%5Bang-1%5D%3B%20%20%20y1%3Dyi%5Bang%5D%3B%09%09%0D%0A%09%09z0%3Dzi%5Bl-1%5D%3B%20%20%20%20%20z1%3Dzi%5Bl%5D%3B%09%0D%0A%0D%0A%09%09if%20%28%21%20isNaN%28x0%29%29%20%7B%0D%0A%09%09%20%20%20if%20%28x1%20%3D%3D%20x0%29%20dx%20%3D%20%28x-x0%29%3B%20%20else%20%20dx%20%3D%20%28x-x0%29%20/%20%28x1-x0%29%3B%09%0D%0A%09%09%20%20%20%7D%0D%0A%09%09%20%20%20else%20%20dx%20%3D0%3B%0D%0A%09%09%20%20%20%0D%0A%09%09if%20%28%21%20isNaN%28y0%29%29%20%7B%0D%0A%09%09%20%20%20if%20%28y1%20%3D%3D%20y0%29%20dy%20%3D%20%28y-y0%29%3B%20%20else%20%20dy%20%3D%20%28y-y0%29%20/%20%28y1-y0%29%3B%09%0D%0A%09%09%20%20%20%7D%0D%0A%09%09%20%20%20else%20%20dy%20%3D0%3B%20%0D%0A%09%20%0D%0A%09%09if%20%28%21%20isNaN%28z0%29%29%20%7B%0D%0A%09%09%20%20%20if%20%28z1%20%3D%3D%20z0%29%20dz%20%3D%20%28z-z0%29%3B%20%20else%20%20dz%20%3D%20%28z-z0%29%20/%20%28z1-z0%29%3B%09%0D%0A%09%09%20%20%20%7D%09%09%0D%0A%09%09%20%20%20else%20%20dz%20%3D0%3B%20%20%0D%0A%09%09%0D%0A%0D%0A%0D%0A%09%0D%0A%09/*%09var%20x%2Cy%2Cz%2C%20x0%2Cy0%2Cz0%2C%20x1%2Cy1%2Cz1%20%0D%0A%09%09x%20%3D%20SpeedSim%3B%09%09x0%20%3D%20Speedi%5Bs%5D%3B%20%20%20%20%09%20%20%20%20x1%20%3D%20Speedi%5Bs-1%5D%20%3B%20%20%09dx%20%3D%20%28x-x0%29/%28x1-x0%29%3B%0D%0A%09%09y%20%3D%20WavAnglSim%3B%09%09y0%20%3D%20WavAngli%5Bang%5D%3B%20%20%20%09y1%20%3D%20WavAngli%5Bang-1%5D%3B%09dy%20%3D%20%28y-y0%29/%28y1-y0%29%3B%20%20%0D%0A%09%09z%20%3D%20WavLengSim%3B%09%09z0%20%3D%20WavLengi%5Bl%5D%3B%20%20%20%09z1%20%3D%20WavLengi%5Bl-1%5D%3B%20%20%20%09dz%20%3D%20%28z-z0%29/%28z1-z0%29%3B%20*/%0D%0A%09%09%0D%0A%09%09x0%3Dxi%5Bs-1%5D%3B%20%20%20%20%20x1%3Dxi%5Bs%5D%3B%0D%0A%09%09y0%3Dyi%5Bang-1%5D%3B%20%20%20y1%3Dyi%5Bang%5D%3B%09%09%0D%0A%09%09z0%3Dzi%5Bl-1%5D%3B%20%20%20%20%20z1%3Dzi%5Bl%5D%3B%09%0D%0A%09%09%0D%0A%09%09dx%20%3D%20%28x-x0%29%20/%20%28x1-x0%29%3B%0D%0A%09%09dy%20%3D%20%28y-y0%29%20/%20%28y1-y0%29%3B%20%20%0D%0A%09%09dz%20%3D%20%28z-z0%29%20/%20%28z1-z0%29%3B%20%0D%0A%09%09%0D%0A%09%09var%20C0%20%3D%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//G000%0D%0A%09%09var%20C1%20%3D%201*RAO%5B1%5D%5B0%5D%5B0%5D%20-%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%09%09%09%09%09%09%09%09%20//G100%20-%20G000%0D%0A%09%09var%20C2%20%3D%201*RAO%5B0%5D%5B1%5D%5B0%5D%20-%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%09%09%09%09%09%09%09%09%20//G010%20-%20G000%0D%0A%09%09var%20C3%20%3D%201*RAO%5B0%5D%5B0%5D%5B1%5D%20-%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%09%09%09%09%09%09%09%09%20//G001%20-%20G000%0D%0A%09%09var%20C4%20%3D%201*RAO%5B1%5D%5B1%5D%5B0%5D%20-%201*RAO%5B0%5D%5B1%5D%5B0%5D%20-%201*RAO%5B1%5D%5B0%5D%5B0%5D%20+%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%20//G110%20-%20G010%20-%20G100%20+%20G000%0D%0A%09%09var%20C5%20%3D%201*RAO%5B0%5D%5B1%5D%5B1%5D%20-%201*RAO%5B0%5D%5B0%5D%5B1%5D%20-%201*RAO%5B0%5D%5B1%5D%5B0%5D%20+%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%20//G011%20-%20G001%20-%20G010%20+%20G000%0D%0A%09%09var%20C6%20%3D%201*RAO%5B1%5D%5B0%5D%5B1%5D%20-%201*RAO%5B0%5D%5B0%5D%5B1%5D%20-%201*RAO%5B1%5D%5B0%5D%5B0%5D%20+%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%09%20//G101%20-%20G001%20-%20G100%20+%20G000%0D%0A%09%09var%20C7%20%3D%201*RAO%5B1%5D%5B1%5D%5B1%5D%20-%201*RAO%5B0%5D%5B1%5D%5B1%5D%20-%201*RAO%5B1%5D%5B0%5D%5B1%5D%20-%201*RAO%5B1%5D%5B1%5D%5B0%5D%20+%20%0D%0A%09%09%20%20%20%20%20%20%20%20%201*RAO%5B1%5D%5B0%5D%5B0%5D%20+%201*RAO%5B0%5D%5B0%5D%5B1%5D%20+%201*RAO%5B0%5D%5B1%5D%5B0%5D%20-%201*RAO%5B0%5D%5B0%5D%5B0%5D%3B%20%20//%28G111%20-%20G011%20-%20G101%20-%20G110%20+%20G100%20+%20G001%20+%20G010%20-%20G000%20%29%0D%0A%09%09%09%20%20%20%09%0D%0A%09%20%20%20%20var%20RAOx%20%3D%20C0%20+%20C1*dx%20+%20C2*dy%20+%20C3*dz%20+%20C4*dx*dy%20+%20C5*dy*dz%20+%20C6*dx*dz%20+%20C7*dx*dy*dz%3B%0D%0A%09%09return%20%20RAOx%20%3B//RAOx%20%3B%0D%0A%09/**/%09%0D%0A%0D%0A%09%09%0D%0A%09%09%0D%0A%09%09%0D%0A%09/*%09%0D%0A%09var%20txtFile%20%3D%20new%20XMLHttpRequest%28%29%3B%0D%0A%09txtFile.open%28%22GET%22%2C%20%22file%3A//C%3A%5CUsers%5CMSAHLI%5CDesktop%5CTESTEE2%5CNewfolder%5CraoTable2.out%22%2C%20true%29%3B%0D%0A%09txtFile.onreadystatechange%20%3D%20function%28%29%20%7B%0D%0A%09%20%20//if%20%28txtFile.readyState%20%3D%3D%3D%204%29%20%7B%20%20//%20Makes%20sure%20the%20document%20is%20ready%20to%20parse.%0D%0A%09%20%20%20//if%20%28txtFile.status%20%3D%3D%3D%20200%29%20%7B%20%20//%20Makes%20sure%20it%27s%20found%20the%20file.%0D%0A%09%09%20%20var%20allText%20%3D%20txtFile.responseText%3B%20%20%20%20%20%20%20%20%20%20%20%20//var%20lines%20%3D%20txtDoc.split%28%22%5Cr%5Cn%22%29%3B%20//%20values%20in%20lines%5B0%5D%2C%20lines%5B1%5D...%0D%0A%09%09%20%20var%20lines%20%3D%20txtFile.responseText.split%28%22%5Cn%22%29%3B%20//%20Will%20separate%20each%20line%20into%20an%20array%0D%0A%09%09%20%20document.getElementById%28%22container3%22%29.innerHTML%20%20%3D33%3B%0D%0A%09%09//%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%09%20%20//%7D%0D%0A%09%7D%0D%0A%20%20%20%20txtFile.send%28null%29%3B%0D%0A%20%20%20%20*/%0D%0A%09%0D%0A%20%20%20%20//return%20%20allText%20%3B//RAOx%20%3B%0D%0A//AFAIK%2C%20you%20can%20use%20a%20local%20file%2C%20just%20use%20the%20file%3A//%20protocol%20%28ie%20file%3A//C%3A/Users/Andy/Documents/textfile.txt%29.%09%09%0D%0A%0D%0A%09%20%20%20%20//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20RAO.length%3B%20//%20this.RollAmp%0D%0A%09%09%20%0D%0A%09%7D%20%0D%0A%20%09%0D%0A/*%09%0D%0A%09%09var%20real%20%3D%20new%20Float32Array%28%5B0%2C0.4%2C0.4%2C1%2C1%2C1%2C0.3%2C0.7%2C0.6%2C0.5%2C0.9%2C0.8%5D%29%3B%0D%0A%09%09var%20imag%20%3D%20new%20Float32Array%28real.length%29%3B%0D%0A%09%09%0D%0A%09%09for%20%28var%20l%20%3D%200%3B%20l%3C%20WaveL.Length%20-%201%3B%20l++%29%20%7B%20AkimY.push%28this.RollAmp%5Bs%5D%5Bang%5D%5Bl%5D%29%3B%20%20%7D%20//push%20RollAmp%20to%20AkimY%0D%0A%09%09var%20s%20%3D%20numeric.spline%28AkimX%2C%20AkimY%29%3B%09%09%0D%0A%09%09var%20RollAmp0%20%3D%20s.at%28PHI100%29%3B%20%0D%0A%09%09var%20RollAmp0%20%3D%20numeric.spline%28AkimX%2C%20AkimY%29.at%28PHI100%29%3B%20%09%09%0D%0A%09%09var%20GZarea%20%3D%20trapezeArea2%28%20GZ%2C%2080%29%20%3B%20%20%20%20%20%20%20%20//for%20IS2008%20stability%20criteria%0D%0A%09%09GZarea%20%3D%20GZarea.map%28x%20%3D%3E%20x%20*%20Math.PI/180%29%3B%09//area%20to%20radian%0D%0A%09%09var%20GZarea%20%3D%20trapezeArea2%28%20GZ%2C80%29.map%28x%20%3D%3E%20x%20*%20Math.PI/180%29%20%3B%20%20%0D%0A%09%09PHI100wnd%20%3D%20PHIdisp.slice%281%29.reverse%28%29.map%28x%20%3D%3E%20-x%20%29%3B%20%09%09%0D%0A%09%09%09%09%0D%0A*/%09%09%09%0D%0A%20%20%20%20%7D%3B%20%0D%0A%20%20%20%0D%0A%0D%0A%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%0D%0A%20%20%20var%20SHIPHYDROCROSS%20%3D%20%7B%0D%0A%20%0D%0A%09KN%3A%5B%5D%2CPANTO%3A%5B%5D%2C%09%0D%0A%20%0D%0A%09T%3A%5B%5D%2CWpl%3A%5B%5D%2CWpb%3A%5B%5D%2CWpa%3A%5B%5D%2CLcf%3A%5B%5D%2CYcf%3A%5B%5D%2CBa%3A%5B%5D%2CVOL%3A%5B%5D%2CDpH%3A%5B%5D%2CLcb%3A%5B%5D%2CKB%3A%5B%5D%2CMss%3A%5B%5D%2CIT%3A%5B%5D%2CIL%3A%5B%5D%2CKmt%3A%5B%5D%2CKml%3A%5B%5D%2CCb%3A%5B%5D%2CCm%3A%5B%5D%2CMct%3A%5B%5D%2CTpc%3A%5B%5D%2CWpc%3A%5B%5D%2CCp%3A%5B%5D%2CCvp%3A%5B%5D%2C%0D%0A%20%20%20%20disp%3A%5B%5D%2Ckg%3A%5B%5D%2Clcg%3A%5B%5D%2Ctcg%3A%5B%5D%2Cfs%3A%5B%5D%2C%0D%0A%09%0D%0A%09%09//PROFIL%09%09%09%0D%0A%09//DH%09surf%09Xg%09Zg%0D%0A%09PROFILTm%3A%5B%5D%2C%20PROFILArea%3A%5B%5D%2C%20PROFILZg%3A%5B%5D%20%2C%09%09%09%0D%0A%09%0D%0A%20%20%20%20LOADINGx%20%3Anew%20Array%28%20%5B62%2C%20%202%2C%20%20%2014%2C%200%2C%200%5D%2C%5B140%2C%202.3%2C%2013.6%2C%200%2C%200%5D%2C%5B330%2C%202.8%2C13.4%2C%200%2C%200%5D%29%2C%0D%0A%09%0D%0A%09CAPACITYNAME%20%3A%5B%27CAPA1%27%2C%27CAPA2%27%2C%27CAPA3%27%2C%27CAPA4%27%2C%27CAPA5%27%2C%27CAPA6%27%2C%27AFT%20PEAK%27%2C%27FORE%20PEAK%27%5D%2C%0D%0A%09//CAPACITYNAME2%20%3A%5B%5B%27CAPA1%27%2C0%5D%2C%5B%27CAPA2%27%2C1%5D%2C%5B%27CAPA3%27%2C1%5D%2C%5B%27CAPA4%27%2C1%5D%2C%5B%27CAPA5%27%2C1%5D%2C%5B%27CAPA6%27%2C1%5D%2C%5B%27CAPA7%27%2C1%5D%2C%5B%27CAPA8%27%2C1%5D%2C%5B%27CAPA9%27%2C1%5D%2C%5B%27CAPA1%27%2C1%5D%2C%5B%27CAPA10%27%2C1%5D%5D%2C%09%09%09%0D%0A%09//CAPACITYNAME%20%3A%7BName%3A%27CAPA1%27%2CData%3A%5B%27CAPA2%27%2C%27CAPA3%27%2C%27CAPA4%27%2C%27CAPA5%27%2C%27CAPA6%27%2C%27FORE%20PEAK%27%2C%27AFT%20PEAK%27%5D%7D%20%2C%0D%0A%09x1%3A%5B%5D%2Cx2%3A%5B%5D%2Cy1%3A%5B%5D%2Cy2%3A%5B%5D%2Cz1%3A%5B%5D%2Cz2%3A%5B%5D%2CRo%3A%5B%5D%2C%0D%0A%20%20%20%20vx%3A%5B%5D%2Cxgx%3A%5B%5D%2Cygx%3A%5B%5D%2Czgx%3A%5B%5D%2C%20_itx%3A%5B%5D%2Csndx%3A%5B%5D%20%2C%0D%0A%0D%0A%20%20%20%20//GZ0%3A%5B%5D%2CPHI0%3A%5B%5D%2CKN1%3A%5B%5D%2C%09%0D%0A%09%0D%0A%0D%0A%20%20%20%20//****************************************************************************************************************%0D%0A%09HYDROxTXT%20%3A%20%0D%0A%09%09%270.300%20%0925.622%20%092.551%20%0932.955%20%09%0914.622%20%090.000%20%0940.685%20%09%095.234%20%09%095.365%20%09%0914.101%20%090.192%20%090.395%20%0911.935%20%09%09770.619%20%092.472%20%09147.413%200.105%20%090.203%20%090.004%20%090.338%20%090.198%20%090.517%20%090.529%2C%27%20+%0D%0A%09%09%270.687%20%0926.525%20%094.798%20%0970.547%20%09%0914.312%20%090.000%20%0987.234%20%09%0925.626%20%09%0926.266%20%09%0914.412%20%090.451%20%091.867%20%0996.906%20%09%091777.642%20%094.232%20%0969.820%20%090.217%20%090.419%20%090.034%20%090.723%20%090.410%20%090.517%20%090.529%2C%27%20+%0D%0A%09%09%271.075%20%0926.991%20%095.755%20%0996.674%20%09%20%20%20%0913.772%20%090.000%20%09123.690%20%0958.320%20%09%0959.778%20%09%0914.200%20%090.697%20%093.935%20%09198.080%20%092948.877%20%094.094%20%0951.261%20%090.310%20%090.565%20%090.069%20%090.991%20%090.553%20%090.549%20%090.561%2C%27%20+%0D%0A%09%09%271.462%20%0927.320%20%096.153%20%09116.031%20%0913.193%20%090.000%20%09155.661%20%0999.650%20%09%09102.141%20%0913.900%20%090.937%20%096.246%20%09277.177%20%094298.981%20%093.718%20%0944.077%20%090.385%20%090.659%20%090.096%20%091.189%20%090.655%20%090.584%20%090.587%2C%27%20+%0D%0A%09%09%271.849%20%0928.216%20%096.331%20%09132.746%20%0912.561%20%090.000%20%09186.956%20%09147.849%20%09151.545%20%0913.567%20%091.172%20%098.663%20%09338.756%20%095964.492%20%093.464%20%0941.514%20%090.437%20%090.723%20%090.118%20%091.361%20%090.726%20%090.605%20%090.602%2C%27%20+%0D%0A%09%09%272.237%20%0929.301%20%096.414%20%09144.750%20%0912.217%20%090.000%20%09216.527%20%09202.027%20%09207.078%20%0913.226%20%091.407%20%0911.129%20%09385.456%20%097408.701%20%093.315%20%0938.078%20%090.476%20%090.768%20%090.134%20%091.484%20%090.762%20%090.620%20%090.624%2C%27%20+%0D%0A%20%20%20%20%20%20%20%20%272.624%20%0929.461%20%096.451%20%09150.615%20%0912.337%20%090.000%20%09242.552%20%09259.278%20%09265.760%20%0913.015%20%091.633%20%0913.617%20%09415.309%20%098096.616%20%093.235%20%0932.860%20%090.518%20%090.801%20%090.144%20%091.544%20%090.789%20%090.646%20%090.656%2C%27%20+%0D%0A%09%09%273.011%20%0929.591%20%096.466%20%09155.477%20%0912.502%20%090.000%20%09268.595%20%09318.572%20%09326.536%20%0912.904%20%091.854%20%0916.115%20%09439.944%20%098702.699%20%093.235%20%0929.171%20%090.552%20%090.826%20%090.153%20%091.594%20%090.811%20%090.668%20%090.680%2C%27%20+%0D%0A%09%09%273.398%20%0929.701%20%096.470%20%09159.941%20%0912.671%20%090.000%20%09294.803%20%09379.662%20%09389.153%20%0912.853%20%092.071%20%0918.616%20%09463.631%20%099273.444%20%093.292%20%0926.497%20%090.580%20%090.845%20%090.161%20%091.639%20%090.831%20%090.687%20%090.698%2C%27%20+%0D%0A%09%09%273.786%20%0929.798%20%096.393%20%09156.926%20%0912.973%20%090.000%20%09327.475%20%09442.243%20%09453.299%20%0912.840%20%092.286%20%0921.105%20%09422.367%20%099696.625%20%093.241%20%0924.212%20%090.605%20%090.860%20%090.147%20%091.608%20%090.813%20%090.703%20%090.744%2C%27%20+%0D%0A%09%09%274.173%20%099.196%20%094.616%20%0927.411%20%20%0924.478%20%090.000%20%09469.320%20%09475.884%20%09487.781%20%0913.047%20%092.402%20%0921.876%20%0929.800%20%09%09123.704%20%092.465%20%092.662%20%091.914%20%090.809%20%090.010%20%090.281%20%090.460%20%092.366%20%094.160%27%20%20%20%2C%09%09%09%20%20%09%09%20%20%20%0D%0A%09%09%20%20%20%0D%0A%09CROSSxTXT%20%3A%20%20%20//%20Deps%20%20%20%20%20%205%09%0910%09%0920%09%0930%09%0940%09%0950%09%0960%09%0970%09%0980%09%0990//%0D%0A%09%09%2726.625%20%090.364%20%090.709%20%091.315%20%091.835%20%092.306%20%092.568%20%092.741%20%092.845%20%092.807%20%092.660%2C%27%20+%0D%0A%09%09%2759.848%20%090.352%20%090.685%20%091.261%20%091.737%20%092.161%20%092.567%20%092.807%20%092.866%20%092.786%20%092.601%2C%27%20+%0D%0A%09%09%27101.969%20%090.322%20%090.636%20%091.213%20%091.703%20%092.130%20%092.516%20%092.776%20%092.831%20%092.749%20%092.560%2C%27%20+%0D%0A%09%09%27151.271%20%090.300%20%090.599%20%091.172%20%091.687%20%092.132%20%092.453%20%092.679%20%092.773%20%092.709%20%092.529%2C%27%20+%0D%0A%09%09%27206.699%20%090.288%20%090.575%20%091.141%20%091.677%20%092.099%20%092.388%20%092.577%20%092.701%20%092.666%20%092.504%2C%27%20+%0D%0A%09%09%27265.439%20%090.281%20%090.562%20%091.125%20%091.639%20%092.037%20%092.321%20%092.503%20%092.601%20%092.620%20%092.482%2C%27%20+%0D%0A%09%09%27326.358%20%090.281%20%090.562%20%091.106%20%091.571%20%091.959%20%092.252%20%092.442%20%092.534%20%092.565%20%092.462%2C%27%20+%0D%0A%09%09%27389.083%20%090.286%20%090.564%20%091.057%20%091.496%20%091.882%20%092.189%20%092.395%20%092.498%20%092.514%20%092.449%2C%27%20+%0D%0A%09%09%27449.505%20%090.271%20%090.522%20%090.992%20%091.425%20%091.816%20%092.140%20%092.364%20%092.481%20%092.502%20%092.449%2C%27%20+%0D%0A%09%09%27486.683%20%090.215%20%090.447%20%090.921%20%091.358%20%091.753%20%092.091%20%092.335%20%092.466%20%092.493%20%092.449%2C%27%20%20%2C%09%0D%0A%0D%0A%09PROFILxTXT%20%3A%20%0D%0A%09%20%20%20%20//DH%09surf%09Xg%09%20%20%20%20Zg%0D%0A%09%09%270.000%20%090.000%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%270.195%20%094.763%20%0913.217%20%090.099%2C%27%20+%0D%0A%09%09%270.390%20%099.751%20%0913.520%20%090.199%2C%27%20+%0D%0A%09%09%270.585%20%0914.847%20%0913.714%20%090.298%2C%27%20+%0D%0A%09%09%270.780%20%0920.016%20%0913.859%20%090.397%2C%27%20+%0D%0A%09%09%270.975%20%0925.236%20%0913.972%20%090.497%2C%27%20+%0D%0A%09%09%271.170%20%0930.498%20%0914.065%20%200.596%2C%27%20+%0D%0A%09%09%271.365%20%0935.794%20%0914.144%20%090.696%2C%27%20+%0D%0A%09%09%271.560%20%0941.120%20%0914.213%20%090.795%2C%27%20+%0D%0A%09%09%271.755%20%0946.477%20%0914.273%20%090.895%2C%27%20+%0D%0A%09%09%271.950%20%0951.997%20%0914.290%20%090.996%2C%27%20+%0D%0A%09%09%272.145%20%0957.684%20%0914.272%20%091.100%2C%27%20+%0D%0A%09%09%272.340%20%0963.398%20%0914.260%20%091.203%2C%27%20+%0D%0A%09%09%272.535%20%0969.127%20%0914.254%20%091.305%2C%27%20+%0D%0A%09%09%272.730%20%0974.871%20%0914.251%20%091.407%2C%27%20+%0D%0A%09%09%272.925%20%0980.629%20%0914.252%20%091.509%2C%27%20+%0D%0A%09%09%273.120%20%0986.398%20%0914.255%20%091.610%2C%27%20+%0D%0A%09%09%273.315%20%0992.179%20%0914.260%20%091.711%2C%27%20+%0D%0A%09%09%273.510%20%0997.970%20%0914.265%20%091.811%2C%27%20+%0D%0A%09%09%273.705%20%09103.771%2014.272%20%091.912%2C%27%20%20%2C%20%0D%0A%0D%0A%20%20%20%20LOADINGxTXT%20%3A%20%2762%20%20%202%20%20%20%2014%20%20%20%200%20%200%2C%27%20+%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27140%20%202.3%20%2013.6%20%200%20%200%2C%27%20+%0D%0A%09%09%09%09%20%20%27330%20%202.8%20%2013.4%20%200%20%200%2C%27%20%2C%09%09%0D%0A%20%20%20%0D%0A%20%20%20%09%20%20%20%20%20%20%20%20%20%20//Sounding%09Ullage%09V%09xg%09yg%09zg%09It%09Il%0D%0A%09%09%09CAPACITYxTXT%20%3A%20%0D%0A%09%09%09%09%270.000%20%091.699%20%090.020%20%096.301%20%09-2.038%20%091.303%20%090.463%20%094.723%2C%27%20+%0D%0A%09%09%09%09%270.113%20%091.586%20%090.508%20%096.247%20%09-2.063%20%091.360%20%090.579%20%095.700%2C%27%20+%0D%0A%09%09%09%09%270.227%20%091.472%20%091.046%20%096.211%20%09-2.086%20%091.420%20%090.689%20%096.331%2C%27%20+%0D%0A%09%09%09%09%270.340%20%091.359%20%091.621%20%096.185%20%09-2.107%20%091.480%20%090.787%20%096.774%2C%27%20+%0D%0A%09%09%09%09%270.453%20%091.246%20%092.223%20%096.165%20%09-2.124%20%091.540%20%090.865%20%097.072%2C%27%20+%0D%0A%09%09%09%09%270.566%20%091.133%20%092.845%20%096.149%20%09-2.139%20%091.600%20%090.925%20%097.276%2C%27%20+%0D%0A%09%09%09%09%270.680%20%091.019%20%093.482%20%096.135%20%09-2.151%20%091.660%20%090.972%20%097.425%2C%27%20+%0D%0A%09%09%09%09%270.793%20%090.906%20%094.130%20%096.123%20%09-2.162%20%091.720%20%091.008%20%097.541%2C%27%20+%0D%0A%09%09%09%09%270.906%20%090.793%20%094.786%20%096.112%20%09-2.170%20%091.779%20%091.037%20%097.636%2C%27%20+%0D%0A%09%09%09%09%271.019%20%090.680%20%095.448%20%096.103%20%09-2.178%20%091.839%20%091.060%20%097.714%2C%27%20+%0D%0A%09%09%09%09%271.133%20%090.566%20%096.115%20%096.095%20%09-2.184%20%091.898%20%091.078%20%097.781%2C%27%20+%0D%0A%09%09%09%09%271.246%20%090.453%20%096.786%20%096.087%20%09-2.190%20%091.957%20%091.092%20%097.838%2C%27%20+%0D%0A%09%09%09%09%271.359%20%090.340%20%097.460%20%096.081%20%09-2.195%20%092.016%20%091.103%20%097.887%2C%27%20+%0D%0A%09%09%09%09%271.472%20%090.227%20%098.136%20%096.075%20%09-2.199%20%092.074%20%091.112%20%097.928%2C%27%20+%0D%0A%09%09%09%09%271.586%20%090.113%20%098.814%20%096.069%20%09-2.203%20%092.133%20%091.119%20%097.962%2C%27%20+%0D%0A%09%09%09%09%271.699%20%090.000%20%099.469%20%096.065%20%09-2.206%20%092.189%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY2TXT%20%3A%20%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%091.699%20%090.020%20%096.247%20%092.032%20%091.303%20%090.450%20%094.579%2C%27%20+%0D%0A%09%09%09%09%270.113%20%091.586%20%090.500%20%096.189%20%092.058%20%091.360%20%090.566%20%095.610%2C%27%20+%0D%0A%09%09%09%09%270.227%20%091.472%20%091.033%20%096.149%20%092.081%20%091.420%20%090.675%20%096.265%2C%27%20+%0D%0A%09%09%09%09%270.340%20%091.359%20%091.604%20%096.122%20%092.102%20%091.480%20%090.774%20%096.722%2C%27%20+%0D%0A%09%09%09%09%270.453%20%091.246%20%092.203%20%096.101%20%092.120%20%091.540%20%090.854%20%097.034%2C%27%20+%0D%0A%09%09%09%09%270.566%20%091.133%20%092.822%20%096.084%20%092.135%20%091.601%20%090.916%20%097.246%2C%27%20+%0D%0A%09%09%09%09%270.680%20%091.019%20%093.457%20%096.070%20%092.148%20%091.661%20%090.964%20%097.401%2C%27%20+%0D%0A%09%09%09%09%270.793%20%090.906%20%094.102%20%096.057%20%092.158%20%091.721%20%091.001%20%097.520%2C%27%20+%0D%0A%09%09%09%09%270.906%20%090.793%20%094.757%20%096.047%20%092.167%20%091.780%20%091.031%20%097.617%2C%27%20+%0D%0A%09%09%09%09%271.019%20%090.680%20%095.418%20%096.037%20%092.175%20%091.840%20%091.055%20%097.697%2C%27%20+%0D%0A%09%09%09%09%271.133%20%090.566%20%096.084%20%096.028%20%092.182%20%091.899%20%091.074%20%097.765%2C%27%20+%0D%0A%09%09%09%09%271.246%20%090.453%20%096.754%20%096.021%20%092.187%20%091.958%20%091.089%20%097.824%2C%27%20+%0D%0A%09%09%09%09%271.359%20%090.340%20%097.427%20%096.014%20%092.192%20%092.017%20%091.101%20%097.875%2C%27%20+%0D%0A%09%09%09%09%271.472%20%090.227%20%098.102%20%096.008%20%092.197%20%092.076%20%091.110%20%097.918%2C%27%20+%0D%0A%09%09%09%09%271.586%20%090.113%20%098.780%20%096.002%20%092.201%20%092.134%20%091.117%20%097.953%2C%27%20+%0D%0A%09%09%09%09%271.699%20%090.000%20%099.434%20%095.997%20%092.204%20%092.190%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY3TXT%20%3A%20%09%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%090.799%20%090.005%20%0912.500%20%090.000%20%092.402%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.053%20%090.746%20%090.058%20%0912.500%20%090.000%20%092.429%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.107%20%090.692%20%090.112%20%0912.500%20%090.000%20%092.456%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.160%20%090.639%20%090.165%20%0912.500%20%090.000%20%092.482%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.213%20%090.586%20%090.218%20%0912.500%20%090.000%20%092.509%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.266%20%090.533%20%090.271%20%0912.500%20%090.000%20%092.536%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.320%20%090.479%20%090.325%20%0912.500%20%090.000%20%092.562%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.373%20%090.426%20%090.378%20%0912.500%20%090.000%20%092.589%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.426%20%090.373%20%090.431%20%0912.500%20%090.000%20%092.616%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.479%20%090.320%20%090.484%20%0912.500%20%090.000%20%092.642%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.533%20%090.266%20%090.538%20%0912.500%20%090.000%20%092.669%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.586%20%090.213%20%090.591%20%0912.500%20%090.000%20%092.695%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.639%20%090.160%20%090.644%20%0912.500%20%090.000%20%092.722%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.692%20%090.107%20%090.697%20%0912.500%20%090.000%20%092.749%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.746%20%090.053%20%090.751%20%0912.500%20%090.000%20%092.775%20%090.083%20%090.083%2C%27%20+%0D%0A%09%09%09%09%270.799%20%090.000%20%090.800%20%0912.500%20%090.000%20%092.800%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY4TXT%20%3A%20%09%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%091.699%20%090.030%20%0911.012%20%092.244%20%091.302%20%091.100%20%097.886%2C%27%20+%0D%0A%09%09%09%09%270.113%20%091.586%20%090.707%20%0911.005%20%092.248%20%091.359%20%091.124%20%097.993%2C%27%20+%0D%0A%09%09%09%09%270.227%20%091.472%20%091.387%20%0911.003%20%092.249%20%091.416%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.340%20%091.359%20%092.067%20%0911.002%20%092.249%20%091.473%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.453%20%091.246%20%092.746%20%0911.001%20%092.249%20%091.529%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.566%20%091.133%20%093.426%20%0911.001%20%092.250%20%091.586%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.680%20%091.019%20%094.105%20%0911.001%20%092.250%20%091.642%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.793%20%090.906%20%094.785%20%0911.001%20%092.250%20%091.699%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.906%20%090.793%20%095.465%20%0911.001%20%092.250%20%091.756%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.019%20%090.680%20%096.144%20%0911.001%20%092.250%20%091.812%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.133%20%090.566%20%096.824%20%0911.001%20%092.250%20%091.869%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.246%20%090.453%20%097.503%20%0911.000%20%092.250%20%091.926%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.359%20%090.340%20%098.183%20%0911.000%20%092.250%20%091.982%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.472%20%090.227%20%098.863%20%0911.000%20%092.250%20%092.039%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.586%20%090.113%20%099.542%20%0911.000%20%092.250%20%092.096%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.699%20%090.000%20%0910.198%20%0911.000%20%092.250%20%092.150%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY5TXT%20%3A%20%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%091.699%20%090.030%20%0911.012%20%09-2.244%20%091.302%20%091.100%20%097.886%2C%27%20+%0D%0A%09%09%09%09%270.113%20%091.586%20%090.707%20%0911.005%20%09-2.248%20%091.359%20%091.124%20%097.993%2C%27%20+%0D%0A%09%09%09%09%270.227%20%091.472%20%091.387%20%0911.003%20%09-2.249%20%091.416%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.340%20%091.359%20%092.067%20%0911.002%20%09-2.249%20%091.473%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.453%20%091.246%20%092.746%20%0911.001%20%09-2.249%20%091.529%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.566%20%091.133%20%093.426%20%0911.001%20%09-2.250%20%091.586%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.680%20%091.019%20%094.105%20%0911.001%20%09-2.250%20%091.642%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.793%20%090.906%20%094.785%20%0911.001%20%09-2.250%20%091.699%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%270.906%20%090.793%20%095.465%20%0911.001%20%09-2.250%20%091.756%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.019%20%090.680%20%096.144%20%0911.001%20%09-2.250%20%091.812%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.133%20%090.566%20%096.824%20%0911.001%20%09-2.250%20%091.869%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.246%20%090.453%20%097.503%20%0911.000%20%09-2.250%20%091.926%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.359%20%090.340%20%098.183%20%0911.000%20%09-2.250%20%091.982%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.472%20%090.227%20%098.863%20%0911.000%20%09-2.250%20%092.039%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.586%20%090.113%20%099.542%20%0911.000%20%09-2.250%20%092.096%20%091.125%20%098.000%2C%27%20+%0D%0A%09%09%09%09%271.699%20%090.000%20%0910.198%20%0911.000%20%09-2.250%20%092.150%20%090.000%20%090.000%2C%27%20+%20%0D%0A%09%09%09//CAPACITY6TXT%20%3A%20%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%091.199%20%090.008%20%0912.500%20%090.000%20%090.803%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.080%20%091.119%20%090.136%20%0912.500%20%090.000%20%090.842%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.160%20%091.039%20%090.264%20%0912.500%20%090.000%20%090.882%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.240%20%090.959%20%090.392%20%0912.500%20%090.000%20%090.922%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.320%20%090.879%20%090.520%20%0912.500%20%090.000%20%090.962%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.400%20%090.799%20%090.647%20%0912.500%20%090.000%20%091.002%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.480%20%090.719%20%090.775%20%0912.500%20%090.000%20%091.042%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.560%20%090.639%20%090.903%20%0912.500%20%090.000%20%091.082%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.639%20%090.560%20%091.031%20%0912.500%20%090.000%20%091.122%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.719%20%090.480%20%091.159%20%0912.500%20%090.000%20%091.162%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.799%20%090.400%20%091.287%20%0912.500%20%090.000%20%091.202%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.879%20%090.320%20%091.415%20%0912.500%20%090.000%20%091.242%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%270.959%20%090.240%20%091.543%20%0912.500%20%090.000%20%091.282%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%271.039%20%090.160%20%091.671%20%0912.500%20%090.000%20%091.322%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%271.119%20%090.080%20%091.799%20%0912.500%20%090.000%20%091.362%20%090.341%20%090.133%2C%27%20+%0D%0A%09%09%09%09%271.199%20%090.000%20%091.920%20%0912.500%20%090.000%20%091.400%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY7TXT%20%3A%20%09%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%091.999%20%090.053%20%091.754%20%090.000%20%091.863%20%0916.104%20%095.426%2C%27%20+%0D%0A%09%09%09%09%270.133%20%091.866%20%091.665%20%091.614%20%090.000%20%091.932%20%0922.770%20%098.998%2C%27%20+%0D%0A%09%09%09%09%270.267%20%091.732%20%093.475%20%091.568%20%090.000%20%092.001%20%0927.272%20%099.795%2C%27%20+%0D%0A%09%09%09%09%270.400%20%091.599%20%095.382%20%091.547%20%090.000%20%092.071%20%0930.642%20%0910.259%2C%27%20+%0D%0A%09%09%09%09%270.533%20%091.466%20%097.355%20%091.533%20%090.000%20%092.141%20%0933.366%20%0910.589%2C%27%20+%0D%0A%09%09%09%09%270.666%20%091.333%20%099.380%20%091.524%20%090.000%20%092.211%20%0935.686%20%0910.849%2C%27%20+%0D%0A%09%09%09%09%270.800%20%091.199%20%0911.448%20%091.517%20%090.000%20%092.281%20%0937.741%20%0911.067%2C%27%20+%0D%0A%09%09%09%09%270.933%20%091.066%20%0913.552%20%091.511%20%090.000%20%092.351%20%0939.618%20%0911.257%2C%27%20+%0D%0A%09%09%09%09%271.066%20%090.933%20%0915.689%20%091.507%20%090.000%20%092.421%20%0941.378%20%0911.428%2C%27%20+%0D%0A%09%09%09%09%271.199%20%090.800%20%0917.857%20%091.503%20%090.000%20%092.491%20%0943.063%20%0911.587%2C%27%20+%0D%0A%09%09%09%09%271.333%20%090.666%20%0920.053%20%091.500%20%090.000%20%092.561%20%0944.703%20%0911.738%2C%27%20+%0D%0A%09%09%09%09%271.466%20%090.533%20%0922.275%20%091.497%20%090.000%20%092.631%20%0946.323%20%0911.883%2C%27%20+%0D%0A%09%09%09%09%271.599%20%090.400%20%0924.524%20%091.494%20%090.000%20%092.702%20%0947.939%20%0912.023%2C%27%20+%0D%0A%09%09%09%09%271.732%20%090.267%20%0926.799%20%091.492%20%090.000%20%092.772%20%0949.534%20%0912.155%2C%27%20+%0D%0A%09%09%09%09%271.866%20%090.133%20%0929.098%20%091.490%20%090.000%20%092.842%20%0950.934%20%0912.255%2C%27%20+%0D%0A%09%09%09%09%271.999%20%090.000%20%0931.322%20%091.487%20%090.000%20%092.910%20%090.000%20%090.000%2C%27%20+%0D%0A%09%09%09//CAPACITY8TXT%20%3A%20%20%09%09%09%09%09%09%09%0D%0A%09%09%09%09%270.000%20%093.757%20%090.017%20%0924.606%20%090.000%20%090.700%20%090.284%20%094.741%2C%27%20+%0D%0A%09%09%09%09%270.250%20%093.506%20%091.014%20%0924.656%20%090.000%20%090.834%20%090.649%20%097.184%2C%27%20+%0D%0A%09%09%09%09%270.501%20%093.256%20%092.312%20%0924.700%20%090.000%20%090.975%20%091.179%20%099.621%2C%27%20+%0D%0A%09%09%09%09%270.751%20%093.005%20%093.898%20%0924.736%20%090.000%20%091.122%20%091.887%20%0911.781%2C%27%20+%0D%0A%09%09%09%09%271.002%20%092.755%20%095.765%20%0924.767%20%090.000%20%091.272%20%092.799%20%0913.934%2C%27%20+%0D%0A%09%09%09%09%271.252%20%092.504%20%097.914%20%0924.796%20%090.000%20%091.424%20%093.950%20%0916.132%2C%27%20+%0D%0A%09%09%09%09%271.503%20%092.254%20%0910.350%20%0924.823%20%090.000%20%091.580%20%095.385%20%0918.398%2C%27%20+%0D%0A%09%09%09%09%271.753%20%092.004%20%0913.078%20%0924.849%20%090.000%20%091.737%20%097.150%20%0920.735%2C%27%20+%0D%0A%09%09%09%09%272.004%20%091.753%20%0916.104%20%0924.874%20%090.000%20%091.897%20%099.289%20%0923.143%2C%27%20+%0D%0A%09%09%09%09%272.254%20%091.503%20%0919.433%20%0924.897%20%090.000%20%092.058%20%0911.831%20%0925.583%2C%27%20+%0D%0A%09%09%09%09%272.504%20%091.252%20%0923.066%20%0924.920%20%090.000%20%092.220%20%0914.796%20%0928.015%2C%27%20+%0D%0A%09%09%09%09%272.755%20%091.002%20%0927.000%20%0924.940%20%090.000%20%092.382%20%0918.182%20%0930.406%2C%27%20+%0D%0A%09%09%09%09%273.005%20%090.751%20%0931.228%20%0924.960%20%090.000%20%092.545%20%0921.946%20%0932.703%2C%27%20+%0D%0A%09%09%09%09%273.256%20%090.501%20%0935.738%20%0924.977%20%090.000%20%092.708%20%0926.051%20%0934.895%2C%27%20+%0D%0A%09%09%09%09%273.506%20%090.250%20%0940.421%20%0924.996%20%090.000%20%092.868%20%0918.700%20%0931.057%2C%27%20+%0D%0A%09%09%09%09%273.757%20%090.000%20%0942.469%20%0925.038%20%090.000%20%092.936%20%090.000%20%090.000%2C%27%20%2C%09%09%0D%0A%09%09%09%09%0D%0A%09%09%09%09//x1%20%20%20%20%20%20%20x2%20%20%20%20%20%20%20%20%20%20y1%20%20%20%20%20%20y2%20%20%20%20z1%20%20%20%20%20z2%20%20%20%20%20%20%20Ro%20%0D%0A%09%09%09CAPACITYxDIMTXT%20%3A%20%09%09%09%09%09%0D%0A%09%09%09%09%275.000%20%09%20%204.000%20%20-1.200%20%20-1.500%20%201.300%20%091.700%20%090.90%2C%27%20+%0D%0A%09%09%09%09%275.000%20%09%20%204.000%20%201.200%20%09%201.500%20%09%201.300%20%091.700%20%090.90%2C%27%20+%0D%0A%09%09%09%09%2712.000%20%20%201.000%20%20-0.500%20%201.000%20%09%202.400%20%090.800%20%090.90%2C%27%20+%0D%0A%09%09%09%09%2711.000%20%20%202.000%20%201.500%20%09%201.500%20%09%201.300%20%091.700%20%090.90%2C%27%20+%0D%0A%09%09%09%09%2711.000%20%20%202.000%20%20-1.500%20%20-1.500%20%201.300%20%091.700%20%090.90%2C%27%20+%0D%0A%09%09%09%09%2712.000%20%20%201.000%20%20-0.800%20%20%201.600%20%200.800%20%091.200%20%090.90%2C%27%20+%0D%0A%09%09%09%09%27-3.000%20%20%205.000%20%203.000%20%09%20-6.000%20%201.860%20%092.000%20%090.90%2C%27%20+%0D%0A%09%09%09%09%2720.000%20%20%204.000%20%203.000%20%09%20-6.000%20%200.000%20%093.300%20%090.90%2C%27%20%2C%0D%0A%09%09%20%20%20%09%09//20.00%20%20%204.000%20%203.000%20%20%20%206.000%20%200.700%093.000%090.90%0D%0A%09%0D%0A%20%20%20%20DATA%3A%20function%28%29%20%7B%20%20//DATA%20PARSE%0D%0A%0D%0A%09%09var%20Lines2%20%3D%20this.HYDROxTXT.split%28%27%2C%27%29%3B%20//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20Lines%5B0%5D%20%3B%20%0D%0A%20%20%20%20%20%20%20%20//var%20thisT%3D%5B%5D%3B%09%0D%0A%09%09for%20%28var%20r%20%3D%200%3B%20%20%20r%3C%3D9%3B%20r++%29%20%7B%0D%0A%09%09%09var%20res%20%20%3D%20Lines2%5Br%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B//https%3A//stackoverflow.com/questions/3893625/how-would-i-remove-blank-characters-from-a-string-in-javascript%0D%0A%09%09%09this.T%5Br%5D%20%20%20%3D%20+res%5B0%5D%3B%20%20this.Wpl%5Br%5D%20%3D%20+res%5B1%5D%3B%20%20this.Wpb%5Br%5D%20%3D%20+res%5B2%5D%3B%20%20this.Wpa%5Br%5D%20%3D%20+res%5B3%5D%3B%09this.Lcf%5Br%5D%20%3D%20+res%5B4%5D%3B%20this.Ycf%5Br%5D%20%3D%20+res%5B5%5D%3B%09%0D%0A%09%09%09this.Ba%5Br%5D%20%20%3D%20+res%5B6%5D%3B%20%20this.VOL%5Br%5D%20%3D%20+res%5B7%5D%3B%20%20this.DpH%5Br%5D%20%3D%20+res%5B8%5D%3B%20%20this.Lcb%5Br%5D%20%3D%20+res%5B9%5D%3B%09this.KB%5Br%5D%20%20%3D%20+res%5B10%5D%3B%20this.Mss%5Br%5D%20%3D%20+res%5B11%5D%3B%09%09%09%20%0D%0A%09%09%09this.IT%5Br%5D%20%20%3D%20+res%5B12%5D%3B%20this.IL%5Br%5D%20%20%3D%20+res%5B13%5D%3B%20this.Kmt%5Br%5D%20%3D%20+res%5B14%5D%3B%20this.Kml%5Br%5D%20%3D%20+res%5B15%5D%3B%20this.Cb%5Br%5D%20%20%3D%20+res%5B16%5D%3B%20this.Cm%5Br%5D%20%20%3D%20+res%5B17%5D%3B%09%09%09%20%0D%0A%09%09%09this.Mct%5Br%5D%20%3D%20+res%5B18%5D%3B%20this.Tpc%5Br%5D%20%3D%20+res%5B19%5D%3B%20this.Wpc%5Br%5D%20%3D%20+res%5B20%5D%3B%20this.Cvp%5Br%5D%20%3D%20+res%5B22%5D%3B%0D%0A%09%09%7D%20%20%0D%0A%09%09%0D%0A%09%09Lines2%20%3D%20this.CROSSxTXT.split%28%27%2C%27%29%3B%20%0D%0A%09%09for%20%28var%20r%20%3D%200%3B%20%20%20r%3C%3D9%3B%20r++%29%20%7B%0D%0A%09%09%09this.PANTO%5Br%5D%20%3D%5B%5D%3B%0D%0A%09%09%09var%20res%20%20%3D%20Lines2%5Br%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%0D%0A%09%09%09for%20%28var%20c%20%3D%200%3B%20%20%20c%3C%3D10%3Bc++%29%20this.PANTO%5Br%5D%5Bc%5D%20%3D%20+res%5Bc%5D%3B%0D%0A%09%09%7D%20%09%09%0D%0A%09%09%0D%0A%09%09//%20PROFIL%0D%0A%09%09Lines2%20%3D%20this.PROFILxTXT.split%28%27%2C%27%29%3B%20%20%20%09%09%0D%0A%20%20%20%20%09for%20%28var%20r%20%3D%200%3B%20%20r%3C%3D19%3B%20r++%29%20%7B%0D%0A%09%09%09var%20res%20%20%3D%20Lines2%5Br%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%0D%0A%09%09%09this.PROFILTm%5Br%5D%20%3D%20+res%5B0%5D%3B%09this.PROFILArea%5Br%5D%20%3D%20+res%5B1%5D%3B%20this.PROFILZg%5Br%5D%20%3D%20+res%5B3%5D%3B%09%0D%0A%09%09%7D%0D%0A%09%09%0D%0A%09%09//loading%20case%20processing%0D%0A%09%09Lines2%20%3D%20this.LOADINGxTXT.split%28%27%2C%27%29%3B%20%20%09%09%0D%0A%09%09for%20%28var%20r%20%3D%200%3B%20%20%20r%3C%3D2%3B%20r++%29%20%7B%09%0D%0A%09%09%09var%20res%20%20%3D%20Lines2%5Br%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%0D%0A%09%09%09this.disp%5Br%5D%20%3D%20+res%5B0%5D%3B%20%20this.kg%5Br%5D%20%3D%20+res%5B1%5D%3B%20this.lcg%5Br%5D%20%3D%20+res%5B2%5D%3B%09this.tcg%5Br%5D%20%3D%20+res%5B3%5D%3B%20%20this.fs%5Br%5D%20%3D%20+res%5B4%5D%3B%09%0D%0A%09%09%7D%0D%0A%09%09%0D%0A%09%09//define%20capa%0D%0A%09%09Lines2%20%3D%20this.CAPACITYxTXT.split%28%27%2C%27%29%3B%20%09k%3D0%3B%09%09%0D%0A%09%09this.vx%5B0%5D%3D%5B%5D%3B%20this.xgx%5B0%5D%3D%5B%5D%3B%20this.ygx%5B0%5D%3D%5B%5D%3B%20this.zgx%5B0%5D%3D%5B%5D%3B%20this._itx%5B0%5D%3D%5B%5D%3B%20this.sndx%5B0%5D%3D%5B%5D%20%3B%20%0D%0A%09%09for%20%28var%20c%20%3D%201%3B%20c%3C%3D8%3B%20c++%29%20%7B%09%09//extract%20hydro%20elements%0D%0A%09%09%09this.vx%5Bc%5D%3D%5B%5D%3B%20this.xgx%5Bc%5D%3D%5B%5D%3B%20this.ygx%5Bc%5D%3D%5B%5D%3B%20this.zgx%5Bc%5D%3D%5B%5D%3B%20this._itx%5Bc%5D%3D%5B%5D%3B%20this.sndx%5Bc%5D%3D%5B%5D%20%3B%09%0D%0A%09%09%09for%20%28var%20r%20%3D%200%3B%20r%3C%3D15%3B%20r++%29%20%7B%09%0D%0A%09%09%09%20%20%20%20var%20res%20%20%3D%20Lines2%5Bk%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%0D%0A%20%20%09%09%09%09this.sndx%5Bc%5D%5Br%5D%20%3D%20+res%5B0%5D%3B%09this.vx%5Bc%5D%5Br%5D%20%20%3D%20+res%5B2%5D%3B%20this.xgx%5Bc%5D%5Br%5D%20%3D%20+res%5B3%5D%20%3B%09%09%09%09%09%09%20%0D%0A%09%09%09%09this.ygx%5Bc%5D%5Br%5D%20%3D%20+res%5B4%5D%20%3B%09this.zgx%5Bc%5D%5Br%5D%20%3D%20+res%5B5%5D%3B%20this._itx%5Bc%5D%5Br%5D%20%3D%20+res%5B6%5D%20%3B%0D%0A%09%09%20%20%20%20k%20%3D%20k%20+1%3B%20%09%09%09%20%20%20%0D%0A%09%09%09%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%09%09%7D%20%0D%0A%09%09%0D%0A%09%09//%20CAPADIM%0D%0A%09%09Lines2%20%3D%20this.CAPACITYxDIMTXT.split%28%27%2C%27%29%3B%20%0D%0A%09%09for%20%28var%20r%20%3D%200%3B%20%20r%3C%3D7%3B%20r++%29%20%7B%0D%0A%09%09%20%20%20%20var%20res%20%20%3D%20Lines2%5Br%5D.replace%28/%5Cs+/g%2C%22%20%22%29.split%28%22%20%22%29%3B%09%09%0D%0A%09%09%09this.x1%5Br+1%5D%20%3D%20+res%5B0%5D%3B%20%20this.x2%5Br+1%5D%20%3D%20+res%5B1%5D%3B%20this.y1%5Br+1%5D%20%3D%20+res%5B2%5D%3B%20this.y2%5Br+1%5D%20%3D%20+res%5B3%5D%3B%20%20%0D%0A%09%09%09this.z1%5Br+1%5D%20%3D%20+res%5B4%5D%3B%20%20this.z2%5Br+1%5D%20%3D%20+res%5B5%5D%3B%20this.Ro%5Br+1%5D%20%3D%20+res%5B6%5D%3B%20%0D%0A%09%09%7D%09%09%09%0D%0A%09%09%0D%0A%09%7D%20%2C%0D%0A%09%0D%0A%09%0D%0A%09LoadCondition_TRIM%3Afunction%28id%29%20%7B%20%20//directly%20invocated%20by%20loading%20case%20sheet%20on%20Enter%20event%20%20and%20by%20longitudinal%20WEIGHT%20shift%20%28only%20x%20shifting%20%29%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//LoadCondition_TRIM%28%27LOAD_draft%27%29Draft%20%3D%20+%28document.getElementById%28%22LOAD_draft%22%29.value%29%3B%0D%0A%09%09%09switch%20%28id%29%20%7B%0D%0A%09%09%09%09case%20%27LOAD_draft%27%20%3A%09%09%0D%0A%09%09%09%09%09//--------------------------------------------------------------Interpolation%20on%20Hydro%20data/entry%20with%20Tx%20%09%09%09%09%09%0D%0A%09%09%09%09%09Draft%20%3D%20+%28document.getElementById%28%22LOAD_draft%22%29.value%29%3B%20%20%09%09//SIMMON.T%20%3D%20Draft%20%3B%09//updating%20ship%20position%20inside%20THREEjs%20renderer%0D%0A%09%09%09%09%09Dep0%20%3D%20numeric.spline%28Tx%2CDx%29.at%28Draft%29%3B%20%09%20%09%20%0D%0A%09%09%09%09%09Kml%20%3D%20numeric.spline%28Tx%2CKmlx%29.at%28Draft%29%3B%20%20%20%09%20%09%20%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20Kml.toFixed%283%29%3B%0D%0A%09%09%09%09%09Kmt%20%3D%20numeric.spline%28Tx%2CKmtx%29.at%28Draft%29%3B%20%09%09%09%09%09%0D%0A%09%09%09%09%09Lcb%20%3D%20numeric.spline%28Tx%2CLcbx%29.at%28Draft%29%3B%20%20%20%0D%0A%09%09%09%09%09Lcf%20%3D%20numeric.spline%28Tx%2CLcfx%29.at%28Draft%29%3B%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09//---------------------------------------------------------------Interpolation%20on%20loading%20cases/entry%20with%20dispx%0D%0A%09%09%09%09%09kg%20%3D%20numeric.spline%28dispx%2Ckgx%29.at%28Dep0%29%3B%09%20%09%20%0D%0A%09%09%09%09%20%20%20%20lcg%20%3D%20numeric.spline%28dispx%2Clcgx%29.at%28Dep0%29%3B%09%20%09%20%0D%0A%09%09%09%09%20%20%20%20tcg%20%3D%20numeric.spline%28dispx%2Ctcgx%29.at%28Dep0%29%3B%09%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20frees%20%3D%20numeric.spline%28dispx%2Cfsx%29.at%28Dep0%29%3B%20%20%09%20%0D%0A%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cellcolor%28%27LOAD%27%2CDep0%29%3B%20STAB_GZINTACT%28Dep0%29%3B%20break%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%09%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09case%20%27LOAD_weight%27%3A%20%0D%0A%09%09%09%09%09//--------------------------------------------------------------Interpolation%20on%20Hydro%20data/entry%20with%20Dx%09%09%09%09%09%0D%0A%09%09%09%09%09Dep0%20%3D%20%20+%28document.getElementById%28%22LOAD_weight%22%29.value%29%20%3B%0D%0A%09%09%09%09%09Draft%20%3D%20numeric.spline%28Dx%2CTx%29.at%28Dep0%29%3B%20%09%20%09%20%09%09%09%09//SIMMON.T%20%3D%20Draft%20%3B%09//updating%20ship%20position%20inside%20THREEjs%20renderer%09%0D%0A%09%09%09%09%09Kml%20%3D%20numeric.spline%28Dx%2CKmlx%29.at%28Dep0%29%3B%20%20%20%09%20%09%20%0D%0A%09%09%09%09%09Kmt%20%3D%20numeric.spline%28Dx%2CKmtx%29.at%28Draft%29%3B%20%09%09%09%09%09%0D%0A%09%09%09%09%09Lcb%20%3D%20numeric.spline%28Dx%2CLcbx%29.at%28Draft%29%3B%0D%0A%09%09%09%09%09Lcf%20%3D%20numeric.spline%28Dx%2CLcfx%29.at%28Draft%29%3B%20%20%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09//--------------------------------------------------------------Interpolation%20on%20loading%20cases/entry%20with%20dispx%0D%0A%09%09%09%09%09kg%20%3D%20numeric.spline%28dispx%2Ckgx%29.at%28Dep0%29%3B%09%20%09%20%0D%0A%09%09%09%09%20%20%20%20lcg%20%3D%20numeric.spline%28dispx%2Clcgx%29.at%28Dep0%29%3B%09%20%09%20%0D%0A%09%09%09%09%20%20%20%20tcg%20%3D%20numeric.spline%28dispx%2Ctcgx%29.at%28Dep0%29%3B%09%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20frees%20%3D%20numeric.spline%28dispx%2Cfsx%29.at%28Dep0%29%3B%20%20%09%20%0D%0A%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cellcolor%28%27LOAD%27%2CDep0%29%3B%20STAB_GZINTACT%28Dep0%29%3B%20break%3B%20%20%0D%0A%09%09%09%09%09/*%0D%0A%09%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%3C%3D9%3B%20i++%29%20%7B%20%0D%0A%09%09%09%09%09%20%20%20%20if%20%28Dx%5Bi%5D%20%3E%20Dep0%29%7B%0D%0A%09%09%09%09%09%09Draft%20%3D%20%28Interpol%28i%2CDx%2CTx%2CDep0%29%29.toFixed%282%29%3B%20%20//function%28i%2Cxi%2Cyi%2Cx0%29%0D%0A%09%09%09%09%09%09//Kmt%20%3D%20Interpol%28i%2CDx%2CKmtx%2CDep0%29%3B%20%20//function%28i%2Cxi%2Cyi%2Cx0%29%09%0D%0A%09%09%09%09%09%09Kml%20%3D%20Interpol%28i%2CDx%2CKmlx%2CDep0%29%3B%20%20//function%28i%2Cxi%2Cyi%2Cx0%29%09%09%09%09%09%09%0D%0A%09%09%09%09%09%20%20%20%20document.getElementById%28%22LOAD_draft%22%29.value%20%3D%20Draft%20%3BSIMMON.update_FRFs%28%29%20%20%3B%0D%0A%09%09%09%09%09%20%20%20%20document.getElementById%28%22container3%22%29.innerHTML%20%3D%20SIMMON.T%20%20%3B%20break%3B%7D%20%20//%20%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09%09%09%09%09%0D%0A%09%09%09%09%09%7D%09//break%3B%09%20%20%20%20%20%20%20%20%20//%20break%20for%20case%20%27LOAD_weight%27%0D%0A%09%09%09%09%20%20%20%20*/%0D%0A%09%09%09%09case%20%27CAPA_Volume%27%20%3A%0D%0A%0D%0A%09%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//ENTRY%20WITH%20Draft%20or%20Dep0%09/this%202%20line%20are%20sepcific%20for%20the%20start%20otherways%20Dep0%20is%20already%20defined%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isNaN%28Dep0%29%29%20%20%20%20%20%20%20Dep0%20%3D%20numeric.spline%28Tx%2CDx%29.at%28Draft%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28isNaN%28Draft%29%29%20Draft%20%3D%20numeric.spline%28Dx%2CTx%29.at%28Dep0%29%3B%09%0D%0A%20%09%09%09%09%09%0D%0A%09%09%09%09%09//-----------------------------------------------------------------Interpolation%20on%20Hydro%20data/entry%20with%20Dx%09%09%0D%0A%09%09%09%09%09Lcb%20%3D%20numeric.spline%28Tx%2CLcbx%29.at%28Draft%29%3B%20%20%0D%0A%09%09%09%09%09Lcf%20%3D%20numeric.spline%28Tx%2CLcfx%29.at%28Draft%29%3B%20%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09Kml%20%3D%20numeric.spline%28Tx%2CKmlx%29.at%28Draft%29%3B%20%0D%0A%09%09%09%09%09Kmt%20%3D%20numeric.spline%28Tx%2CKmtx%29.at%28Draft%29%3B%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09//-----------------------------------------------------------------Interpolation%20on%20loading%20cases/entry%20with%20dispx%0D%0A%09%09%09%09%09kg%20%3D%20numeric.spline%28dispx%2Ckgx%29.at%28Dep0%29%3B%09%20%0D%0A%09%09%09%09%20%20%20%20lcg%20%3D%20numeric.spline%28dispx%2Clcgx%29.at%28Dep0%29%3B%09%0D%0A%09%09%09%09%20%20%20%20tcg%20%3D%20numeric.spline%28dispx%2Ctcgx%29.at%28Dep0%29%3B%09%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20frees%20%3D%20numeric.spline%28dispx%2Cfsx%29.at%28Dep0%29%3B%20%0D%0A%3B%09%09%09%09%09%0D%0A%09%09%09%09%09//vicap%5Bc%5D%20%20xgicap%5Bc%5D%20%20ygicap%5Bc%5D%20%20zgicap%5Bc%5D%20%20%20all%20entry%20data%20are%20precalculated%20%20from%20CAPAVAL%28%29%0D%0A%09%09%09%09%09var%20%20Psum%3D0%2Cxsum%3D0%2Cysum%3D0%2Czsum%3D0%2Citsum%3D0%3B%0D%0A%09%09%09%09%09for%20%28var%20c%20%3D%201%3B%20c%3C%3D%208%3B%20c++%29%20%7B//%201%20Ro%20%20%20%20%0D%0A%09%09%09%09%09%20%20Psum%20+%3D%20vicap%5Bc%5D*1%20%3B%20%20xsum%20+%3D%20vicap%5Bc%5D*xgicap%5Bc%5D%20%3B%20ysum%20+%3D%20vicap%5Bc%5D*ygicap%5Bc%5D%20%3B%20zsum%20+%3D%20vicap%5Bc%5D*zgicap%5Bc%5D%20%3B%20itsum%20+%3D%20vicap%5Bc%5D*iticap%5Bc%5D%20%3B%20//%20to%20be%20reviewed%28vi%5Bc%5D*iti%5Bc%5D%29%0D%0A%09%09%09%09%09%7D//document.getElementById%28%22container3%22%29.innerHTML%20+%3D%20vicap%5Bc%5D+%22%3CBR%3E%22%3B%20//Dep0%20//%20%0D%0A%09%09%09%09%09//Trim%20calculation%20%20%0D%0A%09%09%09%09%09var%20Depres%20%3D%20Dep0+Psum%3B%0D%0A%09%09%09%09%09Draft%20%3D%20numeric.spline%28Dx%2CTx%29.at%28Depres%29%3B%20%09%20%09%09%09%09%09%09//SIMMON.T%20%3D%20Draft%20%3B//updating%20ship%20position%20inside%20THREEjs%20renderer%20%09%09%09%09%0D%0A%09%09%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20+%20%27%3CB%3E%27%20+%20Draft%20+%20%27%20%20%20%27%20+%20%20Psum+%20%27%20%20%20%27%20+%20%20xsum%20+%20%27%20%20%20%27%20+%20%20ysum%20+%20%27%20%20%20%27%20+%20%20zsum%3B%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09kg%20%20%3D%20%28Dep0*kg%20%20+%20zsum%29%20/%20%28Depres%29%3B%09%09%09%20%0D%0A%09%09%09%09%09lcg%20%3D%20%28Dep0*lcg%20+%20xsum%29%20/%20%28Depres%29%3B%20%09%09%09%20%0D%0A%09%09%09%09%09tcg%20%3D%20%28Dep0*tcg%20+%20ysum%29%20/%20%28Depres%29%3B%09%09%09%20%0D%0A%09%09%09%09%09frees%20%3D%20itsum/%28Dep0+Psum%29%3B%20%09%09%09%09%09%20%0D%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%09%09%09%0D%0A%09%09%09%09%09this.trim%28%27CAPA_Volume%27%29%3B%09%20%0D%0A%09%09%09%09%09cellcolor%28%27LOAD%27%2CDepres%29%3B%20%09cellcolor%28%27CAPA%27%2CDepres%29%3B%20STAB_GZINTACT%28Depres%29%3B%20break%3B%20%0D%0A%09%09%20%20%20%20%0D%0A%09%09%09%09case%20%27WEIGHT_shift%27%3A%20%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20this%20sub%20is%20called%20when%20Dep0%20is%20already%20defined%0D%0A%09%09%09%09%20%20%20%20var%20Depres%20%3D%20Dep0%20+%20SIMMON.Weights%20%20%3B%20%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%09//----------------------------------------------------------Interpolation%20on%20Hydro%20data%09%09%09%09%09%0D%0A%09%09%09%09%09Draft%20%3D%20numeric.spline%28Dx%2CTx%29.at%28Depres%29%3B%20%09%20%20%20%20%20%20%20%20%09%09//SIMMON.T%20%3D%20Draft%20%3B%09//updating%20ship%20position%20inside%20THREEjs%20renderer%20%0D%0A%09%09%09%09%09Kml%20%3D%20numeric.spline%28Dx%2CKmlx%29.at%28Depres%29%3B%20%20%20%09%20%20%20%20%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20Kml.toFixed%283%29%3B%0D%0A%09%09%09%09%09Kmt%20%3D%20numeric.spline%28Dx%2CKmtx%29.at%28Draft%29%3B%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09Lcb%20%3D%20numeric.spline%28Dx%2CLcbx%29.at%28Depres%29%3B%20%20%0D%0A%09%09%09%09%09Lcf%20%3D%20numeric.spline%28Dx%2CLcfx%29.at%28Draft%29%3B%20%20%09%09%09%09%09%0D%0A%09%09%09%09%09//----------------------------------------------------------Interpolation%20on%20loading%20cases/entry%20with%20dispx%0D%0A%09%09%09%09%09kg%20%3D%20numeric.spline%28dispx%2Ckgx%29.at%28Depres%29%3B%09%0D%0A%09%09%09%09%20%20%20%20lcg%20%3D%20numeric.spline%28dispx%2Clcgx%29.at%28Depres%29%3B%09%09%0D%0A%09%09%09%09%20%20%20%20tcg%20%3D%20numeric.spline%28dispx%2Ctcgx%29.at%28Depres%29%3B%09//lean%20on%20transverse%20stability*******************%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//frees%20%3D%20numeric.spline%28dispx%2Cfsx%29.at%28Depres%29%3B%20%20%0D%0A%09%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20SIMMON.Weights+%20%27%20%20%20%27%20+%20tcg%20%3B%0D%0A%09%09%09%09%09//Trim%20calculation%20%20%0D%0A%09%09%09%09%09kg%20%20%3D%20%28Dep0*kg%20%20+%20SIMMON.Weights*SIMMON.Z_Shift%29%20/%20%28Depres%29%3B%20%09%20%09%0D%0A%09%09%09%09%09lcg%20%3D%20%28Dep0*lcg%20+%20SIMMON.Weights*SIMMON.X_Shift%29%20/%20%28Depres%29%3B%20%09%20%0D%0A%09%09%09%09%20%20%20%20tcg%20%3D%20%28Dep0*tcg%20+%20SIMMON.Weights*SIMMON.Y_Shift%29%20/%20%28Depres%29%3B%20%09%09%09%20%0D%0A%09%09%09%09%09%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09this.trim%28%27WEIGHT_shift%27%29%3B%09%0D%0A%09%09%09%09%09cellcolor%28%27LOAD%27%2CDepres%29%3B%20cellcolor%28%27CAPA%27%2CDepres%29%3B%20%20%20break%3B%20%0D%0A%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%20//%20STAB_GZINTACT%28Depres%29%3B%20//STARTER%20***************************************************************************************************************%0D%0A%09%7D%2C%0D%0A%09%0D%0A%09%0D%0A%09trim%3Afunction%28id%29%7B%0D%0A%09%20%20%20%20var%20alfa%2Ctgtl%3B%0D%0A%09%09%0D%0A%09%09switch%20%28id%29%20%7B%0D%0A%09%09%09%09case%20%27CAPA_Volume%27%20%20%3A%20tgtl%20%3D%20%28Lcb-lcg%29/%28Kml-kg%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%09//GML%20%3D%20Kml-kg%3B%0D%0A%20%20%20%20%20%09%09%09case%20%27WEIGHT_shift%27%20%3A%20tgtl%20%3D%20-%28SIMMON.Weights%20*%20SIMMON.X_Shift%29/%20%28Dep0*%28%20Kml-%20kg%29%29%3B%20%20break%3B%20%20%0D%0A%20%20%20%20%20%20%20%20%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//var%20_sign%20%3D%20Math.sign%28y0%29%20%3B%20//%7C%7C%20Math.sign%28x0%29%20%20%20SIMMON.X_Shift%20must%20be%20signed%0D%0A%09%20%20%20%20%7D%20%0D%0A%09%09//TRIM%09%0D%0A%09%09var%20tf0%20%3D%20Draft%20%3B%09%0D%0A%20%20%20%20%20%20%20%20GM0%09%3D%20Kmt%20-%20kg%20%3B%0D%0A%09%09alfa%20%3D%20Math.atan%28tgtl%29%3B%20%0D%0A%09%09Trim%20%3D%20tgtl%20*%20LPP%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%09%09Taft%20%3D%20tf0%20+%20tgtl%20*%20Lcf%20%3B%20%20%20%20%20%20%20%20%20%20%20%0D%0A%09%09Tfore%20%3D%20tf0%20-%20tgtl%20*%20%28LPP%20-%20Lcf%29%20%3B%20%20%20%0D%0A%09%09Fboard%20%3D%20DEPTH%20-%20tf0%20%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%27Fb%28icas%29%20%3D%20cre%20-%20%28tar%28icas%29%20+%20tav%28icas%29%29%20/%202%20%20%27cre%20-%20tirant0%28icas%29%09%09%09%0D%0A%09%09//LIST%20%09%0D%0A%20%20%20%20%20%20%20%20List%20%3D%200%3B%20//at%20this%20level%20/but%20will%20be%20updated%20%20graphically%20%0D%0A%20%0D%0A%20%09%0D%0A%09_MomentPitch%20%3D%20%20-%20%281*alfa*180/Math.PI%29%3B%09%0D%0A%09//_MomentRoll%20%3D%20-%285*phi*180/Math.PI%29%3B%0D%0A%20%20%20//%20document.getElementById%28%22container3%22%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20+%20%27%3CB%3E%27%20+%27%20%20%20%27+%20Lcb%20+%27%20%20%20%27+%20lcg%20+%27%20%20%20%27+%20Kml%20+%27%20%20%20%27+%20kg%20+%27%20%20%20%27+%20alfa%3B%20%20%09%09%09%09%09%0D%0A%09%0D%0A%09//updating%20ship%20position%20inside%20THREEjs%20renderer%09%0D%0A%20%09//SIMMON.T%20%3D%20Draft%20%3B%09//DRAFT%20update%09already%20done%20in%20SIMMON.update_FRFs%0D%0A%09//SIMMON.MomentPitch%20%3D%200%3B%20//%20-%28200*alfa%29%3B%20%20%0D%0A%09//--------------------------------------------------------------------------------%0D%0A%09%0D%0A%09//aftdraft%0D%0A%09//--------------------------------------------------------------------------------%0D%0A%09%0D%0A%09%7D%2C%09%09%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%09STAB_GZINTACT%3Afunction%20%28Dep0%2Ckg0%20%29%7B%20//%2CGZout%2CPHIout%2CKNout%0D%0A%20%20%20%20%20%20%20%20%20var%20GZout%3D%5B%5D%2CPHIout%3D%5B%5D%2CKNout%3D%5B%5D%3B%0D%0A%09%09//initialisation%20%0D%0A%09%09//this.PHI0.splice%280%2Cthis.PHI0.length-1%29%3B%20%20%20//*****************************************************************%0D%0A%09%09//this.GZ0.splice%280%2CGZ0.this.length-1%29%3B%20%20%20%20%20//*****************************************************************%0D%0A%09%09//this.dpres.splice%280%2Cthis.dpres.length%29%3B%20%20%20//clear%20array%20%20/Retro%3A%20clear%20Meteo%20curve%20to%20replace%20it%20by%20original/Intact%20GZ%20curve%09%09%20%0D%0A%09%09%20%09%0D%0A%20%09%09GZ0.push%28%5B0%5D%29%3B%20PHI0.push%28%5B0%5D%29%3B%0D%0A%09%09//document.getElementById%28%27container3%27%29.innerHTML%20+%3D%20%27%3Cpre%3E%27%20+%20%27%3CBR%3E%27%20+%20Dep0%20%0D%0A%09%09%0D%0A%09%09for%20%28var%20r%20%3D%200%3B%20r%3C%3D%2010%3B%20r++%29%20%7B%09%0D%0A%09%09%09if%20%28PANTO%5Br%5D%5B0%5D%20%3E%20Dep0%29%20%7B%0D%0A%09%09%09%09for%20%28var%20c%20%3D%201%3B%20c%20%3C%3D%2010%3B%20c++%29%20%7B%0D%0A%09%09%09%09%09var%20Dlta%20%3D%20%28PANTO%5Br%5D%5Bc%5D%20-%20PANTO%5Br-1%5D%5Bc%5D%29%20/%20%28PANTO%5Br%5D%5B0%5D%20-%20PANTO%5Br-1%5D%5B0%5D%29%20%3B%20//PANTO%5B...%5D%5B0%5D%20column%20of%20displacement%0D%0A%09%09%09%09%09KN1%5Bc%5D%20%3D%20PANTO%5Br-1%5D%5Bc%5D%20+%20%28Dep0%20-%20PANTO%5Br-1%5D%5B0%5D%29%20*%20Dlta%20%3B%0D%0A%0D%0A%09%09%09%09%09if%20%28c%20%3D%3D%201%20%29%20%7BPHI0%5Bc%5D%20%3D%205%3B%20%7D%20else%20%7BPHI0%5Bc%5D%20%3D%20%28c-1%29*10%3B%20%7D%20%20//this%20could%20be%20replaced%20simply%20by%20PHI0%5Bcol%5D%3Diteta%5Bcol%5D%0D%0A%09%09%09%09%09GZ0%5Bc%5D%20%3D%20%20KN1%5Bc%5D%20-%20kg0*Math.sin%28PHI0%5Bc%5D*3.14/180%29%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//document.getElementById%28%27container3%27%29.innerHTML%20+%3D%20%27%3Cpre%3E%27%20+%20%27%3CBR%3E%27%20+col%20+%20%27%20%20%27%20+%20PHI0%5Bcol%5D%20+%20%27%20%27%20+%20KN1%5Bcol%5D+%20%27%20%27%20+GZ0%5Bcol%5D%3B%20//+%20%27%20%20%20%27%20+%20%20yn%5Bi%5D%20%20%3B%09%09%0D%0A%09%09%09%09%7D%0D%0A%09%09%09break%3B%09//exit%20first%20needed%20occurence%20%21%0D%0A%09%09%09%7D%0D%0A%09%09%7D%09%0D%0A%09%09GZ0%5B0%5D%3D0%3B%20%20PHI0%5B0%5D%20%3D%200%3B%0D%0A%0D%0A%0D%0A%09%7D%2C%0D%0A%0D%0A%0D%0A%09STAB_GZCITERIA%3A%20function%20%28GZ%29%7B%09//http%3A//www.wumtia.soton.ac.uk/about-us/published-papers%0D%0A%09%09//%20IS2008%20CRITERIA%20%0D%0A%09%09var%20p%20%3D%20%28Math.PI/18%29%0D%0A%09%09var%20GM0%20%3D%20%20GZ%5B10%5D/%28Math.PI/18%29%3B%0D%0A%09%09%0D%0A%09%09//GZmax0%20%3D%20%20+%28Math.max.apply%28null%2C%20GZ100%29%29.toFixed%282%29+0.1%3B%20//GZ%20curve%20cadrage%0D%0A%09%09%0D%0A%09%09//var%20GZarea%20%3D%20trapezeArea2%28%20GZ%2C%2080%29%20%3B%20%20%20%20%20%20%20%20//for%20IS2008%20stability%20criteria%0D%0A%09%09//GZarea%20%3D%20GZarea.map%28x%20%3D%3E%20x%20*%20Math.PI/180%29%3B%09//area%20to%20radian%0D%0A%09%09var%20GZarea%20%3D%20trapezeArea2%28%20GZ%2C80%29.map%28x%20%3D%3E%20x%20*%20Math.PI/180%29%20%3B%20%20%20%20%20%20%20%20//for%20IS2008%20stability%20criteria%0D%0A%09%09%0D%0A%09%09dar.splice%280%2Cd1p.length%29%3B%20%20%20%20%20%20//%20GZ%20residual%20/plot%20only%20values%20%20%3E%200%0D%0A%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%2080%3B%20i++%29%20%7Bif%20%28GZarea%5Bi%5D%20%3E%200%29%20dar.push%28%5B%20PHI100%5Bi%5D%20%2CGZarea%5Bi%5D%5D%29%3B%20%7D%20%09%09%09%0D%0A%09%09%0D%0A%09%09document.getElementById%28%27area%27%29.innerHTML%20%3D%20%0D%0A%09%09%09%09%20%22Area30%20%20%3A%20%22%20+%20GZarea%5B30%5D.toFixed%282%29%20%0D%0A%09%09%09%09+%20%27%3CBR%3E%27%20%20+%20%22Area40%20%20%3A%20%22%20+%20GZarea%5B40%5D.toFixed%282%29%20%0D%0A%09%09%09%09+%20%27%3CBR%3E%27%20%20+%20%22Area34%20%3A%20%22%20+%20%28GZarea%5B40%5D%20-%20GZarea%5B30%5D%29.toFixed%282%29%09%0D%0A%09%09%09%09+%20%27%3CBR%3E%27%20%20+%20%27GZ30%20%26nbsp%3B%26nbsp%3B%20%3A%20%27%20%20+GZ%5B30%5D.toFixed%282%29%0D%0A%09%09%09%09+%20%27%3CBR%3E%27%20%20+%20%22GZmax%20%20%3A%20%22%20+%20%28Math.max.apply%28null%2CGZ%29%29.toFixed%282%29%20%09%09%09%09%0D%0A%09%09%09%09+%20%27%3CBR%3E%27%20%20+%20%22GMo%20%20%26nbsp%3B%26nbsp%3B%26nbsp%3B%20%3A%20%22%20+%20GM0.toFixed%282%29%09%0D%0A%09%09%09%09%0D%0A%20%09%09%0D%0A%09%09%09%0D%0A%09%09//YaxMin%20%3D%20-1%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20XaxMin%20%3D-25%3B%20%20%20%0D%0A%09%09//YaxMin%20%3D%20-1%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20XaxMin%20%3D-25%3B%20%20%20%0D%0A%09%09//plot%20axes%20with%20limits%20account%0D%0A%09%09dox.push%28%5BXaxMin+1%2C%200%5D%29%3B%20%20%20%20%20%20dox.push%28%5B90%2C%200%5D%29%3B%20%20%0D%0A%09%09doy.push%28%5B0%2C%20YaxMin+0.1%5D%29%3B%20%09%20%20doy.push%28%5B0%2C%20GZmaxx%5D%29%3B%20%0D%0A%09%09plotWithOptions%28%29%20%09%09%0D%0A%09%7D%2C%0D%0A%0D%0A%0D%0A%09STAB_meteoA749%3A%20function%28GZ100%2CPHI100%2CDraft%2CDep0%29%7B%0D%0A%0D%0A%09%09var%09PROFILTmx%20%3D%20this.PROFILTm%3B%0D%0A%09%20%20%20%20var%09PROFILAreax%20%3D%20this.PROFILArea%3B%0D%0A%09%20%20%20%20var%09PROFILZgx%20%3D%20this.PROFILZg%3B%0D%0A%09%09var%20cbx%20%3D%20SHIPHYDROCROSS.Cb%3B%0D%0A%09%09var%20Tx%20%3D%20%20SHIPHYDROCROSS.T%3B%0D%0A%09%0D%0A%09%20%20%20%20var%20ROLLOPT%20%3D%20%22A749%22%20%3B%0D%0A%20%20%20%20%20%20%20%20var%20bsd%20%3D%20BEAM/DEPTH%0D%0A%09%09var%20cbc%20%3D%20numeric.spline%28Tx%2Ccbx%29.at%28Draft%29%3B%0D%0A%09%09%0D%0A%09%09//update%20Displacement%20%26%20clear%20intact%20criteria%09%09%0D%0A%09%09this.LoadCondition_TRIM%28%27LOAD_draft%27%29%3B%09document.getElementById%28%27area%27%29.innerHTML%20%3D%20%22%22%0D%0A%20%0D%0A%09%09//%27surf%20%3D%20WINDAGE%20%3A%20h%20%3D%201%20%27HWINDAGE%20%20%27A749%2818%29%27h%20%3D%20HWINDAGE%20already%20in%20PROFIL%20***********************%0D%0A%09%09for%20%28%20i%20%3D%201%3B%20i%20%3C%2019%3B%20i++%29%7B%20%0D%0A%09%09%09if%20%28PROFILTmx%5Bi%5D%20%3E%20SIMMON.T%29%7B%20%20%20%20//%20SIMMON.T%20to%20be%20replaced%20by%20Draft%20*****************************%0D%0A%09%09%09%09WINDAGE%20%3D%20%20PROFILAreax%5BPROFILAreax.length-1%5D%20-PROFILAreax%5Bi%5D%20%3B%0D%0A%09%09%09%09HWINDAGE%20%3D%20%28PROFILAreax%5BPROFILAreax.length-1%5D*PROFILTmx%5BPROFILAreax.length-1%5D%20-%20PROFILAreax%5Bi%5D*PROFILTmx%5Bi%5D%29%20/%20WINDAGE%20%3B%0D%0A%09%09%09%09ZWINDAGE%20%3D%20%28PROFILAreax%5BPROFILAreax.length-1%5D*PROFILZgx%5BPROFILAreax.length-1%5D%20-%20PROFILAreax%5Bi%5D*PROFILZgx%5Bi%5D%29%20/%20WINDAGE%20%3B%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%20%20%20//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20%20WINDAGE%20+%20%22%20%20%20%20%22%20%20+%20%20HWINDAGE%20%20+%20%22%20%20%20%20%22%20%20+%20ZWINDAGE%20%20%3B%20//PROFILTmx%5B10%5D%20%20%3B//SIMMON.T.toFixed%282%29%09%3B%0D%0A%20%20%20//return%3B%0D%0A%09%09//DATA%20A749%20%2818%29%0D%0A%09%09//Tableau%20%20Pression%0D%0A%09%09var%20hi%20%3D%20new%20Float32Array%28%5B0%2C1%2C2%2C3%2C4%2C5%2C6%5D%29%3B%0D%0A%09%09var%20pi%20%3D%20new%20Float32Array%28%5B0%2C316%2C386%2C429%2C460%2C485%2C504%5D%29%3B%0D%0A%09%09//Tableau%20%20X1%0D%0A%09%09var%20bsdi%20%3D%20new%20Float32Array%28%5B0%2C2.4%2C2.5%2C2.6%2C2.7%2C2.8%2C2.9%2C3%2C3.1%2C3.2%2C3.4%2C3.5%5D%29%3B%20%20%20%20%0D%0A%09%09var%20x1i%20%3D%20new%20Float32Array%28%5B0%2C1%2C0.98%2C0.96%2C0.95%2C0.93%2C0.91%2C0.9%2C0.88%2C0.86%2C0.82%2C0.8%5D%29%3B%20%0D%0A%09%09%20//Tableau%20%20X2%0D%0A%09%09var%20cbi%20%3D%20new%20Float32Array%28%5B0%2C0.45%2C0.5%2C0.55%2C0.6%2C0.65%2C0.7%5D%29%3B%20%20%20%20%0D%0A%09%09var%20x2i%20%3D%20new%20Float32Array%28%5B0%2C0.75%2C0.82%2C0.89%2C0.95%2C0.97%2C1%5D%29%3B%20%20%0D%0A%09%09//Tableau%20%20K%0D%0A%09%09var%20aki%20%3D%20new%20Float32Array%28%5B0%2C1%2C1.5%2C2%2C2.5%2C3%2C3.5%2C4%5D%29%3B%20%20%0D%0A%09%09var%20ki%20%3D%20new%20Float32Array%28%5B0%2C1%20%2C0.98%2C0.95%2C0.88%2C0.79%2C0.74%2C0.72%2C0.70%5D%29%3B%20%20%0D%0A%20%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%3D%20ki.length%20%3B%20%20%0D%0A%09%09var%20crit%20%3D%2012%20%3B%0D%0A%09%09switch%20%28crit%29%20%7B%0D%0A%09%09%09case%2012%3A%0D%0A%09%09%09%09var%20pri%20%3D%20new%20Float32Array%28%5B0%2C6%2C7%2C8%2C12%2C14%2C16%2C18%2C20%2C22%2C24%2C26%2C28%2C30%5D%29%3B%20%20%20%09%20nsi%20%3D%2013%20%3B%0D%0A%09%09%09%09var%20si%20%3D%20new%20Float32Array%28%5B0%2C0.1%2C0.098%2C0.093%2C0.065%2C0.053%2C0.044%2C0.038%2C0.032%2C0.028%2C0.025%2C0.023%2C0.021%2C0.020%5D%29%3B%20%20%0D%0A%09%09%09%09break%3B%09%0D%0A%09%09%09default%3A%0D%0A%09%09%09%09var%20pri%20%3D%20new%20Float32Array%28%5B0%2C6%2C7%2C8%2C12%2C14%2C16%2C18%2C20%5D%29%3B%20%20%09%09%09%20%09%09%20%20nsi%20%3D%208%3B%0D%0A%09%09%09%09var%20si%20%3D%20new%20Float32Array%28%5B0%2C0.1%2C0.098%2C0.093%2C0.065%2C0.053%2C0.044%2C0.038%2C0.035%5D%29%3B%20%20%0D%0A%09%09%7D%0D%0A%0D%0A%09%09var%20i%20%3B%20%0D%0A%09%09//x1%20lininterpol%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20x1%20%3D%20numeric.spline%28bsdi%2Cx1i%29.at%28bsd%29%3B%20%09%20%09%09%0D%0A%09%09if%20%20%28bsd%20%3C%3D%202.4%29%20%20x1%20%3D%201%3B%20%20%20%09%09%20if%20%28bsd%20%3E%3D%203.5%29%20%20x1%20%3D%200.8%3B%0D%0A%09%09//lininterpol%20%20%20x2%20%0D%0A%20%20%20%20%20%20%20%20x2%20%3D%20numeric.spline%28cbi%2Cx2i%29.at%28cbc%29%3B%20%09%09%09%0D%0A%09%09if%20%20%28cbc%20%3C%3D%200.45%20%29%20%20x2%20%3D%200.75%3B%20%20%20%20%20%20%20if%20%28cbc%20%3E%3D%200.70%29%20%20x1%20%3D%201%3B%0D%0A%09%09//k%20lininterpol%20%20%20%0D%0A%09%09var%20AQr%20%3D%201%3B%20//100*AQroulis/lpp*lar//Aire%20Quille%20de%20roulis%20%0D%0A%20%20%20%20%20%20%20%20k%20%3D%20numeric.spline%28aki%2Cki%29.at%28AQr%29%3B%20%09%20%20%09%09//if%20%20%28i%20%3E%3D%206%29%20%20k%20%3D%20ki%5B7%5D%3B%20%09%0D%0A%09%09k%3D1%3B%0D%0A%09%09//s%20lininterpol%20%20%20%20%0D%0A%09%09var%20fb0%3D0.15*BEAM%3B%20%20%20%20%20%20//%28fb%2CGMreg%2CLs%2CLpp%2CB%2CD%2CDraft%29%0D%0A%09%09var%20periode%20%3D%20ROLLPERIODE%28fb0%2C0%2CLPP%2CLPP%2CBEAM%2CDEPTH%2CDraft%29%20%20%0D%0A%09%09//%20wave%20stipness%0D%0A%20%20%20%20%20%20%20%20var%20s%20%3D%20numeric.spline%28pri%2Csi%29.at%28periode%29%3B%20%09//if%20%20%28i%20%3E%3D%20nsi%29%20%20%20s%20%3D%20si%5Bnsi%5D%3B%0D%0A%09%09if%20%20%28periode%20%3C%3D%206%20%29%20%20s%20%3D%200.1%3B%20%20%20%20%20%20%20if%20%28periode%20%3E%3D%2020%29%20%20s%20%3D%200.035%3B%0D%0A%09%09%0D%0A%09%09var%20OG_sD%20%3D%20%28kg-Draft%29/%20Draft%3B%20//OG_sD%20%3D%20%201.08/0.08%3B%09%20//Approximation%20of%20Og/d%20%20%0D%0A%09%09var%20r%20%3D%200.73%20+%200.6%20*%20OG_sD%09%3B%09%09%0D%0A%09%09%0D%0A%09%09//Roll%20Amplitude%20--------------------%0D%0A%09%09//var%20PHI%20%3D%20109%20*%20k%20*%20x1%20*%20x2%20*Math.sqrt%28r%20*%20s%29%20%3B%20%0D%0A%09%09//Amp_IS2008%20%3D%20%28PHI*%203.14%20/%20180%20%29.toFixed%283%29%3B%0D%0A%0D%0A%09%09switch%20%28crit%29%20%7B%09%09%09%09//p%20lininterpol%20%20%20%20%0D%0A%09%09%09case%2012%3A%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pressure%20%3D%20numeric.spline%28hi%2Cpi%29.at%28HWINDAGE%29%3B%20break%3B%09%20//document.getElementById%28%22container3%22%29.value%20+%3D%20pressure.toFixed%283%29%3B%09%09%0D%0A%09%09%09case%2030%3A%0D%0A%09%09%09%09switch%20%28cat%29%20%7B%0D%0A%09%09%09%09%09case%201%3A%20pressure%20%3D%20706%3B%20%20//%200.072%20%0D%0A%09%09%09%09%09case%202%3A%20pressure%20%3D%20510%3B%20%20//%200.052%0D%0A%09%09%09%09%09case%203%3A%20pressure%20%3D%20275%3B%20%20//%200.028%0D%0A%09%09%09%09%7D%09%0D%0A%09%09%7D%09%09%0D%0A%09%09%0D%0A%09%09PWINDAGE%20%3D%20pressure%3B%0D%0A%09%09//calc%20lw1%20et%20lw2%20%0D%0A%09%09var%20KLw1%20%3D%201%3B%20//lw0%3D0%2C%20lw1%3D0%2C%20lw2%3D0%2C%20TTa0%3D0%2C%20TTa1%3D0%2C%20TTa2%3D0%2C%20TTa0p%3D0%3B%09%0D%0A%09%09switch%20%28crit%29%20%7B%0D%0A%09%09%09case%2012%3A%20%0D%0A%09%09%09%09//p%20lininterpol%20%20%20%20%0D%0A%09%09%09%09lw1%20%3D%202*KLw1%20*%20%28PWINDAGE%20*%20WINDAGE%20*%20ZWINDAGE%29%20/%20%289810%20*%20Dep0%29%3B//to%20be%20reviewed%20*******************%0D%0A%09%09%09%09lw2%20%3D%20lw1%20*%201.5%20%3B%20%0D%0A%09%09%09%09break%3B%09%0D%0A%09%09%09default%3A%20lw1%20%3D%20KLw1%20*%20%28PWINDAGE%20*%20WINDAGE%20*%20ZWINDAGE%29%20/%20%289810%20*%20Dep0%29%3B%0D%0A%09%09%7D%09%0D%0A%09%09%0D%0A%09%09//calc%20tta1%09%09%09%09%09%0D%0A%09%09switch%20%28crit%29%20%7B%0D%0A%09%09%09case%2012%3A%20%0D%0A%09%09%09%09//p%20lininterpol%20%20%20%20%0D%0A%09%09%09%09TTa1%20%3D%20109%20*%20k%20*%20x1%20*%20x2%20*%20Math.sqrt%28r%20*%20s%29%20%3Bbreak%3B%09%0D%0A%09%09%09default%3A%20TTa1%3D20%3B%0D%0A%09%09%7D%09%0D%0A%20%20%09%09%0D%0A%09%09//calc%20tta0%09%0D%0A%09%09var%20ttlim0%20%3D%2080%3B%09%09%0D%0A%09%09for%20%28%20i%20%3D%201%3B%20i%20%3C%20ttlim0%3B%20i++%29%7B%20%0D%0A%09%09%20%20%20%20if%20%28GZ100%5Bi%5D%20%3E%20lw1%29%20%7B%20%20%20%0D%0A%09%09%09%20%20%20%20//var%20Dlta%20%3D%20%28PHI100%5Bi%5D%20-%20PHI100%5Bi-1%5D%29%20/%20%28GZ100%5Bi%5D%20-%20GZ100%5Bi-1%5D%20%29%20%3B%0D%0A%09%09%09%20%20%20%20//TTa0%20%3D%20PHI100%5Bi-1%5D%20+%20%28lw1%20-%20GZ100%5Bi-1%5D%29%20*%20Dlta%20%3B%0D%0A%09%09%09%20%20%20%20TTa0%20%3D%20PHI100%5Bi%5D%20%3B%20break%3B//rounded%20value%0D%0A%09%09%20%20%20%20%7D%0D%0A%09%09%7D%09%09%0D%0A%09%09%0D%0A%09%20%20%20%20//calc%20tta2%09%09%09%0D%0A%09%09TTa2%20%3D%2060%3B%0D%0A%09%09//calc%20tta0p%09%09%0D%0A%09%09var%20ii%20%3D%200%3B%09%09%0D%0A%09%09for%20%28%20i%20%3D%201%3B%20i%20%3C%20ttlim0%3B%20i++%29%7B%20%0D%0A%09%09%20%20%20//%20if%20%28GZ100%5Bi%5D%20%3E%20lw2%29%20%7B%20ii%3Di+1%3B%20break%3B%20%7D%0D%0A%09%09%7D%09%0D%0A%09%09for%20%28%20i%20%3D%200%3B%20i%20%3C%20ttlim0%3B%20i++%29%7B%20%0D%0A%09%09%20%20%20%20if%20%28GZ100%5Bi%5D%20%3E%20lw2%29%20%7B%20%20%20%0D%0A%09%09%09%09var%20Dlta%20%3D%20%28PHI100%5Bi%5D%20-%20PHI100%5Bi-1%5D%29%20/%20%28GZ100%5Bi%5D%20-%20GZ100%5Bi-1%5D%20%29%20%3B%0D%0A%09%09%09%09TTa0p%20%3D%20PHI100%5Bi-1%5D%20+%20%28lw2%20-%20GZ100%5Bi-1%5D%29%20*%20Dlta%20%3B%09%09//TTa0p%20%3D%20PHI100%5Bi-1%5D%20%3B%20//rounded%20value%0D%0A%09%09%09%09break%3B%09%09%09%20%20%0D%0A%09%09%20%20%20%20%7D%0D%0A%09%09%7D%09%0D%0A%09%09%0D%0A%09%09//calc%20ttan%0D%0A%09%09TTan%20%3D%20Math.floor%28abs%28TTa1%20-%20TTa0%29%29%20%3B%20%20%20%20//TTan%3A%5B%5D%2CTTa0%3A%5B%5D%2CTTap%3A%5B%5D%2C%0D%0A%09%09%0D%0A%09%0D%0A%09%09//GZ2*100%20wind%20constructor%20%09%0D%0A%09%09PHI100wnd%20%3D%20PHIdisp.slice%281%29.reverse%28%29.map%28x%20%3D%3E%20-x%20%29%3B%20%20%09%09%0D%0A%09%09GZ100wnd%20%3D%20GZdisp.slice%281%29.reverse%28%29.map%28x%20%3D%3E%20-x%20%29%20%20%3B%20%09%20%20%20%20//var%20ttx%20%3D%20numeric.spline%28GZ100wnd%2CPHI100wnd%29.at%28lw2%29%3B%20%09%09%0D%0A%09%0D%0A%09%09PHI100wnd%20%3D%20PHI100wnd.concat%28PHI100%29%3B%20//add%20positive%20part%20to%20the%20negative%20one%20%20%0D%0A%09%09GZ100wnd%20%3D%20GZ100wnd.concat%28GZ100%29%3B%20%0D%0A%09%09//UREKA%0D%0A%09%09//UPDATE%20TTAn________________________________________________%0D%0A%09%09var%20_TTan%3B%0D%0A%09%09if%20%28ROLLOPT%20%3D%3D%20%22A749%22%29%20%09_TTan%20%3D%20%20TTa1%20%09//-%20SIMMON.Troll%20%3B%20%20%20%20//**************************************%0D%0A%09%09else%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09_TTan%20%3D%200%3B%20%20%20%09//TTa1%20%3D%200%20%20%3AROLLTT0%20%3D%200%20%3B%0D%0A%09%09//_________________________________________________UPDATE%20TTA%29%20%0D%0A%09%09%09%0D%0A%09%09//keep%20concerned%20part%20of%20the%20curve%20with%20regard%20to%20TTan%0D%0A%09%09PHI100wnd.splice%280%2C%28PHI100wnd.length-1%29/2%20-%20_TTan%20%20%29%3B%20%09%09%0D%0A%09%09GZ100wnd.splice%280%2C%28GZ100wnd.length-1%29/2%20-%20_TTan%20%20%29%3B%20%0D%0A%09%09%09%0D%0A%09%09dpres.splice%280%2Cdpres.length%29%3B%20%09%09//clear%20resultant%20array%20%0D%0A%20%20%20%20%09try%20%7B%20dpres0.splice%280%2Cdpres0.length%29%3B%7Dcatch%28err%29%7B%20%7D%20//%20each%20graph%20series%20array%20must%20be%20refreshed%0D%0A%09%09%09%0D%0A%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20%28PHI100wnd.length%29%3B%20i++%29%20%20%09dpres.push%28%5B%20PHI100wnd%5Bi%5D%20%2CGZ100wnd%5Bi%5D%20%5D%29%3B%20%09//push%20PHI%20%26%20GZp%20to%20d%20resultant%20%20%0D%0A%09%09%0D%0A%09%09//%20Data%20used%20in%20function%20simulate%20%28ts%29%7B%0D%0A%09%09//this.GZdisp0%20%3D%20GZ100wnd.slice%280%29%3B%20%20%20%20//right%20here%20GZ100res%20%3D%20GZ100%0D%0A%09%09//this.PHIdisp0%20%3D%20PHI100wnd.slice%280%29%3B%20%20//right%20here%20GZ100res%20%3D%20GZ100%0D%0A%09%09//this.dpres0%20%3D%20dpres%3B%0D%0A%09%09%0D%0A%09%09//%20Data%20used%20in%20function%20simulate%20%28ts%29%7B%0D%0A%09%09GZdisp%20%3D%20GZ100wnd.slice%280%29%3B%20%20%20%20//right%20here%20GZ100res%20%3D%20GZ100%0D%0A%09%09PHIdisp%20%3D%20PHI100wnd.slice%280%29%3B%20%20//right%20here%20GZ100res%20%3D%20GZ100%09%09%0D%0A%09%09%0D%0A%09%09%0D%0A%09/*%09%09%0D%0A%09%09*/%0D%0A%09%09%0D%0A%09%09%20//%20%09dpres%3A%5B%5D%2CGZdisp%3A%5B%5D%2CPHIdisp%3A%5B%5D%2C%0D%0A%0D%0A%09%09//_MomentRoll%20%3D%20TTa0%3B%09%09%20%0D%0A%09%09%0D%0A//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20Dep0%20+%20%22%20%20%20%20%22%20%20+%20TTa1%20+%20%22%20%20%20%20%22%20%20+%20TTan%3B%20//x1%20%20+%20%22%20%20%20%20%22%20%20+%20%20x2%20%20+%20%22%20%20%20%20%22%20%20+%20%20%20s%3B%20//PROFILTmx%5B10%5D%20%20%3B//SIMMON.T.toFixed%282%29%09%3B%0D%0A%20//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20TTa0p%20%20+%20%22%20%20%20%20%22%20%20+%200%3B%0D%0A%20%0D%0A%20%09//var%20GZia%3D%20-numeric.spline%28PHI100%2CGZ100%29.at%28%20TTan%20%29%3B%20%0D%0A%09//YaxMin%20%3D%20GZia%20-0.2%20%3B%20%20%20%20%20%20%20%20%20%20XaxMin%20%3D-TTan-2%20%20%20%0D%0A%09//dox.push%28%5BXaxMin+1%2C%200%5D%29%3B%20%20%20%20%20%20dox.push%28%5B90%2C%200%5D%29%3B%20%20%0D%0A%09//doy.push%28%5B0%2C%20YaxMin+0.1%5D%29%3B%20%09%20%20doy.push%28%5B0%2C%201%5D%29%3B%20%0D%0A%09//plotWithOptions%28%29%20%09%0D%0A%20%20%20%20//return%3B%09%0D%0A%09%7D%2C%09%09%09%0D%0A%09%0D%0A%0D%0A%09STAB_GZHEEL%3A%20function%28ky%2C%20k0%2C%20Poids0%2C%20d0%2C%20F0%2C%20a0%2C%20b0%2C%20depi%2C%20ttlim%20%29%7B%20//STAB_GZHEEL%2810%2C%201%2C%20w0%2C%20y0%2C%200%2C%200%2C%200%2CDep0%2Cttlim%20%29%20%0D%0A%09%09var%20i%2C%20k%2C%20p%2C%20l%2C%20F%2C%20a%2C%20b%2C%20m1%2C%20M2%2C%20mt%20%3B%0D%0A%09%09var%20PI%3DMath.PI%2C%20cos%3DMath.cos%2C%20sin%3DMath.sin%2C%20abs%3DMath.abs%3B%20%0D%0A%09%09//var%20iteta%20%3D%20%5B0%2C5%2C10%2C20%2C30%2C40%2C50%2C60%2C70%2C80%2C90%5D%20%3B%0D%0A%09%09%20%0D%0A%09%20%20%20%20var%20teta%20%3D0%3B%0D%0A%09%09var%20critr%20%3D%200%3B%20//for%20backward%20compatibility%0D%0A%09%20%0D%0A%09%09switch%20%28ky%29%0D%0A%09%09%20%20%20%7B%0D%0A%09%09%09case%201%3A%0D%0A%09%09%09%09for%20%28var%20i%3D1%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09%09%09%09//var%20teta%20%3D%20iteta%5Bi%5D%20*%20%28PI/180%29%20%3B%0D%0A%09%09%09%09%09var%20teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%20%3B%09%09%09%09%09%0D%0A%09%09%09%09%09//If%20%28critr%20%3D%3D%202%29%20%20%7B%20gzh%28icas%2C%20i%29%20%3D%20k0%20*%20Poids0%20*%20d0%20/%20displ%3B%7D%20else%20%7B%20gzh%28icas%2C%20i%29%20%3D%20k0%20*%20Poids0%20*%20d0%20*%20cos%28teta%29%20/%20displ0%28icas%29%20%3B%7D%0D%0A%09%09%09%09%09if%20%28critr%20%3D%3D%202%29%0D%0A%09%09%09%09%09%09%7B%20gzh%5Bi%5D%20%3D%20k0%20*%20Poids0%20*%20d0%20/%20displ%20%3B%20%7D%0D%0A%09%09%09%09%09else%20%20%0D%0A%09%09%09%09%09%09%7Bk0%3D1%20%3B%20gzh%5Bi%5D%20%3D%20k0%20*%20Poids0%20*%28%20d0%20*%20cos%28teta%29+%20b0%20*%20sin%28teta%29%29/%20depi%3B%7D%0D%0A%09%09%09%09%09MMt%5Bi%5D%20%3D%20Poids0%20*d0/%20depi%3B%20%09%09%09%09%0D%0A%09%09%09%09%09GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzh%5Bi%5D%20%3B%09%09%0D%0A%09%09%09%09%09%0D%0A%09%09%09%09%7D//Debug.Print%20k%2Cp%2Cl%2C%22555555555555555555%22%0D%0A%09%09%09%09gzh%5B0%5D%3D%20k0%20*%20Poids0%20*%20d0%20/%20depi%20%3B%20%20%20%20%20//GZ%28icas%2C10%29%20%3D%20gzh%28icas%2C0%29/gm0%20%20%20%27tangeante%20theta%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%09%20%0D%0A%09%09%09case%202%3A%0D%0A%09%09%09%09for%20%28var%20i%3D1%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%202%20%20IF%20any%0D%0A%09%09%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%20%3B%0D%0A%09%09%09%09%09gzh%5Bi%5D%20%3D%20F0%20*%20%28a0%20*%20cos%28teta%29%20-%20b0%20*%20sin%28teta%29%29%20/%20depi%20%3B%0D%0A%09%09%09%09%09GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzh%5Bi%5D%20%3B%09%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%09%09%09%0D%0A%09%09%09%09%7D%20%0D%0A%09%09%09%09gzh%5B0%5D%20%3D%20Poids0%20*%20d0%20/%20depi%20%3B%0D%0A%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%09%0D%0A%09%09%09case%203%3A%0D%0A%09%09%09%09for%20%28var%20i%3D1%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%20total%0D%0A%09%09%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%20%3B%0D%0A%09%09%09%09%09gzh%5Bi%5D%20%3D%20%28k0%20*%20Poids0%20*%20d0%20*%20cos%28teta%29%20/%20depi%29%20+%20%28F0%20*%20%28a0%20*%20cos%28teta%29%20-%20b0%20*%20sin%28teta%29%29%20/%20depi%29%20%3B%0D%0A%09%09%09%09%09GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzh%5Bi%5D%20%3B%20%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%20%0D%0A%09%09%09%09%7D%20%0D%0A%09%09%09%09gzh%5B0%5D%20%3D%20Poids0%20*%20d0%20/depi%20%3B%09%09%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%09%0D%0A%09%09%09case%200%3A%0D%0A%09%09%09%09for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%20total%0D%0A%09%09%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%20%3B%0D%0A%09%09%09%09%09//If%20%28%21d0%3D%3D0%29%20gzhcos%28icas%2C%20i%29%20%3D%20%20Poids0%20*%20abs%28d0%29%20*%20Cos%28teta%29/%20displ0%28icas%29%3B%0D%0A%09%09%09%09%09//If%20%28%21b0%3D%3D0%29%20gzhsin%28icas%2C%20i%29%20%3D%20%20Poids0%20*%20abs%28b0%29%20*%20sin%28teta%29/%20displ0%28icas%29%3B%0D%0A%09%09%09%09%09gzhcos%5Bi%5D%20%3D%20Poids0%20*%20abs%28d0%29%20*%20cos%28teta%29/%20depi%20%3B%0D%0A%09%09%09%09%09gzhsin%5Bi%5D%20%3D%20Poids0%20*%20abs%28b0%29%20*%20sin%28teta%29/%20depi%20%3B%20%20%0D%0A%09%09%09%09%09GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzhsin%5Bi%5D%20-%20gzhcos%5Bi%5D%3B%20%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%0D%0A%09%09%09%09%09MMt%5Bi%5D%20%3D%20Poids0%20*d0/%20depi%20%3B%0D%0A%09%09%09%09%7D%20%09%09//%27Debug.Print%20k%2Cp%2Cl%2C%22555555555555555555%22%0D%0A%09%09%09%09break%3B%0D%0A%09%09%0D%0A%09%09%09case%2010%3A%0D%0A%09%09%09%09d5.splice%280%2Cd5.length%29%3B%20//clear%20array%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%28d0%29.toFixed%283%29%20+%20%27%20dep0%20%27%20+%20depi%20+%20%27%20ttlim%20%27%20+%20ttlim%20+%20%27%20ky%20%27%20+%20ky%20+%20%27%20Poids0%20%27%20+%20Poids0%3B%09%0D%0A%09%09%09%09for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%3B%09%20%20%20gzhcos%5Bi%5D%20%3D%20Poids0%20*%20abs%28d0%29%20*%20cos%28teta%29/%20depi%20%3B%09%0D%0A%09%09%09%09%09//GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzhsin%5Bi%5D%20%3B%20%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%0D%0A%09%09%09%09%09//MMt%5Bi%5D%20%3D%20Poids0%20*d0/%20depi%20%3B%20%0D%0A%09%09%09%09%7D%20%09%0D%0A%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%2080%3B%20i++%29%20%7B%20d5.push%28%5B%20PHI100%5Bi%5D%20%2Cgzhcos%5Bi%5D%20%5D%29%3B%20%7D%20%0D%0A%09%09%09%09//plotWithOptions%28%29%3B%0D%0A%09%09%09%09//var%20intAngl%20%3D%200%3B%0D%0A%09%09%09%09var%20diff0%20%3D%20GZ100%5B1%5D%20-%20gzhcos%5B1%5D%20%20%3B%09%0D%0A%09%09%09%09for%20%28var%20i%3D2%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09%09%09%09//var%20diff%20%3D%20GZ100%5Bi%5D%20-%20gzhcos%5Bi%5D%20%20%3B%0D%0A%09%09%09%09%09//if%20%28%20diff%20%3D%3D%20-diff0%29%7B%20intAngl%20%3D%20PHI100%5Bi-1%5D%3B%20break%3B%7D%20//%20here%20difference%20sign%20change%20so%20it%20is%20intersection%20%0D%0A%09%09%09%09%7D%20%09%20%0D%0A%09%09%09%09break%3B%09%09%0D%0A%09%09%0D%0A%09%09%09case%2020%3A%0D%0A%09%09%09%09d6.splice%280%2Cd6.length%29%3B%20//clear%20array%20%0D%0A%09%09%09%09for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%3B%09%09gzhsin%5Bi%5D%20%3D%20Poids0%20*%20%28F0%29%20*%20sin%28teta%29/%20depi%20%3B%20%09%09%0D%0A%09%09%09%09%09//GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20gzhsin%5Bi%5D%20%3B%20%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%0D%0A%09%09%09%09%09//MMt%5Bi%5D%20%3D%20Poids0%20*b0/%20depi%20%3B%20%20%0D%0A%09%09%09%09%7D%20%09%09%0D%0A%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%2080%3B%20i++%29%20%7B%20d6.push%28%5B%20PHI100%5Bi%5D%20%2Cgzhsin%5Bi%5D%20%5D%29%3B%20%7D%20%0D%0A%09%09%09%09//plotWithOptions%28%29%3B%0D%0A%09%09%09%09break%3B%09%0D%0A%09%20%0D%0A%09%09/**/%0D%0A%09%09%7D%3B%0D%0A%09%09%09%0D%0A%09%09//final%20inclining%20moment%20%20%3AGZ%20curve%20updating%0D%0A%09%09d7.splice%280%2Cd7.length%29%3B%20//clear%20array%20%09%0D%0A%09%09dpres.splice%280%2Cdpres.length%29%3B%20//clear%20array%20%09%0D%0A%09%09%0D%0A%09%09for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09%09teta%20%3D%20PHI100%5Bi%5D%20*%20%28PI/180%29%3B%20%20%20%20%20%0D%0A%09%09%09var%20sinx%20%3D%20gzhsin%5Bi%5D%20%7C%7C%200%20%3B%0D%0A%09%09%09var%20cosx%20%3D%20gzhcos%5Bi%5D%20%7C%7C%200.0001%20%3B%20%20%20%20%20%20%20//%20hack%3Ato%20force%20GZ%20curve%20drawing%20when%20only%20vertical%20weight-shift%0D%0A%09%09%09GZ100res%5Bi%5D%20%3D%20GZ100%5Bi%5D%20-%20sinx%20-%20cosx%3B%20%20//%20GZ100res%20%3D%20GZ100%20-%20n.%28gz%20heeling%29%20%09%0D%0A%09%09%09d7.push%28%5B%20PHI100%5Bi%5D%20%2Csinx%20+%20cosx%5D%29%3B%20%09%09%09%0D%0A%09%09%7D%20%20%0D%0A%09%09//for%20%28var%20i%3D3%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//%27levier%20inclinant%201%20%20%20critr%20%3D%202%20For%20%26_WARP%28Fishing%29%0D%0A%09%09//%09GZarea%5Bi%5D%3D%20trapezeArea%281%2CGZ100res%2C%20i%29%20*%20Math.pi/180%3B%0D%0A%09%09//%20%7D%20%0D%0A%09%09//GZarea%20%3D%20trapezeArea2%28%20GZ100res%2C%2080%29%20%3B%20//for%20IS2008%20stability%20criteria%20%0D%0A%09%09%0D%0A%0D%0A%09%09var%20ii%3D0%2C%20iii%3D0%3B%0D%0A%09%09//for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20if%20%28GZ100%5Bi%5D%20%3E%20gzhcos%5Bi%5D%20%29%20%7BintAngl%20%3D%20i%20%3B%20break%3B%7D%09%7D%20%20%20//%27levier%20inclinant%20resultant%20%20%20%0D%0A%09%09%0D%0A%09%09//cut%20negatif%20part%20%20of%20GZ%20curve%09%0D%0A%09%09for%20%28var%20i%3D0%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//cut%201st%20part%20%20%20%20%0D%0A%09%09%09if%20%28GZ100res%5Bi%5D%20%3E%3D%200%29%20%7Bii%3Di%3B%20intAngl%20%3D%20ii%3B%20%20break%3B%7D%09%09//UREKA%20%20simple%20to%20get%20heeling%20anglr%09%09%09%0D%0A%09%09%7D%20%09%0D%0A%09%09for%20%28var%20i%3Dii%20%3Bi%3C%3D%2080%3B%20i++%29%7B%20%20%20//cut%202nd%20part%20%20%0D%0A%09%09%09if%20%28GZ100res%5Bi%5D%20%3C%3D%200%29%20%7Biii%3Di%3B%20break%3B%7D%09%09%09%09%09%0D%0A%09%09%7D%20%0D%0A%20%20%20%20%20%20%20%20//Final%0D%0A%09%09var%20PHIp%20%3D%20PHI100.slice%280%29%2C%20%20%20%20%20%20%20%20%20%20%20%09%09GZp%20%3D%20GZ100res.slice%280%29%20%20%3B%20%20%09%09//copy%20whole%20array%20to%20...%0D%0A%09%09PHIp.splice%280%2Cii%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09GZp.splice%280%2Cii%29%3B%20%20%20%20%20%20%20%20%20%20%09%09%09//cut%201st%20negatif%20part%20level%20ii%0D%0A%09%09PHIp.splice%28iii-ii%2CPHI100.length%20%29%3B%20%20%20%09%09GZp.splice%28iii-ii%2CPHI100.length%20%29%3B%09//cut%202nd%20negatif%20part%20level%20iii%20%0D%0A%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20%28PHIp.length%29%3B%20i++%29%20%20%09dpres.push%28%5B%20PHIp%5Bi%5D%20%2CGZp%5Bi%5D%20%5D%29%3B%20%09//push%20PHI%20%26%20GZp%20to%20d%20resultant%20%20%0D%0A%0D%0A%09%09GZdisp%20%3D%20GZp.slice%280%29%3B%20%20%20%20//right%20here%20GZ100res%20%3D%20GZ100%0D%0A%09%09PHIdisp%20%3D%20PHIp.slice%280%29%3B%20%20//right%20here%20GZ100res%20%3D%20GZ100%09%0D%0A%09%09%0D%0A%09%09%20var%20_sign%20%3D%20Math.sign%28%20SIMMON.Y_Shift%29%20%3B%0D%0A%09%09_MomentRoll%20%3D%20_sign*intAngl%3B%0D%0A%09%09%0D%0A%09%09//GZMAX%0D%0A%09%09//GZmax0%20Recalc%20because%20may%20have%20been%20affected%20by%20scale-----------------------------------------------------%09%09%09%09%09%09%09%0D%0A%09%09GZmax01%20%3D%20%20+%28Math.max.apply%28null%2C%20GZdisp%29%29.toFixed%282%29+0.1%3B%20//GZ%20curve%20cadrage%0D%0A%09%09GZmaxx%20%3D%20%20%20%20Math.max%28GZmax0%2C%20GZmax01%29%20%3B%20//GZ%20curve%20cadrage%09%09%0D%0A%09%09try%20%7B%20dGZmax.splice%280%2CdGZmax.length%29%3B%7Dcatch%28err%29%7B%20%7D%20//%20each%20graph%20series%20array%20must%20be%20refreshed%0D%0A%09%09dGZmax.push%28%5B0%2C%28GZmaxx-0.1%29%5D%29%3B%20%20%20dGZmax.push%28%5BTTaGZmax0%2C%28GZmaxx-0.1%29%5D%29%3B%20//GZmax0%20line%09%09%09%09%09%09%09%0D%0A%09%09%20%0D%0A%0D%0A%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%20%3D%27%3Cpre%3E%27%20+%20%27%3CBR%3E%27%20+%20%20GZmax01%20+%20%22%20%20%20%20%22%20+%20%20GZmax0%20+%20%22%20%20%20%20%22%20+%20%20GZmaxx%3B%09%0D%0A%09%09%20%0D%0A%09%09//STAB_GZCITERIA%28GZ100res%29%3B%0D%0A%0D%0A%20%09%09%09%0D%0A%09%7D%20%2C%20%20//%20STAB_GZHEEL%09%0D%0A%09%0D%0A%09%0D%0A%09WeightShift%3Afunction%20%28ax%2Cx0%2Cy0%2Cz0%29%20%7B%20%0D%0A%0D%0A%09%20%20%20%20//document.getElementById%28%27container3%27%29.innerHTML%20%3D%20ax%20+%20%27%20dep0%20%27%20+%20Dep0%20+%20%27%20SIMMON.Weights%20%20%27%20+%20SIMMON.Weights%20%3B%09%0D%0A%20%09%09var%20w0%20%3D%20SIMMON.Weights%20%20%3B%20ttlim%3D8%3B%0D%0A%09%09//------------------------------------------------------HEEL----------------------------------------------------%0D%0A%09%09switch%20%28ax%29%7B%0D%0A%09%09%09case%20%27x%27%3A%0D%0A%09%09%09%09//bind%20box%20to%20the%20deck%0D%0A%09%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20Boxrail.length/1%3B%20i++%29%20%7B%0D%0A%09%09%09%09%09if%20%28Boxrail%5Bi%5D.x%20%3E%20%28x0+15%29%20%29%20%7Bz0%3DBoxrail%5Bi%5D.z%3B%20%20break%7D%3B%20//%20%20document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%27%3Cpre%3E%27%20+%20%27%20%20%27%20+%20%28x0%29%20+%20%27%20%20%20%27+%20Boxrail%5Bi%5D.z%20%3B%09%20%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09SIMMON.WeightBox.position.y%3D%20z0+1%3B%09%09%09%0D%0A%09%09%09%09SIMMON.WeightBox.position.x%3DSIMMON.box_X0%20+%20x0%3B%20break%3B%0D%0A%09%09%09%09%0D%0A%09%09%09case%20%27y%27%3ASIMMON.WeightBox.position.z%3DSIMMON.box_Y0%20+%20y0%3B%20%09STAB_GZHEEL%2810%2C%201%2C%20w0%2C%20y0%2C%200%2C%200%2C%200%2CDep0%2Cttlim%20%29%3B%20break%3B%0D%0A%09%09%09case%20%27z%27%3ASIMMON.WeightBox.position.y%3DSIMMON.box_Z0%20+%20z0%3B%20%09STAB_GZHEEL%2820%2C%201%2C%20w0%2C%200%2C%20z0%2C%200%2C%200%2CDep0%2Cttlim%20%29%3B%20break%3B%0D%0A%09%09%09case%20%27yz%27%3A%20//for%20weight%20variation%3Aimpact%20on%20both%20y%26z%20shift%0D%0A%09%09%09%20%20%20%20if%20%28%20abs%28y0%29%3E0%20%7C%7C%20abs%28z0%29%3E0%20%29%7B%20%0D%0A%09%09%09%09%09SIMMON.WeightBox.position.z%3DSIMMON.box_Y0%20+%20y0%3B%20%09STAB_GZHEEL%2810%2C%201%2C%20w0%2C%20y0%2C%200%2C%200%2C%200%2CDep0%2Cttlim%20%29%3B%20%20%0D%0A%09%09%09%09%09SIMMON.WeightBox.position.y%3DSIMMON.box_Z0%20+%20z0%3B%20%09STAB_GZHEEL%2820%2C%201%2C%20w0%2C%200%2C%20z0%2C%200%2C%200%2CDep0%2Cttlim%20%29%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09break%3B%09%09%0D%0A%09%09%7D%20//%20document.getElementById%28%27container3%27%29.innerHTML%20%3D%20%28y0%29.toFixed%283%29%20+%20%27%20dep0%20%27%20+%20Dep0%20%20%3B%0D%0A%0D%0A%09%09//---------------------------------------------TRIM/LOAD%20CONDITION-------------------------------------------------%0D%0A%09%09this.LoadCondition_TRIM%28%27WEIGHT_shift%27%29%3B%0D%0A%0D%0A%20%09%09%0D%0A%09%20%20%20%20//Weight%20trace%0D%0A%09%09try%20%7B%20delete3DOBJ%28%27ln%27%29%3B%20%7D%0D%0A%09%09catch%28err%29%7B%20%7D%0D%0A%09%09%0D%0A%09%09var%20geometry2%20%3D%20new%20THREE.Geometry%28%29%3B%09%0D%0A%09%09geometry2.vertices.push%28%0D%0A%09%09%09new%20THREE.Vector3%28SIMMON.box_X0%2CSIMMON.box_Z0%2CSIMMON.box_Y0%29%2C%0D%0A%09%09%09new%20THREE.Vector3%28SIMMON.WeightBox.position.x%2CSIMMON.box_Z0%2C0%29%2C%09%0D%0A%09%09%09new%20THREE.Vector3%28SIMMON.WeightBox.position.x%2CSIMMON.box_Z0%2CSIMMON.WeightBox.position.z%29%2C%0D%0A%09%09%09new%20THREE.Vector3%28SIMMON.WeightBox.position.x%2CSIMMON.WeightBox.position.y%2CSIMMON.WeightBox.position.z%29%09%0D%0A%09%09%29%3B%0D%0A%09%09var%20line2%3D%20new%20THREE.Line%28geometry2%2C%20new%20THREE.LineDashedMaterial%28%20%7B%20color%3A0xffffff%2C%20dashSize%3A0.2%2C%20gapSize%3A0.2%2C%20linewidth%3A1%7D%20%2C%20%29%20%29%3Bline2.name%20%3D%20%27ln%27%3B%09%0D%0A%09%09geometry2.computeLineDistances%28%29%3B%0D%0A%0D%0A%09%09dummy.add%28%20line2%29%3B%09%0D%0A%20%20%20%20%20%09%09%0D%0A%20%09%7D%2C%0D%0A%09%0D%0A%09%0D%0A%09CAPASURGE%3Afunction%28CAPID%29%7B%20//DA_Sebastian.Steuer.pdf%0D%0A%09%09%09//try%20%7B%20delete3DOBJ%28%27BoundingCapa%27%29%3B%20%7Dcatch%28err%29%7B%7D%20//%0D%0A%09%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%3DCAPID%20+%20%27%20%20%20%27%20+%20counter1%20+%20%27%20%20%27%20+%20CAPAx%5BCAPID%5D.full%3B%09%0D%0A%20%09%09%0D%0A%09%09%09document.getElementById%28%27CAPA_Volume%27%29.value%20%3D%20vicap%5BCAPID%5D.toFixed%282%29%20%3B%0D%0A%09%09%09document.getElementById%28%27CAPA_kg%27%29.value%20%3D%20zgicap%5BCAPID%5D%20%3B%09%09%0D%0A%09%09%09document.getElementById%28%27CAPA_lcg%27%29.value%20%3D%20xgicap%5BCAPID%5D%20%3B%09%09%0D%0A%09%09%09document.getElementById%28%27CAPA_tcg%27%29.value%20%3D%20ygicap%5BCAPID%5D%20%3B%09%09%0D%0A%09%09%09document.getElementById%28%27CAPA_fs%27%29.value%20%3D%20iticap%5BCAPID%5D%3B%09%09%09%09%0D%0A%0D%0A%09%09%20%20%20%20//Shipmaterial.visible%20%3D%20false%3B%0D%0A%09%09%09%0D%0A%09%09%09//for%20%28var%20c%20%3D%200%3B%20c%20%3C%3D7%3B%20c%20++%29%20%7BCAPASURGEarray%5Bc%5D.geo.visible%20%3D%20false%3B%7D%20%20//hide%20all%20CAPA%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//CAPASURGEarray%5BCAPID-1%5D.geo.visible%20%3D%20true%3B%20%20//show%20selected%20CAPA%0D%0A%09%09%09//CAPAi%20Postprocessing%09%09%09%0D%0A%09%09%09var%20c%20%3D%20CAPID%3B//%0D%0A%09%09%09var%09x%3D%20x1cap%5Bc%5D+x2cap%5Bc%5D/2%3B%20%20var%20dx%3D%20abs%28x2cap%5Bc%5D%29%3B%20%0D%0A%09%09%09var%09y%3D%20y1cap%5Bc%5D+y2cap%5Bc%5D/2%3B%09%20var%20dy%3D%20abs%28y2cap%5Bc%5D%29%3B%0D%0A%09%09%09var%09z%3D%20z1cap%5Bc%5D+z2cap%5Bc%5D/2%3B%09%20var%20dz%3D%20abs%28z2cap%5Bc%5D%29%3B%09%0D%0A%09%09%09var%20sndx%20%3D%20+isndcap%5Bc%5D%20%7C%7C%200%20%3B%0D%0A%09%09%09var%20z0%20%3D%20z1cap%5Bc%5D+sndx%20%3B%20%20%20%20%20%20//actual%20position%0D%0A%09%09%09var%20xx%20%3D%20-SIMMON.L/2+x%3B%20%20%20%20%20%20%20//actual%20position%20%0D%0A%09%09%09var%20planeMaterial%20%3D%20new%20THREE.MeshBasicMaterial%28%7Btransparent%3Atrue%2C%20color%3A%27red%27%2C%20opacity%3A0.5%2C%20side%3ATHREE.DoubleSide%20%7D%29%3B%0D%0A%09%09%09var%20mesh%20%3D%20new%20THREE.Mesh%28%20new%20THREE.PlaneGeometry%28dx%2Cdy%29%2C%20planeMaterial%20%29%3B%0D%0A%09%09%09mesh.position.set%28xx%2Cz0%2Cy%29%3B%0D%0A%09%09%09mesh.rotation.x%20%3D%20-Math.PI/2%3B%20%0D%0A%09%09%09//dummy.add%28%20mesh%29%3B%09%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%20%3D%20%27%3Cpre%3E%27%20+%20z1cap%5Bc%5D+%27%20%20%20%20%27+%20sndx%20+%27%20%20%20%20%27+%20z0%20%3B%09%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09//forward%20convert%0D%0A%09%09%09//var%20capb%20%3D%20CAPACGSarray%5Bc-1%5D%3B//var%20capb%20%3D%20THREE.CSG.fromMesh%28CAPASURGEarray%5Bc-1%5D.geo%29%3B%0D%0A%09%09%09var%20capb%20%3D%20CAPACGSarray%5Bc-1%5D%3B//var%20capb%20%3D%20THREE.CSG.fromMesh%28CAPASURGEarray%5Bc-1%5D.geo%29%3B%0D%0A%09%09%09var%20cutr%20%3D%20THREE.CSG.fromMesh%28mesh%29%3B%0D%0A%09%09%09//boolean%0D%0A%09%09%09var%20result%20%3D%20cutr.intersect%28capb%29%3B%20//.union%28sphereCSG2%29%3B%20%20CAPASURGE%0D%0A%09%09%09//backward%20convert%0D%0A%09%09%09var%20CAPAMESH%20%3D%20THREE.CSG.toMesh%28result%2C%20new%20THREE.MeshPhongMaterial%28%7Bcolor%3A%27cyan%27%2C%20transparent%3Atrue%2C%20opacity%3A0.95%7D%29%29%3B%20//%2C%20transparent%3Atrue%2C%20opacity%3A0.5%7D%29%29%3B%0D%0A%09%09%09CAPAMESH.name%20%3D%20%27CAPAMESHres%27%20+%20c%0D%0A%09%09%09try%20%7B%20delete3DOBJ%28%27CAPAMESHres%27%20+%20c%29%3B%20%7Dcatch%28err%29%7B%7D%3B%0D%0A%09%09%09CAPAMESH.renderOrder%20%3D%200%3B%09//transparency%20order%0D%0A%09%09%09dummy.add%28%20CAPAMESH%29%3B%09%0D%0A%09%09%09//.....................................................%09%0D%0A%09%09%09%0D%0A%09%09%09%0D%0A%09%09%09/**/%09%09%09%09%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09/*%09%09%0D%0A%09%09%09//--------------------------------------------------------------%09%0D%0A%09%09%09//%20Pure%20red%20light.%0D%0A%09%09%09var%20light2%20%3D%20new%20THREE.PointLight%280xff0000%29%3B%09%20%20%20%0D%0A%09%09%09light2.intensity%20%3D%202%3B%20%20%0D%0A%09%09%09light2.position.set%28-SIMMON.L/2+x%2Cz%2Cy+2%29%3B%0D%0A%09%09%09//%20Visualize%20point%20light%20location.%0D%0A%09%09%09var%20helper%20%3D%20new%20THREE.PointLightHelper%28light2%2C%200.1%29%3B%20%20%20%20//%20light2.position.set%28%200%2C600%2C%202000%29%3B%0D%0A%09%09%09//helper.position.x%20%3D%20x%3B%20helper.position.y%20%3D%20y+1%3B%20helper.position.z%20%3D%20z%3B%0D%0A%09%09%09scene.add%28light2%29%3B%0D%0A%09%09%09scene.add%28helper%29%3B%09%0D%0A%09%09%09*/%0D%0A%09%0D%0A%09%09%7D%2C%09%0D%0A%09%0D%0A%20%20%20%20CAPADYNAMICSURGE%3Afunction%28CAPID%2Croll%2Cpitch%29%7B%09%0D%0A%0D%0A%09%09%09//for%20%28var%20c%20%3D%200%3B%20c%20%3C%3D7%3B%20c%20++%29%20%7BCAPASURGEarray%5Bc%5D.geo.visible%20%3D%20false%3B%7D%20%20//hide%20all%20CAPA%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//CAPASURGEarray%5BCAPID-1%5D.geo.visible%20%3D%20true%3B%20%20//show%20selected%20CAPA%0D%0A%09%09%09//CAPAi%20Postprocessing%09%09%09%0D%0A%09%09%09var%20c%20%3D%20CAPID%3B//%0D%0A%09%09%09var%09x%3D%20x1cap%5Bc%5D+x2cap%5Bc%5D/2%3B%20%20var%20dx%3D%20abs%28x2cap%5Bc%5D%29%3B%20%0D%0A%09%09%09var%09y%3D%20y1cap%5Bc%5D+y2cap%5Bc%5D/2%3B%09%20var%20dy%3D%20abs%28y2cap%5Bc%5D%29%3B%0D%0A%09%09%09var%09z%3D%20z1cap%5Bc%5D+z2cap%5Bc%5D/2%3B%09%20var%20dz%3D%20abs%28z2cap%5Bc%5D%29%3B%09%0D%0A%09%09%09var%20sndx%20%3D%20+isndcap%5Bc%5D%20%7C%7C%200%20%3B%0D%0A%09%09%09var%20z0%20%3D%20z1cap%5Bc%5D+sndx%20%3B%20%20%20%20%20%20//actual%20position%0D%0A%09%09%09var%20xx%20%3D%20-SIMMON.L/2+x%3B%20%20%20%20%20%20%20//actual%20position%20%0D%0A%09%09%09var%20planeMaterial%20%3D%20new%20THREE.MeshBasicMaterial%28%7Btransparent%3Atrue%2C%20color%3A%27red%27%2C%20opacity%3A0.5%2C%20side%3ATHREE.DoubleSide%20%7D%29%3B%0D%0A%09%09%09var%20mesh%20%3D%20new%20THREE.Mesh%28%20new%20THREE.PlaneGeometry%28dx%2Cdy%29%2C%20planeMaterial%20%29%3B%0D%0A%09%09%09mesh.position.set%28xx%2Cz0%2Cy%29%3B%0D%0A%09%09%09mesh.rotation.x%20%3D%20-Math.PI/2%3B%20%0D%0A%09%09%09//DYNAMIC%20ROLL%20%26%20PITCH-------------------------------------------%0D%0A%09%09%09mesh.rotation.x%20%3D%20roll*Math.PI/2%3B%20%20//look%20at%20simulate%20%28ts%29%0D%0A%09%09%09mesh.rotation.z%20%3D%20pitch*Math.PI/2%3B%20%09%09%09%0D%0A%09%09%09//DYNAMIC%20ROLL%20%26%20PITCH-------------------------------------------%0D%0A%09%09%09%0D%0A%09%09%09//dummy.add%28%20mesh%29%3B%09%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09//document.getElementById%28%27container3%27%29.innerHTML%20%20%3D%20%27%3Cpre%3E%27%20+%20z1cap%5Bc%5D+%27%20%20%20%20%27+%20sndx%20+%27%20%20%20%20%27+%20z0%20%3B%09%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09//forward%20convert%0D%0A%09%09%09//var%20capb%20%3D%20CAPACGSarray%5Bc-1%5D%3B//var%20capb%20%3D%20THREE.CSG.fromMesh%28CAPASURGEarray%5Bc-1%5D.geo%29%3B%0D%0A%09%09%09var%20capb%20%3D%20CAPACGSarray%5Bc-1%5D%3B//var%20capb%20%3D%20THREE.CSG.fromMesh%28CAPASURGEarray%5Bc-1%5D.geo%29%3B%0D%0A%09%09%09var%20cutr%20%3D%20THREE.CSG.fromMesh%28mesh%29%3B%0D%0A%09%09%09//boolean%0D%0A%09%09%09var%20result%20%3D%20cutr.intersect%28capb%29%3B%20//.union%28sphereCSG2%29%3B%20%20CAPASURGE%0D%0A%09%09%09//backward%20convert%0D%0A%09%09%09var%20CAPAMESH%20%3D%20THREE.CSG.toMesh%28result%2C%20new%20THREE.MeshPhongMaterial%28%7Bcolor%3A%27cyan%27%2C%20transparent%3Atrue%2C%20opacity%3A0.95%7D%29%29%3B%20//%2C%20transparent%3Atrue%2C%20opacity%3A0.5%7D%29%29%3B%0D%0A%09%09%09CAPAMESH.name%20%3D%20%27CAPAMESHres%27%20+%20c%0D%0A%09%09%09try%20%7B%20delete3DOBJ%28%27CAPAMESHres%27%20+%20c%29%3B%20%7Dcatch%28err%29%7B%7D%3B%0D%0A%09%09%09CAPAMESH.renderOrder%20%3D%200%3B%09//transparency%20order%0D%0A%09%09%09dummy.add%28%20CAPAMESH%29%3B%09%0D%0A%09%09%09//.....................................................%09%0D%0A%09%09%09%0D%0A%09%09%09%0D%0A%09%09%09/**/%09%09%09%09%0D%0A%09%09%09%09%09%09%0D%0A%09%09%09%09%09%09/*%09%09%0D%0A%09%09%09//--------------------------------------------------------------%09%0D%0A%09%09%09//%20Pure%20red%20light.%0D%0A%09%09%09var%20light2%20%3D%20new%20THREE.PointLight%280xff0000%29%3B%09%20%20%20%0D%0A%09%09%09light2.intensity%20%3D%202%3B%20%20%0D%0A%09%09%09light2.position.set%28-SIMMON.L/2+x%2Cz%2Cy+2%29%3B%0D%0A%09%09%09//%20Visualize%20point%20light%20location.%0D%0A%09%09%09var%20helper%20%3D%20new%20THREE.PointLightHelper%28light2%2C%200.1%29%3B%20%20%20%20//%20light2.position.set%28%200%2C600%2C%202000%29%3B%0D%0A%09%09%09//helper.position.x%20%3D%20x%3B%20helper.position.y%20%3D%20y+1%3B%20helper.position.z%20%3D%20z%3B%0D%0A%09%09%09scene.add%28light2%29%3B%0D%0A%09%09%09scene.add%28helper%29%3B%09%0D%0A%09%09%09*/%09%0D%0A%09%0D%0A%09%7D%2C%0D%0A%0D%0A%09GZCURVEGRAPH%3Afunction%28GZCURVEGRAPH%29%7B%0D%0A%09%0D%0A%09%09switch%20%28GZCURVEGRAPH%29%0D%0A%09%09%7B%0D%0A%09%09%09case%20%22INTACT%22%3A%0D%0A%09%09%09%09//if%20%28%20SIMMON.SimRoll%20%3C%200%29%20%20%20%20%20rollAmplitude%20%3D3*rollAmplitude0%20%3B%20//%20%20else%20%20%20%20%20_MomentRoll%20%3D0%20%20%3B%09%0D%0A%09%09%09%09//if%20%28%20SIMMON.SimRoll%20%3E%200%29%20%20%20%20%20rollAmplitude%20%3D6*rollAmplitude0%20%3B%20//%20%20else%20%20%20%20%20_MomentRoll%20%3D0%20%20%3B%09%09%09%09%09%09%0D%0A%09%09%09%09//%20document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20%22%20%20%20%20%20%22%20+%20SIMMON.SimRoll%20+%20%22%20%20%20%20%20%22%20+%20%20rollAmplitude0%3B%20%0D%0A%09%09%09%20%0D%0A%09%09%09%09TTa1%20%3D%20Math.floor%28abs%28SIMMON.Troll%29%29%3B%20%20var%20GZ1%20%3D%20GZdisp%5BTTa1%5D%20%3B%20%20%20//spline20%28TTa1%2C%20PHI100%2C%20GZ100%29%20%3B%20%0D%0A%09%09%09%09TTa2%20%3D%2060%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20GZ2%20%3D%20GZdisp%5BTTa2%5D%20%3B%20%20%20//spline20%28TTa2%2C%20PHI100%2C%20GZ100%29%20%3B%20%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09%09d22p.push%28%5BTTa1+PHIdisp%5B0%5D%2C0%5D%29%3B%20%20%20d22p.push%28%5BTTa1+PHIdisp%5B0%5D%2C%28GZmaxx%29%5D%29%3B%20//roll%20line%0D%0A%09%09%09%09d2p.push%28%5BTTa2%2CGZdisp%5BTTa1%5D%5D%29%3B%20%20%20%20d2p.push%28%5B90%2CGZdisp%5BTTa1%5D%5D%29%3B%20%20%0D%0A%09%09%09%09%20%0D%0A%0D%0A%09%09%09%09//Area%20B%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09var%20TTb%20%3D%20PHIdisp.slice%280%29%20%20%2CGZb%20%3D%20GZdisp.slice%280%29%20%20%3B%20//copy%20whole%20array%20to%20...%0D%0A%09%09%09%09TTb.splice%280%2CTTa1%29%3B%20%20%20%20%20%20%20%20%20%20GZb.splice%280%2CTTa1%29%3B%20%20%20%20%20%20//cut%20%0D%0A%09%09%09%09TTb.splice%28TTa2-TTa1-PHIdisp%5B0%5D+1%2CTTb.length%20%29%3B%20GZb.splice%28TTa2-TTa1-PHIdisp%5B0%5D+1%2CTTb.length%20%29%3B%0D%0A%09%09%09%09GZb%5B0%5D%20%3D%20GZ1%20%3B%0D%0A%09%09%09%09if%20%28GZ1%3C%3DGZ2%29%7B%20//dont%20give%20a%20dam%20to%20Area%20B%20any%20more%20%21%21%21%0D%0A%09%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20%28TTb.length-1%29%20%3B%20i++%29%20%20d3p.push%28%5B%20TTb%5Bi%5D%20%2CGZb%5Bi%5D%20%5D%29%3B%20%09//TTb.forEach%28%20function%20%28i%29%20%7B%20d3.push%28%20%5B%20TTb%5Bi%5D%20%2CGZb%5Bi%5D%20%5D%29%20%3B%20%20%7D%29%20%3B%20%0D%0A%09%09%09%09%09d3p.push%28%5BTTa2%2C%20GZ1%5D%29%3B%20d3p.push%28%5BTTa1+PHIdisp%5B0%5D%2C%20GZ1%5D%29%3B%20//close%20diplayed%20polygon%20b%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09//....................................................%09%0D%0A%09%09%09%09TTb.push%28TTa2%29%3B%20%20%20%20GZb.push%28GZ1%29%3B%20%20%20//close%20polygon%20B%0D%0A%09%09%09%09TTb.push%28TTa1%29%3B%20%20%20%20GZb.push%28GZ1%29%3B%20%0D%0A%09%09%09%09Area_b%20%3D%20PI/180*abs%28polygonArea%28TTb%2C%20GZb%2C%20TTb.length-1%29%29%20%3B%20%20//area%20polygon%20B%0D%0A%09%09%09%09//document.getElementById%28%27Areab%27%29.innerHTML%20%3D%20arb.toFixed%283%29%20%3B%0D%0A%09%09%09%09/*%0D%0A%09%09%09%09%09var%20myWorker%20%3D%20new%20Worker%28%22worker2.js%22%29%3B%0D%0A%09%09%09%09%09//myWorker.postMessage%28%5B%20%27polygon%27%2CTTb%2CGZb%5D%29%3B%09%20%0D%0A%09%09%09%09%09myWorker.postMessage%28%20%5B%27polygon%27%2C%5B1%2C1%2C5%2C5%2C1%5D%2C%5B0%2C2%2C2%2C0%2C0%5D%5D%20%29%3B%09%09%0D%0A%09%09%09%09%09//myWorker.postMessage%28%20%5B%27polygon%27%2C%5B1%2C1%2C5%2C6%2C1%5D%2C%5B0%2C2%2C2%2C0%2C0%5D%5D%20%29%3B%0D%0A%09%09%09%09%09//.......................................%0D%0A%09%09%09%09%09myWorker.onmessage%20%3D%20function%28e%29%20%7B%0D%0A%09%09%09%09%09//document.getElementById%28%27container31%27%29.innerHTML%20%3D%20e.data%20%3B%09%0D%0A%09%09%09%09%09localStorage.setItem%28%27data0%27%2C%2040%29%3B%0D%0A%09%09%09%09%09//%20document.getElementById%28%27buttonAreab%27%29.innerHTML%20%3D%201%3B%20//arb.toFixed%283%29%20%3B%0D%0A%09%09%09%09%09%7D%3B%20%0D%0A%09%09%09%09%20%20%20document.getElementById%28%27container3%27%29.innerHTML%20%20%3D%20+localStorage.data0%20%20%20%3B%09%09%09%20%0D%0A%09%09%09%09*/%09%09%09%0D%0A%09%09%09%09%20%20%0D%0A%09%09%09%09%09%09%20%0D%0A%09%09%09%09//Area%20A%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09var%20TTb2%20%3D%20PHIdisp.slice%280%29%2C%20%20%20%20%20%20%20GZb2%20%3D%20GZdisp.slice%280%29%20%20%3B%0D%0A%09%09%09%09TTb2.splice%28TTa1+1%2CTTb2.length-1%29%3B%20GZb2.splice%28TTa1+1%2CGZb2.length-1%29%3B%0D%0A%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20%28TTa1%29%3B%20i++%29%20%20%7Bd4p.push%28%5B%20TTb2%5Bi%5D%20%2CGZb2%5Bi%5D%20%5D%29%3B%20%7D%20%20%0D%0A%09%09%09%09%20%20%0D%0A%09%09%09%09d4p.push%28%5B%200%20%2CGZ1%20%5D%29%3B%20d4p.push%28%5B%200%20%2C0%20%5D%29%3B%20d4p.push%28%5B%20TTb2%5B0%5D%20%2C0%20%5D%29%3B%20%20%20%20//close%20diplayed%20polygon%20a/trapeze%0D%0A%09%09%09%09//............................................................%0D%0A%09%09%09%09TTb2.push%280%29%3B%20%20%20%20%20%20%20GZb2.push%28GZ1%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//close%20%28a%29%20polygon%20%20%0D%0A%09%09%09%09TTb2.push%280%29%3B%20%20%20%20%20%20%20GZb2.push%280%29%3B%20%0D%0A%09%09%09%09TTb2.push%28TTb2%5B0%5D%29%3B%20GZb2.push%280%29%3B%20%0D%0A%09%09%09%09Area_a%20%3D%20PI/180*abs%28polygonArea%28TTb2%2C%20GZb2%2C%20GZb2.length%20%29%29%3B%20//area%20polygon%20A%0D%0A%09%09%09%09//document.getElementById%28%27Areaa%27%29.innerHTML%20%3D%20ara.toFixed%283%29%20%0D%0A%09%09%09%09if%20%28Area_a%20%3E%20Area_b%29%20document.getElementById%28%22areaab%22%29.style.color%20%3D%20%27red%27%3B%20%0D%0A%09%09%09%09else%20document.getElementById%28%22areaab%22%29.style.color%20%3D%20%27black%27%3B%20%0D%0A%09%09%09%09%20%0D%0A%0D%0A%09%09%09%09%20/*%0D%0A%09%09%09%09%09var%20myWorker%20%3D%20new%20Worker%28%22worker2.js%22%29%3B%0D%0A%09%09%09%09%09myWorker.postMessage%28%5B%20%27polygon%27%2CTTb2%2CGZb2%5D%29%3B%09%20%20%0D%0A%09%09%09%09%09//...........................................%09%20%0D%0A%09%09%09%09%09myWorker.onmessage%20%3D%20function%28e%29%20%7B%0D%0A%09%09%09%09%09//document.getElementById%28%27container31%27%29.innerHTML%20%3D%20e.data%20%3B%09%0D%0A%09%09%09%09%09//localStorage.setItem%28%27data0%27%2C%20e.data%29%3B%0D%0A%09%09%09%09%09%20document.getElementById%28%27buttonAreaa%27%29.innerHTML%20%3D%202%3B%20//arb.toFixed%283%29%20%3B%0D%0A%09%09%09%09%09%7D%3B%20%0D%0A%09%09%09%09%20*/%0D%0A%0D%0A%09%09%09%09//Display%20Area%20AB%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09YaxMin%20%3D-0.1%20%3B%20XaxMin%20%3D-5%20%3B%0D%0A%09%09%09%09plotWithOptions%28%29%3B%09%0D%0A%09%09%09%09document.getElementById%28%27areaab%27%29.innerHTML%20%3D%20%20%22Area%20a%20%3A%22%20+%20Area_a.toFixed%283%29%20+%20%27%3CBR%3E%27%20%20+%20%22Area%20b%20%3A%22%20+%20Area_b.toFixed%283%29%20%0D%0A%09%09%09%09//garbage%20%09%0D%0A%09%09%09%09d2p.splice%280%2C2%29%3B%20d22p.splice%280%2C2%29%3B//Clear%20roll%20line%0D%0A%09%09%09%09d3p.splice%280%2Cd3p.length-1%29%3B%20%20%0D%0A%09%09%09%09d4p.splice%280%2Cd4p.length-1%29%3B%20%0D%0A%09%09%09%09%0D%0A%09%09%09%09//Alarm%20ara%20%20%3E%20arb%0D%0A%09%09%09%09//if%20%28%20ara%20%20%3E%20arb%29%20%20play%28%29%3B%20else%20if%20%28%20ara%20%3C%20%20arb%29%20stop%28%29%3B%0D%0A%09%09%09%09%20%0D%0A%09%09%09%09break%3B%0D%0A%09%09%09%09%0D%0A%09%09%09case%20%22METEO%22%3A%0D%0A%09%09%09%09//GZmax0%20Recalc%20because%20may%20have%20been%20affected%20by%20scale-----------------------------------------------------%09%09%09%09%09%09%09%0D%0A%09%09%09%09GZmax01%20%3D%20%20+%28Math.max.apply%28null%2C%20GZ100wnd%29%29.toFixed%282%29+0.1%3B%20//GZ%20curve%20cadrage%0D%0A%09%09%09%09GZmaxx%20%3D%20%20Math.max%28GZmax0%2C%20GZmax01%29%3B%20//GZ%20curve%20cadrage%09%09%0D%0A%09%09%09%09try%20%7B%20dGZmax.splice%280%2CdGZmax.length%29%3B%7Dcatch%28err%29%7B%20%7D%20//%20each%20graph%20series%20array%20must%20be%20refreshed%0D%0A%09%09%09%09dGZmax.push%28%5B0%2C%28GZmaxx-0.1%29%5D%29%3B%20%20%20dGZmax.push%28%5BTTaGZmax0%2C%28GZmaxx-0.1%29%5D%29%3B%20//GZmax0%20line%09%09%09%09%09%09%09%0D%0A%09%09%09%09//-----------------------------------------------------%09%09%09%09%09%0D%0A%09%09%09%09%0D%0A%09%09%09%09var%20TTanm%20%3Dabs%28Math.floor%28abs%28TTan%29%29%29%3B%20%20%0D%0A%09%09%09%09//TTa00%20%3D%20-TTanm%20+%20TTa1/2%3B%0D%0A%09%09%09%09//var%20GZib%3D%20numeric.spline%28PHI100wnd%2CGZ100wnd%29.at%28TTa0p%29%3B%20%0D%0A%09%09%09%09var%20ttx%20%3D%20numeric.spline%28GZ100wnd%2CPHI100wnd%29.at%28lw2%29%3B%20%09%0D%0A%09%09%09%09%0D%0A%09%09%09%09_MomentRoll%3D0%3B%0D%0A%09%09%09%09if%20%28%20SIMMON.SimRoll%20%3C%200%29%20%20rollAmplitude%20%3D%28TTanm+0%29/waveAmplitude%3B%20//%20TTanm-Math.abs%28rollAmplitude0%29%20else%20%20%20%20%20_MomentRoll%20%3D0%20%20%3B%09%0D%0A%09%09%09%09if%20%28%20SIMMON.SimRoll%20%3E%200%29%20%20rollAmplitude%20%3D%28rollAmplitude0+TTa0p%29/waveAmplitude%3B%20%20%20//else%20%20%20%20%20_MomentRoll%20%3D0%20%20%3B%09%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20%22%20%20%20%20%20%22%20+%20TTanm%20+%20%22%20%20%20%20%20%22%20+%20rollAmplitude0%20+%20%22%20%20%20%20%20%22%20+%20waveAmplitude%3B%20%0D%0A%09%09%09%09%0D%0A%09%09%09%09TTax%20%3D%20Math.floor%28SIMMON.Troll+0%29%3B%09%09%09%09%09%0D%0A%09%09%09%09TTaxn%20%3D%20-PHIdisp%5B0%5D+TTax%20%3B%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09%09var%20TTa1x%20%3D%20Math.floor%28abs%28SIMMON.Troll%29%29+TTanm%3B%20%20%09var%20GZ1%20%3D%20GZdisp%5BTTa1x%5D+lw2%20%3B%20%20%20//spline20%28TTa1%2C%20PHI100%2C%20GZ100%29%20%3B%0D%0A%09%09%09%09GZ1%20%3D%20GZdisp%5BTTaxn%5D%20%20%3B%20%0D%0A%09%09%09%09var%20TTa2%20%3D%2060%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09%20%20%20%20var%20GZ2%20%3D%20GZdisp%5BTTa2%5D%20%3B%20%20%20//spline20%28TTa2%2C%20PHI100%2C%20GZ100%29%20%3B%20%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09%09d22p.push%28%5B%20TTax%20%2C-0.5%5D%29%3B%20%20%20%09%09%09%09%09%20%20%20%20d22p.push%28%5B%20TTax%2C%28GZmaxx%29%5D%29%3B%20//roll%20line%20vert%09%09%09%09%09%0D%0A%09%09%09%09d2p.push%28%5B-TTanm%2C%20GZ1%5D%29%3B%20%20%20%20%20%20%09%09%20%20%20%20%20%20%20%20%09%20%20%20%20d2p.push%28%5B90%2C%20GZ1%5D%29%3B%20%20%20%20%20%20%20%20//roll%20line%20%20Horiz%20%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20%3DPHIdisp%5B0%5D%20+%20%22%20%20%20%22%20+TTanm+%20%22%20%20%20%22%20+TTax+%20%22%20%20%20%22%20+TTaxn%3B//%20lw2%20//+%20%22%20%20%20%20%22%20%20+%20PHI100wnd%3B%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20+%3D%20%22%20%20%20%20%20%22%20+%20lw1%20+%20%22%20%20%20%22%20+lw2+%20%22%20%20%20%22%20+TTa0+%20%22%20%20%20%22%20+TTa1x%20%3B//%20lw2%20//+%20%22%20%20%20%20%22%20%20+%20PHI100wnd%3B%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20+%3D%20%22%20%20%20%20%20%22%20+%20TTa00+%20%22%20%20%20%22%20+%20TTa0p%20%3B%20%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20%22%20%20%20%20%20%22%20+%20TTanm%20+%20%22%20%20%20%20%20%22%20+%20TTan%20+%20%22%20%20%20%20%20%22%20+%20GZ1+%20%22%20%20%20%20%20%22%20+lw1%20+%20%22%20%20%20%20%20%22%20+lw2+%20%22%20%20%20%20%20%22%20+TTa0p%3B%20%0D%0A%09%09%09%09//document.getElementById%28%22container3%22%29.innerHTML%20%20%3D%20%22%20%20%20%20%20%22%20+%20rollAmplitude0%20%3B%20%0D%0A%09%09%09%09%20%0D%0A%09%09%09%09//Area%20B%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09var%20TTb%20%3D%20PHIdisp.slice%280%29%2C%09%09GZb%20%3D%20GZdisp.slice%280%29%20%20%3B%20//copy%20whole%20array%20to%20...%0D%0A%09%09%09%09TTb.splice%280%2CTTaxn%29%3B%20%20%20%20%20%20%20%20%20%20%09GZb.splice%280%2CTTaxn%29%3B%20%20%20%20%20%20//cut%20%0D%0A%09%09%09%09TTb.splice%28TTa2-TTax+1%2CTTb.length%20%29%3B%20GZb.splice%28TTa2-TTax+1%2CTTb.length%20%29%3B%0D%0A%0D%0A%09%09%09%09if%20%28GZ1%20%3E%3D0.01%29%7B%20//if%20%28TTax%20%3E%200%29%7B%20%0D%0A%09%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20%28TTb.length-1%20%29%20%3B%20i++%29%20%20d3p.push%28%5B%20TTb%5Bi%5D%20%2CGZb%5Bi%5D%20%5D%29%3B%20%09//TTb.forEach%28%20function%20%28i%29%20%7B%20d3.push%28%20%5B%20TTb%5Bi%5D%20%2CGZb%5Bi%5D%20%5D%29%20%3B%20%20%7D%29%20%3B%20%0D%0A%09%09%09%09%09d3p.push%28%5BTTa2%2C%20GZ1%5D%29%3B%20d3p.push%28%5BTTax%20%2C%20GZ1%5D%29%3B%20//close%20diplayed%20polygon%20b%0D%0A%09%09%09%09%20%7D%0D%0A%09%09%09%09//....................................................%09%0D%0A%09%09%09%09TTb.push%28TTa2%29%3B%20%20%20%20GZb.push%28GZ1%29%3B%20%20%20//close%20polygon%20B%0D%0A%09%09%09%09TTb.push%28TTax%29%3B%20%20%20%20GZb.push%28GZ1%29%3B%20%0D%0A%09%09%09%09Area_b%20%3D%20PI/180*abs%28polygonArea%28TTb%2C%20GZb%2C%20TTb.length-1%29%29%20%3B%20%20//area%20polygon%20B%0D%0A%09%09%09%09%09%09%20%0D%0A%09%09%09%09//Area%20A%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09//Confinement%20%0D%0A%09%09%09%09var%20GZia%3D%20-numeric.spline%28PHI100wnd%2CGZ100wnd%29.at%28%20TTanm%20%29%3B%20%0D%0A%09%09%09%09//d22p.push%28%5B%20TTax%20%2CGZia%5D%29%3B%20%20%20%09%09%09%09%09%20%20%20%20%20%20%20%20d22p.push%28%5B%20TTax%2C%28GZmax0%29%5D%29%3B%20//roll%20line%09%09%09%09%09%0D%0A%0D%0A%09%09%09%09var%20angl%3D%20abs%28PHIdisp%5B0%5D+TTanm%29%3B%0D%0A%09%09%09%09var%20TTb2%20%3D%20PHIdisp.slice%280%29%2C%20%20%20%20%20%20%20%20GZb2%20%3D%20GZdisp.slice%280%29%20%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20//copy%20whole%20array%20to%20...%0D%0A%09%09%09%09TTb2.splice%28TTaxn+1%2CTTb2.length-1%29%3B%20GZb2.splice%28TTaxn+1%2CGZb2.length-1%29%3B%20%20%20//cut%20%0D%0A%09%09%09%09if%20%28GZ1%20%3E%3D0.01%29%7B%20%20//if%20%28TTax%20%3E%200%29%7B%20%09%09%09%09%09%0D%0A%09%09%09%09for%20%28var%20i%20%3D%20angl%3B%20i%20%3C%3D%20%28TTaxn%29%3B%20i++%29%20%20%7Bd4p.push%28%5B%20TTb2%5Bi%5D%20%2CGZb2%5Bi%5D%20%5D%29%3B%20%7D%20%20%0D%0A%09%09%09%09%20d4p.push%28%5B%20-TTanm%20%20%2CGZ1%20%5D%29%3B%20d4p.push%28%5B%20-TTanm%20%2CGZia%5D%29%3B%20%20%20%20//close%20diplayed%20polygon%20a/trapeze%20%20top%20to%20down%09%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09//............................................................%0D%0A%09%09%09%09TTb2.push%28-TTanm%29%3B%20%20%20%20%20%20%20GZb2.push%28GZ1%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//close%20%28a%29%20polygon%20%20%0D%0A%09%09%09%09TTb2.push%28-TTanm%29%3B%20%20%20%20%20%20%20GZb2.push%28GZia%29%3B%20%3B//GZb2.push%28GZb2%5B0%5D%29%3B%20%0D%0A%09%09%09%09Area_a%20%3D%20PI/180*abs%28polygonArea%28TTb2%2C%20GZb2%2C%20GZb2.length%20%29%29%3B%20//area%20polygon%20A%0D%0A%0D%0A%09%09%09%09if%20%28Area_a%20%3E%20Area_b%29%20document.getElementById%28%22areaab%22%29.style.color%20%3D%20%27red%27%3B%20%0D%0A%09%09%09%09else%20document.getElementById%28%22areaab%22%29.style.color%20%3D%20%27black%27%3B%20%0D%0A%0D%0A%09%09%09%09//Display%20Area%20AB%20----------------------------------------------------------------------------------------------%0D%0A%09%09%09%09YaxMin%20%3D-0.1%20%3B%20XaxMin%20%3D-25%20%3B%09%09%09%09%09%09%0D%0A%09%09%09%09YaxMin%20%3D%20GZia%20-0.2%20%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20XaxMin%20%3D-TTanm-2%20%20//var%20GZia%3D%20-numeric.spline%28PHI100wnd%2CGZ100wnd%29.at%28%20TTanm%20%29%3B%20%0D%0A%09%09%09%09//try%20%7B%20d1p.splice%280%2Cd1p.length%29%3B%7Dcatch%28err%29%7B%20%7D%20%20%20%20//%20Erase%20intact%20GZ%20**************%0D%0A%09%09%09%09plotWithOptions%28%29%3B%09%0D%0A%09%09%09%09if%20%28GZ1%3C0.01%29document.getElementById%28%27areaab%27%29.innerHTML%20%3D%20%20%22Area%20a%20%3A%22%20+%200%20+%20%27%3CBR%3E%27%20+%20%22Area%20b%20%3A%22%20+%200%20%3B%20%0D%0A%09%09%09%09else%20document.getElementById%28%27areaab%27%29.innerHTML%20%3D%20%20%22Area%20a%20%3A%22%20+%20Area_a.toFixed%283%29%20+%20%27%3CBR%3E%27%20%20+%20%22Area%20b%20%3A%22%20+%20Area_b.toFixed%283%29%20%0D%0A%09%09%20%0D%0A%09%09%09%09%0D%0A%09%09%09%09//document.getElementById%28%27areaab%27%29.innerHTML%20%3D%20%20%22Area%20a%20%3A%22%20+%20Area_a.toFixed%283%29%20+%20%27%3CBR%3E%27%20%20+%20%22Area%20b%20%3A%22%20+%20Area_b.toFixed%283%29%3B%20%0D%0A%09%09%09%09//garbage%20%20%09%09%09%0D%0A%09%09%09%09d2p.splice%280%2C2%29%3B%20d22p.splice%280%2C2%29%3B%20//Clear%20roll%20line%0D%0A%09%09%09%09d3p.splice%280%2Cd3p.length-1%29%3B%20%20%0D%0A%09%09%09%09d4p.splice%280%2Cd4p.length-1%29%3B%20%20%0D%0A%09%09%09%09%0D%0A%09%09%09%09//Alarm%20ara%20%20%3E%20arb%0D%0A%09%09%09%09//if%20%28%20ara%20%20%3E%20arb%29%20%20play%28%29%3B%20else%20if%20%28%20ara%20%3C%20%20arb%29%20stop%28%29%3B%0D%0A%09%09%0D%0A%09%09%09%09//if%20%28SIMMON.Troll%20%3C%200%20%29%20_MomentRoll%3D10%3B%20else%20_MomentRoll%3D0%3B%20%3C%20%3E%0D%0A%09%09%09%09var%20%20maxMomentRoll%20%3D%20%2020%20%3B%20//50%0D%0A%09%09%09%09if%20%28SIMMON.SimRoll%20%20%3E%200%20%29%09%7B%0D%0A%09%09%09%09%09//%20if%20%28_MomentRoll%20%3C%20%20maxMomentRoll%20%29%20_MomentRoll%20+%3D%200.5%3B%20else%20_MomentRoll%20%3D%20maxMomentRoll%3B%0D%0A%09%09%09%09%20%7D%20%0D%0A%0D%0A%09%09%09%09break%3B%0D%0A%0D%0A%09%09%7D%20%09%0D%0A%09%7D%2C%0D%0A%09%0D%0A%0D%0A%09SHIPFRANCBOARD%3A%20%7B%0D%0A%09%09%20%20%20%20%20FBASExTXT%20%3A%0D%0A%09%09%09%09%09%2724%09200%09%0961%09587%09%0998%091105%2C%27%20+%0D%0A%09%09%09%09%09%2725%09208%09%0962%09600%09%0999%091120%2C%27%20+%0D%0A%09%09%09%09%09%2726%09217%09%0963%09613%09%09100%091135%2C%27%20+%0D%0A%09%09%09%09%09%2727%09225%09%0964%09626%09%09101%091151%2C%27%20+%0D%0A%09%09%09%09%09%2728%09233%09%0965%09639%09%09102%091166%2C%27%20+%0D%0A%09%09%09%09%09%2729%09242%09%0966%09653%09%09103%091181%2C%27%20+%0D%0A%09%09%09%09%09%2730%09250%09%0967%09666%09%09104%091196%2C%27%20+%0D%0A%09%09%09%09%09%2731%09258%09%0968%09680%09%09105%091212%2C%27%20+%0D%0A%09%09%09%09%09%2732%09267%09%0969%09693%09%09106%091228%2C%27%20+%0D%0A%09%09%09%09%09%2733%09275%09%0970%09706%09%09107%091244%2C%27%20+%0D%0A%09%09%09%09%09%2734%09283%09%0971%09720%09%09108%091260%2C%27%20+%0D%0A%09%09%09%09%09%2735%09292%09%0972%09733%09%09109%091276%2C%27%20+%0D%0A%09%09%09%09%09%2736%09300%09%0973%09746%09%09110%091293%2C%27%20+%0D%0A%09%09%09%09%09%2737%09308%09%0974%09760%09%09111%091309%2C%27%20+%0D%0A%09%09%09%09%09%2738%09316%09%0975%09773%09%09112%091326%2C%27%20+%0D%0A%09%09%09%09%09%2739%09325%09%0976%09786%09%09113%091342%2C%27%20+%0D%0A%09%09%09%09%09%2740%09334%09%0977%09800%09%09114%091359%2C%27%20+%0D%0A%09%09%09%09%09%2741%09344%09%0978%09814%09%09115%091376%2C%27%20+%0D%0A%09%09%09%09%09%2742%09354%09%0979%09828%09%09116%091392%2C%27%20+%0D%0A%09%09%09%09%09%2743%09364%09%0980%09841%09%09117%091409%2C%27%20+%0D%0A%09%09%09%09%09%2744%09374%09%0981%09855%09%09118%091426%2C%27%20+%0D%0A%09%09%09%09%09%2745%09385%09%0982%09869%09%09119%091442%2C%27%20+%0D%0A%09%09%09%09%09%2746%09396%09%0983%09883%09%09120%091459%2C%27%20+%0D%0A%09%09%09%09%09%2747%09408%09%0984%09897%09%09121%091476%2C%27%20+%0D%0A%09%09%09%09%09%2748%09420%09%0985%09911%09%09122%091494%2C%27%20+%0D%0A%09%09%09%09%09%2749%09432%09%0986%09926%09%09123%091511%2C%27%20+%0D%0A%09%09%09%09%09%2750%09443%09%0987%09940%09%09124%091528%2C%27%20+%0D%0A%09%09%09%09%09%2751%09455%09%0988%09955%09%09125%091546%2C%27%20+%0D%0A%09%09%09%09%09%2752%09467%09%0989%09969%09%09126%091563%2C%27%20+%0D%0A%09%09%09%09%09%2753%09478%09%0990%09984%09%09127%091580%2C%27%20+%0D%0A%09%09%09%09%09%2754%09490%09%0991%09999%09%09128%091598%2C%27%20+%0D%0A%09%09%09%09%09%2755%09503%09%0992%091014%09129%091615%2C%27%20+%0D%0A%09%09%09%09%09%2756%09516%09%0993%091029%09130%091632%2C%27%20+%0D%0A%09%09%09%09%09%2757%09530%09%0994%091044%09131%091650%2C%27%20+%0D%0A%09%09%09%09%09%2758%09544%09%0995%091059%09132%091667%2C%27%20+%0D%0A%09%09%09%09%09%2759%09559%09%0996%091074%09133%091684%2C%27%20+%0D%0A%09%09%09%09%09%2760%09573%09%0997%091089%09134%091702%2C%27%20%2C%0D%0A%20%20%20%09%09%0D%0A%0D%0A%09%7D%0D%0A%09%0D%0A%09%7D%3B%0D%0A%09%0D%0A%20%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%20%20%20%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%3C/script%3E%20%0D%0A%09%09%0D%0A%0D%0A%09%0D%0A%09%0D%0A%09%20%20%0D%0A%0D%0A%3C/body%3E%0D%0A%3C/html%3E';d=unescape(m);document.write(d);</script>